<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>CMA-ES - Wikipedia</title>
<script>document.documentElement.className="client-js";RLCONF={"wgBreakFrames":!1,"wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRequestId":"XkVTqwpAADkAAEWgS7QAAACE","wgCSPNonce":!1,"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":!1,"wgNamespaceNumber":0,"wgPageName":"CMA-ES","wgTitle":"CMA-ES","wgCurRevisionId":939438931,"wgRevisionId":939438931,"wgArticleId":8143131,"wgIsArticle":!0,"wgIsRedirect":!1,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Evolutionary algorithms","Stochastic optimization","Optimization algorithms and methods"],"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgRelevantPageName":"CMA-ES","wgRelevantArticleId":8143131,
"wgIsProbablyEditable":!0,"wgRelevantPageIsProbablyEditable":!0,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgMediaViewerOnClick":!0,"wgMediaViewerEnabledByDefault":!0,"wgPopupsReferencePreviews":!1,"wgPopupsConflictsWithNavPopupGadget":!1,"wgVisualEditor":{"pageLanguageCode":"en","pageLanguageDir":"ltr","pageVariantFallbacks":"en"},"wgMFDisplayWikibaseDescriptions":{"search":!0,"nearby":!0,"watchlist":!0,"tagline":!1},"wgWMESchemaEditAttemptStepOversample":!1,"wgULSCurrentAutonym":"English","wgNoticeProject":"wikipedia","wgWikibaseItemId":"Q505588","wgCentralAuthMobileDomain":!1,"wgEditSubmitButtonLabelPublish":!0};RLSTATE={"ext.globalCssJs.user.styles":"ready","site.styles":"ready","noscript":"ready","user.styles":"ready","ext.globalCssJs.user":"ready","user":"ready","user.options":"ready","user.tokens":"loading","ext.math.styles":"ready","ext.cite.styles":"ready","ext.pygments":"ready","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint"
:"ready","jquery.makeCollapsible.styles":"ready","mediawiki.toc.styles":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready","wikibase.client.init":"ready","ext.visualEditor.desktopArticleTarget.noscript":"ready","ext.uls.interlanguage":"ready","ext.wikimediaBadges":"ready"};RLPAGEMODULES=["ext.math.scripts","ext.cite.ux-enhancements","site","mediawiki.page.startup","skins.vector.js","mediawiki.page.ready","jquery.makeCollapsible","mediawiki.toc","ext.gadget.ReferenceTooltips","ext.gadget.watchlist-notice","ext.gadget.DRN-wizard","ext.gadget.charinsert","ext.gadget.refToolbar","ext.gadget.extra-toolbar-buttons","ext.gadget.switcher","ext.centralauth.centralautologin","mmv.head","mmv.bootstrap.autostart","ext.popups","ext.visualEditor.desktopArticleTarget.init","ext.visualEditor.targetLoader","ext.eventLogging","ext.wikimediaEvents","ext.navigationTiming","ext.uls.compactlinks","ext.uls.interface","ext.cx.eventlogging.campaigns","ext.quicksurveys.init",
"ext.centralNotice.geoIP","ext.centralNotice.startUp"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.implement("user.tokens@tffin",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});});</script>
<link rel="stylesheet" href="/w/load.php?lang=en&amp;modules=ext.cite.styles%7Cext.math.styles%7Cext.pygments%2CwikimediaBadges%7Cext.uls.interlanguage%7Cext.visualEditor.desktopArticleTarget.noscript%7Cjquery.makeCollapsible.styles%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.skinning.interface%7Cmediawiki.toc.styles%7Cskins.vector.styles%7Cwikibase.client.init&amp;only=styles&amp;skin=vector"/>
<script async="" src="/w/load.php?lang=en&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="/w/load.php?lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.35.0-wmf.18"/>
<meta name="referrer" content="origin"/>
<meta name="referrer" content="origin-when-crossorigin"/>
<meta name="referrer" content="origin-when-cross-origin"/>
<link rel="alternate" href="android-app://org.wikipedia/http/en.m.wikipedia.org/wiki/CMA-ES"/>
<link rel="alternate" type="application/x-wiki" title="Edit this page" href="/w/index.php?title=CMA-ES&amp;action=edit"/>
<link rel="edit" title="Edit this page" href="/w/index.php?title=CMA-ES&amp;action=edit"/>
<link rel="apple-touch-icon" href="/static/apple-touch/wikipedia.png"/>
<link rel="shortcut icon" href="/static/favicon/wikipedia.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="/w/opensearch_desc.php" title="Wikipedia (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="//en.wikipedia.org/w/api.php?action=rsd"/>
<link rel="license" href="//creativecommons.org/licenses/by-sa/3.0/"/>
<link rel="canonical" href="https://en.wikipedia.org/wiki/CMA-ES"/>
<link rel="dns-prefetch" href="//login.wikimedia.org"/>
<link rel="dns-prefetch" href="//meta.wikimedia.org" />
<!--[if lt IE 9]><script src="/w/resources/lib/html5shiv/html5shiv.js"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject mw-editable page-CMA-ES rootpage-CMA-ES skin-vector action-view">
<div id="mw-page-base" class="noprint"></div>
<div id="mw-head-base" class="noprint"></div>
<div id="content" class="mw-body" role="main">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"><!-- CentralNotice --></div>
	<div class="mw-indicators mw-body-content">
</div>

	<h1 id="firstHeading" class="firstHeading" lang="en">CMA-ES</h1>
	
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From Wikipedia, the free encyclopedia</div>
		<div id="contentSub"></div>
		
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#p-search">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><p><b>CMA-ES</b> stands for <i>covariance matrix adaptation evolution strategy</i>. <a href="/wiki/Evolution_strategies" class="mw-redirect" title="Evolution strategies">Evolution strategies</a> (ES) are <a href="/wiki/Stochastic" title="Stochastic">stochastic</a>, <a href="/wiki/Derivative-free_optimization" title="Derivative-free optimization">derivative-free methods</a> for <a href="/wiki/Numerical_optimization" class="mw-redirect" title="Numerical optimization">numerical optimization</a>  of non-<a href="/wiki/Linear_map" title="Linear map">linear</a> or non-<a href="/wiki/Convex_function" title="Convex function">convex</a> <a href="/wiki/Continuous_optimization" title="Continuous optimization">continuous optimization</a> problems. They belong to the class of <a href="/wiki/Evolutionary_algorithms" class="mw-redirect" title="Evolutionary algorithms">evolutionary algorithms</a> and <a href="/wiki/Evolutionary_computation" title="Evolutionary computation">evolutionary computation</a>.  An <a href="/wiki/Evolutionary_algorithm" title="Evolutionary algorithm">evolutionary algorithm</a> is broadly based on the principle of <a href="/wiki/Biological_evolution" class="mw-redirect" title="Biological evolution">biological evolution</a>, namely the repeated interplay of variation (via recombination and mutation) and selection: in each generation (iteration) new individuals (candidate solutions, denoted as <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle x}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>x</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle x}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/87f9e315fd7e2ba406057a97300593c4802b53e4" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:1.33ex; height:1.676ex;" alt="x"/></span>) are generated by variation, usually in a stochastic way, of the current parental individuals. Then, some individuals are selected to become the parents in the next generation based on their fitness or <a href="/wiki/Objective_function" class="mw-redirect" title="Objective function">objective function</a> value <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f(x)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>f</mi>
        <mo stretchy="false">(</mo>
        <mi>x</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f(x)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/202945cce41ecebb6f643f31d119c514bec7a074" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:4.418ex; height:2.843ex;" alt="f(x)"/></span>. Like this, over the generation sequence, individuals with better and better <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>f</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/132e57acb643253e7810ee9702d9581f159a1c61" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:1.279ex; height:2.509ex;" alt="f"/></span>-values are generated.
</p><p>In an <a href="/wiki/Evolution_strategy" title="Evolution strategy">evolution strategy</a>, new candidate solutions are sampled according to a <a href="/wiki/Multivariate_normal_distribution" title="Multivariate normal distribution">multivariate normal distribution</a> in <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \mathbb {R} ^{n}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msup>
          <mrow class="MJX-TeXAtom-ORD">
            <mi mathvariant="double-struck">R</mi>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>n</mi>
          </mrow>
        </msup>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \mathbb {R} ^{n}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/c510b63578322050121fe966f2e5770bea43308d" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:2.897ex; height:2.343ex;" alt="\mathbb {R} ^{n}"/></span>. Recombination amounts to selecting a new mean value for the distribution. Mutation amounts to adding a random vector, a perturbation with zero mean. Pairwise dependencies between the variables in the distribution are represented by a <a href="/wiki/Covariance_matrix" title="Covariance matrix">covariance matrix</a>. The covariance matrix adaptation (CMA) is a method to update the <a href="/wiki/Covariance_matrix" title="Covariance matrix">covariance matrix</a> of this distribution. This is particularly useful if the function <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>f</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/132e57acb643253e7810ee9702d9581f159a1c61" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:1.279ex; height:2.509ex;" alt="f"/></span> is <a href="/wiki/Ill-conditioned" class="mw-redirect" title="Ill-conditioned">ill-conditioned</a>.
</p><p>Adaptation of the <a href="/wiki/Covariance_matrix" title="Covariance matrix">covariance matrix</a> amounts to learning a second order model of the underlying <a href="/wiki/Objective_function" class="mw-redirect" title="Objective function">objective function</a> similar to the approximation of the inverse <a href="/wiki/Hessian_matrix" title="Hessian matrix">Hessian matrix</a> in the <a href="/wiki/Quasi-Newton_method" title="Quasi-Newton method">Quasi-Newton method</a> in classical <a href="/wiki/Optimization_(mathematics)" class="mw-redirect" title="Optimization (mathematics)">optimization</a>. In contrast to most classical methods, fewer assumptions on the nature of the underlying objective function are made. Only the ranking between candidate solutions is exploited for learning the sample distribution and neither derivatives nor even the function values themselves are required by the method.
</p>
<div id="toc" class="toc"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none" /><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Principles"><span class="tocnumber">1</span> <span class="toctext">Principles</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Algorithm"><span class="tocnumber">2</span> <span class="toctext">Algorithm</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Example_code_in_MATLAB/Octave"><span class="tocnumber">3</span> <span class="toctext">Example code in MATLAB/Octave</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Theoretical_foundations"><span class="tocnumber">4</span> <span class="toctext">Theoretical foundations</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Variable_metric"><span class="tocnumber">4.1</span> <span class="toctext">Variable metric</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Maximum-likelihood_updates"><span class="tocnumber">4.2</span> <span class="toctext">Maximum-likelihood updates</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Natural_gradient_descent_in_the_space_of_sample_distributions"><span class="tocnumber">4.3</span> <span class="toctext">Natural gradient descent in the space of sample distributions</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Stationarity_or_unbiasedness"><span class="tocnumber">4.4</span> <span class="toctext">Stationarity or unbiasedness</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Invariance"><span class="tocnumber">4.5</span> <span class="toctext">Invariance</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Convergence"><span class="tocnumber">4.6</span> <span class="toctext">Convergence</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Interpretation_as_coordinate-system_transformation"><span class="tocnumber">4.7</span> <span class="toctext">Interpretation as coordinate-system transformation</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-12"><a href="#Performance_in_practice"><span class="tocnumber">5</span> <span class="toctext">Performance in practice</span></a></li>
<li class="toclevel-1 tocsection-13"><a href="#Variations_and_extensions"><span class="tocnumber">6</span> <span class="toctext">Variations and extensions</span></a></li>
<li class="toclevel-1 tocsection-14"><a href="#See_also"><span class="tocnumber">7</span> <span class="toctext">See also</span></a></li>
<li class="toclevel-1 tocsection-15"><a href="#References"><span class="tocnumber">8</span> <span class="toctext">References</span></a></li>
<li class="toclevel-1 tocsection-16"><a href="#Bibliography"><span class="tocnumber">9</span> <span class="toctext">Bibliography</span></a></li>
<li class="toclevel-1 tocsection-17"><a href="#External_links"><span class="tocnumber">10</span> <span class="toctext">External links</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Principles">Principles</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=CMA-ES&amp;action=edit&amp;section=1" title="Edit section: Principles">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<div class="thumb tright"><div class="thumbinner" style="width:402px;"><a href="/wiki/File:Concept_of_directional_optimization_in_CMA-ES_algorithm.png" class="image"><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/d/d8/Concept_of_directional_optimization_in_CMA-ES_algorithm.png/400px-Concept_of_directional_optimization_in_CMA-ES_algorithm.png" decoding="async" width="400" height="265" class="thumbimage" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/d/d8/Concept_of_directional_optimization_in_CMA-ES_algorithm.png/600px-Concept_of_directional_optimization_in_CMA-ES_algorithm.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/d/d8/Concept_of_directional_optimization_in_CMA-ES_algorithm.png/800px-Concept_of_directional_optimization_in_CMA-ES_algorithm.png 2x" data-file-width="1200" data-file-height="795" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:Concept_of_directional_optimization_in_CMA-ES_algorithm.png" class="internal" title="Enlarge"></a></div>Illustration of an actual optimization run with covariance matrix adaptation on a simple two-dimensional problem. The spherical optimization landscape is depicted with solid lines of equal <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>f</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/132e57acb643253e7810ee9702d9581f159a1c61" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:1.279ex; height:2.509ex;" alt="f"/></span>-values. The population (dots) is much larger than necessary, but clearly shows how the distribution of the population (dotted line) changes during the optimization. On this simple problem, the population concentrates over the global optimum within a few generations.</div></div></div>
<p>Two main principles for the adaptation of parameters of the search distribution are exploited in the CMA-ES algorithm.
</p><p>First, a <a href="/wiki/Maximum-likelihood" class="mw-redirect" title="Maximum-likelihood">maximum-likelihood</a> principle, based on the idea to increase the probability of successful candidate solutions and search steps. The mean of the distribution is updated such that the <a href="/wiki/Likelihood" class="mw-redirect" title="Likelihood">likelihood</a> of previously successful candidate solutions is maximized. The <a href="/wiki/Covariance_matrix" title="Covariance matrix">covariance matrix</a> of the distribution is updated (incrementally) such that the likelihood of previously successful search steps is increased. Both updates can be interpreted as a <a href="/wiki/Information_geometry#Natural_gradient" title="Information geometry">natural gradient</a> descent. Also, in consequence, the CMA conducts an iterated <a href="/wiki/Principal_components_analysis" class="mw-redirect" title="Principal components analysis">principal components analysis</a> of successful search steps while retaining <i>all</i> principal axes. <a href="/wiki/Estimation_of_Distribution_Algorithms" class="mw-redirect" title="Estimation of Distribution Algorithms">Estimation of distribution algorithms</a> and the <a href="/wiki/Cross-Entropy_Method" class="mw-redirect" title="Cross-Entropy Method">Cross-Entropy Method</a> are based on very similar ideas, but estimate (non-incrementally) the covariance matrix by maximizing the likelihood of successful solution <i>points</i> instead of successful search <i>steps</i>.
</p><p>Second, two paths of the time evolution of the distribution mean of the strategy are recorded, called search or evolution paths. These paths contain significant information about the correlation between consecutive steps. Specifically, if consecutive steps are taken in a similar direction, the evolution paths become long. The evolution paths are exploited in two ways. One path is used for the covariance matrix adaptation procedure in place of single successful search steps and facilitates a possibly much faster variance increase of favorable directions. The other path is used to conduct an additional step-size control. This step-size control aims to make consecutive movements of the distribution mean orthogonal in expectation. The step-size control effectively prevents <a href="/wiki/Premature_convergence" title="Premature convergence">premature convergence</a> yet allowing fast convergence to an optimum.
</p>
<h2><span class="mw-headline" id="Algorithm">Algorithm</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=CMA-ES&amp;action=edit&amp;section=2" title="Edit section: Algorithm">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>In the following the most commonly used (μ/μ<sub>w</sub>, λ)-CMA-ES is outlined, where in each iteration step a weighted combination of the μ best out of λ new candidate solutions is used to update the distribution parameters. The main loop consists of three main parts: 1) sampling of new solutions, 2) re-ordering of the sampled solutions based on their fitness, 3) update of the internal state variables based on the re-ordered samples. A <a href="/wiki/Pseudocode" title="Pseudocode">pseudocode</a> of the algorithm looks as follows.
</p>
<pre><b>set</b> <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \lambda }">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>&#x03BB;<!-- λ --></mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \lambda }</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/b43d0ea3c9c025af1be9128e62a18fa74bedda2a" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:1.355ex; height:2.176ex;" alt="\lambda "/></span>  // number of samples per iteration, at least two, generally &gt; 4
<b>initialize</b> <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle m}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>m</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle m}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/0a07d98bb302f3856cbabc47b2b9016692e3f7bc" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:2.04ex; height:1.676ex;" alt="m"/></span>, <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \sigma }">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>&#x03C3;<!-- σ --></mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \sigma }</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/59f59b7c3e6fdb1d0365a494b81fb9a696138c36" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:1.33ex; height:1.676ex;" alt="\sigma "/></span>, <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle C=I}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>C</mi>
        <mo>=</mo>
        <mi>I</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle C=I}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/0e7945f445688c1d706436f645f853f1851410af" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:6.037ex; height:2.176ex;" alt="C=I"/></span>, <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle p_{\sigma }=0}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>p</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>&#x03C3;<!-- σ --></mi>
          </mrow>
        </msub>
        <mo>=</mo>
        <mn>0</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle p_{\sigma }=0}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/1f61bb99b7b5efe23a8c24774b5677ab93c68ed8" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; margin-left: -0.089ex; width:6.692ex; height:2.509ex;" alt="p_{\sigma }=0"/></span>, <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle p_{c}=0}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>p</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>c</mi>
          </mrow>
        </msub>
        <mo>=</mo>
        <mn>0</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle p_{c}=0}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/b23fbbfb9d75d2651e3cb1ff3ff639f117b4be18" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; margin-left: -0.089ex; width:6.464ex; height:2.509ex;" alt="p_{c}=0"/></span>  // initialize state variables
<b>while</b> <i>not terminate</i> <b>do</b>  // iterate
    <b>for</b> <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle i}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>i</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle i}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/add78d8608ad86e54951b8c8bd6c8d8416533d20" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:0.802ex; height:2.176ex;" alt="i"/></span> <b>in</b> <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \{1...\lambda \}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo fence="false" stretchy="false">{</mo>
        <mn>1...</mn>
        <mi>&#x03BB;<!-- λ --></mi>
        <mo fence="false" stretchy="false">}</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \{1...\lambda \}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/af148f7cb04ebc0a2a5d72b05bdef5b82e6a43fb" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:6.783ex; height:2.843ex;" alt="\{1...\lambda \}"/></span> <b>do</b>  // sample <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \lambda }">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>&#x03BB;<!-- λ --></mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \lambda }</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/b43d0ea3c9c025af1be9128e62a18fa74bedda2a" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:1.355ex; height:2.176ex;" alt="\lambda "/></span> new solutions and evaluate them
        <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle x_{i}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>x</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>i</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle x_{i}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/e87000dd6142b81d041896a30fe58f0c3acb2158" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:2.129ex; height:2.009ex;" alt="x_{i}"/></span> = sample_multivariate_normal(mean=<span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle m}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>m</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle m}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/0a07d98bb302f3856cbabc47b2b9016692e3f7bc" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:2.04ex; height:1.676ex;" alt="m"/></span>, covariance_matrix=<span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \sigma ^{2}C}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msup>
          <mi>&#x03C3;<!-- σ --></mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msup>
        <mi>C</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \sigma ^{2}C}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/6bb95bf85ea696f04202e50208e76ef0374eae79" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:4.151ex; height:2.676ex;" alt="\sigma ^{2}C"/></span>)
        <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{i}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>i</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{i}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/65da883ca3d16b461e46c94777b0d9c4aa010e79" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:1.939ex; height:2.509ex;" alt="f_{i}"/></span> = fitness(<span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle x_{i}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>x</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>i</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle x_{i}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/e87000dd6142b81d041896a30fe58f0c3acb2158" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:2.129ex; height:2.009ex;" alt="x_{i}"/></span>)
    <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle x_{1...\lambda }}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>x</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>1...</mn>
            <mi>&#x03BB;<!-- λ --></mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle x_{1...\lambda }}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/57f7e17c02a24adbb191ecaa40a04df6e452e55f" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:4.714ex; height:2.009ex;" alt="x_{{1...\lambda }}"/></span> &#8592; <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle x_{s(1)...s(\lambda )}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>x</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>s</mi>
            <mo stretchy="false">(</mo>
            <mn>1</mn>
            <mo stretchy="false">)</mo>
            <mo>.</mo>
            <mo>.</mo>
            <mo>.</mo>
            <mi>s</mi>
            <mo stretchy="false">(</mo>
            <mi>&#x03BB;<!-- λ --></mi>
            <mo stretchy="false">)</mo>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle x_{s(1)...s(\lambda )}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/b38547f9a90fc874ce536bb1f2620df1b579b0c5" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -1.171ex; width:8.815ex; height:2.509ex;" alt="x_{{s(1)...s(\lambda )}}"/></span> with <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle s(i)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>s</mi>
        <mo stretchy="false">(</mo>
        <mi>i</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle s(i)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/ca652f0961e929728bdec4b5a6bdeacbbcf6d9e9" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:3.702ex; height:2.843ex;" alt="s(i)"/></span> = argsort(<span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f_{1...\lambda }}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>f</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>1...</mn>
            <mi>&#x03BB;<!-- λ --></mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f_{1...\lambda }}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/4ac64ae8b1cefcf64adbd1d9c5a7af3258eaa47f" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:4.524ex; height:2.509ex;" alt="f_{{1...\lambda }}"/></span>, <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle i}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>i</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle i}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/add78d8608ad86e54951b8c8bd6c8d8416533d20" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:0.802ex; height:2.176ex;" alt="i"/></span>)  // sort solutions
    <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle m'}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msup>
          <mi>m</mi>
          <mo>&#x2032;</mo>
        </msup>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle m'}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/b2ea8347f7588b19652c2098395f059d76b12b60" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:2.725ex; height:2.509ex;" alt="m&#039;"/></span> = <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle m}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>m</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle m}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/0a07d98bb302f3856cbabc47b2b9016692e3f7bc" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:2.04ex; height:1.676ex;" alt="m"/></span>  // we need later <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle m-m'}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>m</mi>
        <mo>&#x2212;<!-- − --></mo>
        <msup>
          <mi>m</mi>
          <mo>&#x2032;</mo>
        </msup>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle m-m'}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/68255a60e1cf9871b801b0419a99ba93ac0e18a0" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.505ex; width:7.606ex; height:2.676ex;" alt="m-m&#039;"/></span> and <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle x_{i}-m'}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>x</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>i</mi>
          </mrow>
        </msub>
        <mo>&#x2212;<!-- − --></mo>
        <msup>
          <mi>m</mi>
          <mo>&#x2032;</mo>
        </msup>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle x_{i}-m'}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/5ce2c3d7fb7659271e345a19d540a764ec71fae1" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:7.695ex; height:2.843ex;" alt="x_{i}-m&#039;"/></span>       
    <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle m}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>m</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle m}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/0a07d98bb302f3856cbabc47b2b9016692e3f7bc" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:2.04ex; height:1.676ex;" alt="m"/></span> &#8592; update_m<span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle (x_{1},...,}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo stretchy="false">(</mo>
        <msub>
          <mi>x</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>1</mn>
          </mrow>
        </msub>
        <mo>,</mo>
        <mo>.</mo>
        <mo>.</mo>
        <mo>.</mo>
        <mo>,</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle (x_{1},...,}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/5bf0e0459f456b48f940f0af4d125b335946b921" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:8.071ex; height:2.843ex;" alt="(x_{1},...,"/></span> <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle x_{\lambda })}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>x</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>&#x03BB;<!-- λ --></mi>
          </mrow>
        </msub>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle x_{\lambda })}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/6c7478be3c0845f14c7e3ea4e8196d0929919113" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:3.425ex; height:2.843ex;" alt="x_{\lambda })"/></span>  // move mean to better solutions 
    <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle p_{\sigma }}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>p</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>&#x03C3;<!-- σ --></mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle p_{\sigma }}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/6038f411ed45fd574bff054df13006bde88ef427" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; margin-left: -0.089ex; width:2.431ex; height:2.009ex;" alt="p_{\sigma }"/></span> &#8592; update_ps<span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle (p_{\sigma },}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo stretchy="false">(</mo>
        <msub>
          <mi>p</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>&#x03C3;<!-- σ --></mi>
          </mrow>
        </msub>
        <mo>,</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle (p_{\sigma },}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/f9bd9bdf8e455fa9d6283d5be6d0dcfe28419a13" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:3.893ex; height:2.843ex;" alt="(p_{\sigma },"/></span> <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \sigma ^{-1}C^{-1/2}(m-m'))}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msup>
          <mi>&#x03C3;<!-- σ --></mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mo>&#x2212;<!-- − --></mo>
            <mn>1</mn>
          </mrow>
        </msup>
        <msup>
          <mi>C</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mo>&#x2212;<!-- − --></mo>
            <mn>1</mn>
            <mrow class="MJX-TeXAtom-ORD">
              <mo>/</mo>
            </mrow>
            <mn>2</mn>
          </mrow>
        </msup>
        <mo stretchy="false">(</mo>
        <mi>m</mi>
        <mo>&#x2212;<!-- − --></mo>
        <msup>
          <mi>m</mi>
          <mo>&#x2032;</mo>
        </msup>
        <mo stretchy="false">)</mo>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \sigma ^{-1}C^{-1/2}(m-m'))}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/5815ba69c6a270290a51141d900512ade11c63a1" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:19.758ex; height:3.343ex;" alt="\sigma ^{{-1}}C^{{-1/2}}(m-m&#039;))"/></span>  // update isotropic evolution path
    <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle p_{c}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>p</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>c</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle p_{c}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/836639c3805ca867b1ff24dc6db7a6b24fc69158" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; margin-left: -0.089ex; width:2.203ex; height:2.009ex;" alt="p_{c}"/></span> &#8592; update_pc<span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle (p_{c},}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo stretchy="false">(</mo>
        <msub>
          <mi>p</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>c</mi>
          </mrow>
        </msub>
        <mo>,</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle (p_{c},}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/a361bc0bccd848c1f394c59d3f6dcbc23dd38e23" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:3.665ex; height:2.843ex;" alt="(p_{c},"/></span> <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \sigma ^{-1}(m-m'),}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msup>
          <mi>&#x03C3;<!-- σ --></mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mo>&#x2212;<!-- − --></mo>
            <mn>1</mn>
          </mrow>
        </msup>
        <mo stretchy="false">(</mo>
        <mi>m</mi>
        <mo>&#x2212;<!-- − --></mo>
        <msup>
          <mi>m</mi>
          <mo>&#x2032;</mo>
        </msup>
        <mo stretchy="false">)</mo>
        <mo>,</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \sigma ^{-1}(m-m'),}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/5864a1aa6253f717c56d75cd96b9b2a1e95e736a" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:13.725ex; height:3.176ex;" alt="\sigma ^{{-1}}(m-m&#039;),"/></span> <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle ||p_{\sigma }||)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <msub>
          <mi>p</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>&#x03C3;<!-- σ --></mi>
          </mrow>
        </msub>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle ||p_{\sigma }||)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/fd47bb9e4fd7747d801834539ce7042fc69d956e" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:5.834ex; height:2.843ex;" alt="||p_{\sigma }||)"/></span>  // update anisotropic evolution path
    <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle C}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>C</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle C}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/4fc55753007cd3c18576f7933f6f089196732029" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:1.766ex; height:2.176ex;" alt="C"/></span> &#8592; update_C<span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle (C,}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo stretchy="false">(</mo>
        <mi>C</mi>
        <mo>,</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle (C,}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/7748d4f9a139f7b8ebf3eb4c0ec52a67bd249d12" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:3.318ex; height:2.843ex;" alt="(C,"/></span> <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle p_{c},}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>p</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>c</mi>
          </mrow>
        </msub>
        <mo>,</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle p_{c},}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/4c3fe236f784a5404421d8bd0b1f1850096e088a" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; margin-left: -0.089ex; width:2.85ex; height:2.009ex;" alt="p_{c},"/></span> <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle {(x_{1}-m')}/{\sigma },...,}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">(</mo>
          <msub>
            <mi>x</mi>
            <mrow class="MJX-TeXAtom-ORD">
              <mn>1</mn>
            </mrow>
          </msub>
          <mo>&#x2212;<!-- − --></mo>
          <msup>
            <mi>m</mi>
            <mo>&#x2032;</mo>
          </msup>
          <mo stretchy="false">)</mo>
        </mrow>
        <mrow class="MJX-TeXAtom-ORD">
          <mo>/</mo>
        </mrow>
        <mrow class="MJX-TeXAtom-ORD">
          <mi>&#x03C3;<!-- σ --></mi>
        </mrow>
        <mo>,</mo>
        <mo>.</mo>
        <mo>.</mo>
        <mo>.</mo>
        <mo>,</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle {(x_{1}-m')}/{\sigma },...,}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/f828210fa04bbb5dc717dc765596f1cebfdbb19c" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:17.033ex; height:3.009ex;" alt="{(x_{1}-m&#039;)}/{\sigma },...,"/></span> <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle {(x_{\lambda }-m')}/{\sigma })}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">(</mo>
          <msub>
            <mi>x</mi>
            <mrow class="MJX-TeXAtom-ORD">
              <mi>&#x03BB;<!-- λ --></mi>
            </mrow>
          </msub>
          <mo>&#x2212;<!-- − --></mo>
          <msup>
            <mi>m</mi>
            <mo>&#x2032;</mo>
          </msup>
          <mo stretchy="false">)</mo>
        </mrow>
        <mrow class="MJX-TeXAtom-ORD">
          <mo>/</mo>
        </mrow>
        <mrow class="MJX-TeXAtom-ORD">
          <mi>&#x03C3;<!-- σ --></mi>
        </mrow>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle {(x_{\lambda }-m')}/{\sigma })}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/740d7d0a2fa4283b761fc0eddcfa51a2b8863db1" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:13.292ex; height:3.009ex;" alt="{(x_{\lambda }-m&#039;)}/{\sigma })"/></span>  // update covariance matrix
    <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \sigma }">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>&#x03C3;<!-- σ --></mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \sigma }</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/59f59b7c3e6fdb1d0365a494b81fb9a696138c36" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:1.33ex; height:1.676ex;" alt="\sigma "/></span> &#8592; update_sigma<span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle (\sigma ,}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo stretchy="false">(</mo>
        <mi>&#x03C3;<!-- σ --></mi>
        <mo>,</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle (\sigma ,}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/697d5ace6ef030d5af4e9707136d0cb4c5011174" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:2.881ex; height:2.843ex;" alt="(\sigma ,"/></span> <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle ||p_{\sigma }||)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <msub>
          <mi>p</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>&#x03C3;<!-- σ --></mi>
          </mrow>
        </msub>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle ||p_{\sigma }||)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/fd47bb9e4fd7747d801834539ce7042fc69d956e" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:5.834ex; height:2.843ex;" alt="||p_{\sigma }||)"/></span>  // update step-size using isotropic path length
<b>return</b> <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle m}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>m</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle m}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/0a07d98bb302f3856cbabc47b2b9016692e3f7bc" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:2.04ex; height:1.676ex;" alt="m"/></span> or <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle x_{1}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>x</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>1</mn>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle x_{1}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/a8788bf85d532fa88d1fb25eff6ae382a601c308" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:2.384ex; height:2.009ex;" alt="x_{1}"/></span>
</pre>
<p>The order of the five update assignments is relevant: <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle m}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>m</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle m}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/0a07d98bb302f3856cbabc47b2b9016692e3f7bc" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:2.04ex; height:1.676ex;" alt="m"/></span> must be updated first, <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle p_{\sigma }}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>p</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>&#x03C3;<!-- σ --></mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle p_{\sigma }}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/6038f411ed45fd574bff054df13006bde88ef427" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; margin-left: -0.089ex; width:2.431ex; height:2.009ex;" alt="p_{\sigma }"/></span> and <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle p_{c}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>p</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>c</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle p_{c}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/836639c3805ca867b1ff24dc6db7a6b24fc69158" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; margin-left: -0.089ex; width:2.203ex; height:2.009ex;" alt="p_{c}"/></span> must be updated before <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle C}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>C</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle C}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/4fc55753007cd3c18576f7933f6f089196732029" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:1.766ex; height:2.176ex;" alt="C"/></span>, and <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \sigma }">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>&#x03C3;<!-- σ --></mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \sigma }</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/59f59b7c3e6fdb1d0365a494b81fb9a696138c36" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:1.33ex; height:1.676ex;" alt="\sigma "/></span> must be updated last. In the following, the update equations for the five state variables are specified.
</p><p>Given are the search space dimension <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle n}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>n</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle n}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/a601995d55609f2d9f5e233e36fbe9ea26011b3b" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:1.395ex; height:1.676ex;" alt="n"/></span> and the iteration step <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle k}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>k</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle k}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/c3c9a2c7b599b37105512c5d570edc034056dd40" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:1.211ex; height:2.176ex;" alt="k"/></span>. The five state variables are
</p>
<dl><dd><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle m_{k}\in \mathbb {R} ^{n}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>m</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </msub>
        <mo>&#x2208;<!-- ∈ --></mo>
        <msup>
          <mrow class="MJX-TeXAtom-ORD">
            <mi mathvariant="double-struck">R</mi>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>n</mi>
          </mrow>
        </msup>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle m_{k}\in \mathbb {R} ^{n}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/0e9ab0c4b2b6b31065208488489543186e0e1489" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:8.866ex; height:2.676ex;" alt="m_{k}\in {\mathbb  {R}}^{n}"/></span>, the distribution mean and current favorite solution to the optimization problem,</dd></dl>
<dl><dd><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \sigma _{k}&gt;0}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>&#x03C3;<!-- σ --></mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </msub>
        <mo>&gt;</mo>
        <mn>0</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \sigma _{k}&gt;0}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/32efc0269ab8e504acd8a014a874a49466db72ce" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:6.677ex; height:2.509ex;" alt="\sigma _{k}&gt;0"/></span>, the step-size,</dd></dl>
<dl><dd><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle C_{k}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>C</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle C_{k}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/1a0887b56787ba96e79de2b9f5c6ff30aabad1c6" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:2.751ex; height:2.509ex;" alt="C_{k}"/></span>, a symmetric and <a href="/wiki/Positive-definite_matrix" class="mw-redirect" title="Positive-definite matrix">positive definite</a> <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle n\times n}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>n</mi>
        <mo>&#x00D7;<!-- × --></mo>
        <mi>n</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle n\times n}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/59d2b4cb72e304526cf5b5887147729ea259da78" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:5.63ex; height:1.676ex;" alt="n\times n"/></span> <a href="/wiki/Covariance_matrix" title="Covariance matrix">covariance matrix</a> with <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle C_{0}=I}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>C</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>0</mn>
          </mrow>
        </msub>
        <mo>=</mo>
        <mi>I</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle C_{0}=I}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/9762f14b33a1ce66dc14fba9ad1fa075e7faa194" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:6.986ex; height:2.509ex;" alt="C_{0}=I"/></span> and</dd></dl>
<dl><dd><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle p_{\sigma }\in \mathbb {R} ^{n},p_{c}\in \mathbb {R} ^{n}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>p</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>&#x03C3;<!-- σ --></mi>
          </mrow>
        </msub>
        <mo>&#x2208;<!-- ∈ --></mo>
        <msup>
          <mrow class="MJX-TeXAtom-ORD">
            <mi mathvariant="double-struck">R</mi>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>n</mi>
          </mrow>
        </msup>
        <mo>,</mo>
        <msub>
          <mi>p</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>c</mi>
          </mrow>
        </msub>
        <mo>&#x2208;<!-- ∈ --></mo>
        <msup>
          <mrow class="MJX-TeXAtom-ORD">
            <mi mathvariant="double-struck">R</mi>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>n</mi>
          </mrow>
        </msup>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle p_{\sigma }\in \mathbb {R} ^{n},p_{c}\in \mathbb {R} ^{n}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/094f92871dbb04d4b7326e004d702f3dcfa39966" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; margin-left: -0.089ex; width:17.053ex; height:2.676ex;" alt="p_{\sigma }\in {\mathbb  {R}}^{n},p_{c}\in {\mathbb  {R}}^{n}"/></span>, two evolution paths, initially set to the zero vector.</dd></dl>
<p>The iteration starts with sampling <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \lambda &gt;1}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>&#x03BB;<!-- λ --></mi>
        <mo>&gt;</mo>
        <mn>1</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \lambda &gt;1}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/db907bc2da64805ec8698ef70da1531773faccc0" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:5.616ex; height:2.176ex;" alt="\lambda &gt;1"/></span> candidate solutions <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle x_{i}\in \mathbb {R} ^{n}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>x</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>i</mi>
          </mrow>
        </msub>
        <mo>&#x2208;<!-- ∈ --></mo>
        <msup>
          <mrow class="MJX-TeXAtom-ORD">
            <mi mathvariant="double-struck">R</mi>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>n</mi>
          </mrow>
        </msup>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle x_{i}\in \mathbb {R} ^{n}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/438f20ed42db6548307050c6c0bbe1c3cfd8522e" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:7.867ex; height:2.676ex;" alt="x_{i}\in {\mathbb  {R}}^{n}"/></span> from a <a href="/wiki/Multivariate_normal_distribution" title="Multivariate normal distribution">multivariate normal distribution</a> <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \textstyle {\mathcal {N}}(m_{k},\sigma _{k}^{2}C_{k})}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mstyle displaystyle="false" scriptlevel="0">
          <mrow class="MJX-TeXAtom-ORD">
            <mrow class="MJX-TeXAtom-ORD">
              <mi class="MJX-tex-caligraphic" mathvariant="script">N</mi>
            </mrow>
          </mrow>
          <mo stretchy="false">(</mo>
          <msub>
            <mi>m</mi>
            <mrow class="MJX-TeXAtom-ORD">
              <mi>k</mi>
            </mrow>
          </msub>
          <mo>,</mo>
          <msubsup>
            <mi>&#x03C3;<!-- σ --></mi>
            <mrow class="MJX-TeXAtom-ORD">
              <mi>k</mi>
            </mrow>
            <mrow class="MJX-TeXAtom-ORD">
              <mn>2</mn>
            </mrow>
          </msubsup>
          <msub>
            <mi>C</mi>
            <mrow class="MJX-TeXAtom-ORD">
              <mi>k</mi>
            </mrow>
          </msub>
          <mo stretchy="false">)</mo>
        </mstyle>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \textstyle {\mathcal {N}}(m_{k},\sigma _{k}^{2}C_{k})}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/b7862949b7f224266b33697fab4d7944956e9ce0" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -1.005ex; margin-left: -0.062ex; width:13.476ex; height:3.176ex;" alt="\textstyle {\mathcal  {N}}(m_{k},\sigma _{k}^{2}C_{k})"/></span>, i.e. 
for <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle i=1,...,\lambda }">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>i</mi>
        <mo>=</mo>
        <mn>1</mn>
        <mo>,</mo>
        <mo>.</mo>
        <mo>.</mo>
        <mo>.</mo>
        <mo>,</mo>
        <mi>&#x03BB;<!-- λ --></mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle i=1,...,\lambda }</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/285332158a51b9a07019052e4eb77093319ad721" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:11.588ex; height:2.509ex;" alt="i=1,...,\lambda "/></span>
</p>
<dl><dd><dl><dd><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle {\begin{aligned}x_{i}\ &amp;\sim \ {\mathcal {N}}(m_{k},\sigma _{k}^{2}C_{k})\\&amp;\sim \ m_{k}+\sigma _{k}\times {\mathcal {N}}(0,C_{k})\end{aligned}}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mrow class="MJX-TeXAtom-ORD">
          <mtable columnalign="right left right left right left right left right left right left" rowspacing="3pt" columnspacing="0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em" displaystyle="true">
            <mtr>
              <mtd>
                <msub>
                  <mi>x</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>i</mi>
                  </mrow>
                </msub>
                <mtext>&#xA0;</mtext>
              </mtd>
              <mtd>
                <mi></mi>
                <mo>&#x223C;<!-- ∼ --></mo>
                <mtext>&#xA0;</mtext>
                <mrow class="MJX-TeXAtom-ORD">
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi class="MJX-tex-caligraphic" mathvariant="script">N</mi>
                  </mrow>
                </mrow>
                <mo stretchy="false">(</mo>
                <msub>
                  <mi>m</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>k</mi>
                  </mrow>
                </msub>
                <mo>,</mo>
                <msubsup>
                  <mi>&#x03C3;<!-- σ --></mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>k</mi>
                  </mrow>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mn>2</mn>
                  </mrow>
                </msubsup>
                <msub>
                  <mi>C</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>k</mi>
                  </mrow>
                </msub>
                <mo stretchy="false">)</mo>
              </mtd>
            </mtr>
            <mtr>
              <mtd />
              <mtd>
                <mi></mi>
                <mo>&#x223C;<!-- ∼ --></mo>
                <mtext>&#xA0;</mtext>
                <msub>
                  <mi>m</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>k</mi>
                  </mrow>
                </msub>
                <mo>+</mo>
                <msub>
                  <mi>&#x03C3;<!-- σ --></mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>k</mi>
                  </mrow>
                </msub>
                <mo>&#x00D7;<!-- × --></mo>
                <mrow class="MJX-TeXAtom-ORD">
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi class="MJX-tex-caligraphic" mathvariant="script">N</mi>
                  </mrow>
                </mrow>
                <mo stretchy="false">(</mo>
                <mn>0</mn>
                <mo>,</mo>
                <msub>
                  <mi>C</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>k</mi>
                  </mrow>
                </msub>
                <mo stretchy="false">)</mo>
              </mtd>
            </mtr>
          </mtable>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle {\begin{aligned}x_{i}\ &amp;\sim \ {\mathcal {N}}(m_{k},\sigma _{k}^{2}C_{k})\\&amp;\sim \ m_{k}+\sigma _{k}\times {\mathcal {N}}(0,C_{k})\end{aligned}}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/35f72322dac2dc1d48161b044d2b1ce7948b78f1" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -2.505ex; width:27.398ex; height:6.176ex;" alt="{\begin{aligned}x_{i}\ &amp;\sim \ {\mathcal  {N}}(m_{k},\sigma _{k}^{2}C_{k})\\&amp;\sim \ m_{k}+\sigma _{k}\times {\mathcal  {N}}(0,C_{k})\end{aligned}}"/></span></dd></dl></dd></dl>
<p>The second line suggests the interpretation as perturbation (mutation) of the current favorite solution vector <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle m_{k}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>m</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle m_{k}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/0d5e3b1ba705c5adda8381cb22580d26d64968f8" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:3.129ex; height:2.009ex;" alt="m_{k}"/></span> (the distribution mean vector). The candidate solutions <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle x_{i}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>x</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>i</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle x_{i}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/e87000dd6142b81d041896a30fe58f0c3acb2158" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:2.129ex; height:2.009ex;" alt="x_{i}"/></span> are evaluated on the objective function <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f:\mathbb {R} ^{n}\to \mathbb {R} }">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>f</mi>
        <mo>:</mo>
        <msup>
          <mrow class="MJX-TeXAtom-ORD">
            <mi mathvariant="double-struck">R</mi>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>n</mi>
          </mrow>
        </msup>
        <mo stretchy="false">&#x2192;<!-- → --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mi mathvariant="double-struck">R</mi>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f:\mathbb {R} ^{n}\to \mathbb {R} }</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/306c097f43c91dce633d12cde024948d39e73752" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:11.404ex; height:2.676ex;" alt="f:{\mathbb  {R}}^{n}\to {\mathbb  {R}}"/></span> to be minimized.  Denoting the <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>f</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/132e57acb643253e7810ee9702d9581f159a1c61" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:1.279ex; height:2.509ex;" alt="f"/></span>-sorted candidate solutions as
</p>
<dl><dd><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \{x_{i:\lambda }\;|\;i=1\dots \lambda \}=\{x_{i}\;|\;i=1\dots \lambda \}\;\;{\text{and}}\;\;f(x_{1:\lambda })\leq \dots \leq f(x_{\mu :\lambda })\leq f(x_{\mu +1:\lambda })\dots ,}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo fence="false" stretchy="false">{</mo>
        <msub>
          <mi>x</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>i</mi>
            <mo>:</mo>
            <mi>&#x03BB;<!-- λ --></mi>
          </mrow>
        </msub>
        <mspace width="thickmathspace" />
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mspace width="thickmathspace" />
        <mi>i</mi>
        <mo>=</mo>
        <mn>1</mn>
        <mo>&#x2026;<!-- … --></mo>
        <mi>&#x03BB;<!-- λ --></mi>
        <mo fence="false" stretchy="false">}</mo>
        <mo>=</mo>
        <mo fence="false" stretchy="false">{</mo>
        <msub>
          <mi>x</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>i</mi>
          </mrow>
        </msub>
        <mspace width="thickmathspace" />
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mspace width="thickmathspace" />
        <mi>i</mi>
        <mo>=</mo>
        <mn>1</mn>
        <mo>&#x2026;<!-- … --></mo>
        <mi>&#x03BB;<!-- λ --></mi>
        <mo fence="false" stretchy="false">}</mo>
        <mspace width="thickmathspace" />
        <mspace width="thickmathspace" />
        <mrow class="MJX-TeXAtom-ORD">
          <mtext>and</mtext>
        </mrow>
        <mspace width="thickmathspace" />
        <mspace width="thickmathspace" />
        <mi>f</mi>
        <mo stretchy="false">(</mo>
        <msub>
          <mi>x</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>1</mn>
            <mo>:</mo>
            <mi>&#x03BB;<!-- λ --></mi>
          </mrow>
        </msub>
        <mo stretchy="false">)</mo>
        <mo>&#x2264;<!-- ≤ --></mo>
        <mo>&#x22EF;<!-- ⋯ --></mo>
        <mo>&#x2264;<!-- ≤ --></mo>
        <mi>f</mi>
        <mo stretchy="false">(</mo>
        <msub>
          <mi>x</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>&#x03BC;<!-- μ --></mi>
            <mo>:</mo>
            <mi>&#x03BB;<!-- λ --></mi>
          </mrow>
        </msub>
        <mo stretchy="false">)</mo>
        <mo>&#x2264;<!-- ≤ --></mo>
        <mi>f</mi>
        <mo stretchy="false">(</mo>
        <msub>
          <mi>x</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>&#x03BC;<!-- μ --></mi>
            <mo>+</mo>
            <mn>1</mn>
            <mo>:</mo>
            <mi>&#x03BB;<!-- λ --></mi>
          </mrow>
        </msub>
        <mo stretchy="false">)</mo>
        <mo>&#x2026;<!-- … --></mo>
        <mo>,</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \{x_{i:\lambda }\;|\;i=1\dots \lambda \}=\{x_{i}\;|\;i=1\dots \lambda \}\;\;{\text{and}}\;\;f(x_{1:\lambda })\leq \dots \leq f(x_{\mu :\lambda })\leq f(x_{\mu +1:\lambda })\dots ,}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/5587905fa88e94ee19c85e5ce4ccaafbcf76ec0d" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -1.005ex; width:82.721ex; height:3.009ex;" alt="\{x_{{i:\lambda }}\;|\;i=1\dots \lambda \}=\{x_{i}\;|\;i=1\dots \lambda \}\;\;{\text{and}}\;\;f(x_{{1:\lambda }})\leq \dots \leq f(x_{{\mu :\lambda }})\leq f(x_{{\mu +1:\lambda }})\dots ,"/></span></dd></dl>
<p>the new mean value is computed as
</p>
<dl><dd><dl><dd><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle {\begin{aligned}m_{k+1}&amp;=\sum _{i=1}^{\mu }w_{i}\,x_{i:\lambda }\\&amp;=m_{k}+\sum _{i=1}^{\mu }w_{i}\,(x_{i:\lambda }-m_{k})\end{aligned}}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mrow class="MJX-TeXAtom-ORD">
          <mtable columnalign="right left right left right left right left right left right left" rowspacing="3pt" columnspacing="0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em" displaystyle="true">
            <mtr>
              <mtd>
                <msub>
                  <mi>m</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>k</mi>
                    <mo>+</mo>
                    <mn>1</mn>
                  </mrow>
                </msub>
              </mtd>
              <mtd>
                <mi></mi>
                <mo>=</mo>
                <munderover>
                  <mo>&#x2211;<!-- ∑ --></mo>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>i</mi>
                    <mo>=</mo>
                    <mn>1</mn>
                  </mrow>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>&#x03BC;<!-- μ --></mi>
                  </mrow>
                </munderover>
                <msub>
                  <mi>w</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>i</mi>
                  </mrow>
                </msub>
                <mspace width="thinmathspace" />
                <msub>
                  <mi>x</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>i</mi>
                    <mo>:</mo>
                    <mi>&#x03BB;<!-- λ --></mi>
                  </mrow>
                </msub>
              </mtd>
            </mtr>
            <mtr>
              <mtd />
              <mtd>
                <mi></mi>
                <mo>=</mo>
                <msub>
                  <mi>m</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>k</mi>
                  </mrow>
                </msub>
                <mo>+</mo>
                <munderover>
                  <mo>&#x2211;<!-- ∑ --></mo>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>i</mi>
                    <mo>=</mo>
                    <mn>1</mn>
                  </mrow>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>&#x03BC;<!-- μ --></mi>
                  </mrow>
                </munderover>
                <msub>
                  <mi>w</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>i</mi>
                  </mrow>
                </msub>
                <mspace width="thinmathspace" />
                <mo stretchy="false">(</mo>
                <msub>
                  <mi>x</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>i</mi>
                    <mo>:</mo>
                    <mi>&#x03BB;<!-- λ --></mi>
                  </mrow>
                </msub>
                <mo>&#x2212;<!-- − --></mo>
                <msub>
                  <mi>m</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>k</mi>
                  </mrow>
                </msub>
                <mo stretchy="false">)</mo>
              </mtd>
            </mtr>
          </mtable>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle {\begin{aligned}m_{k+1}&amp;=\sum _{i=1}^{\mu }w_{i}\,x_{i:\lambda }\\&amp;=m_{k}+\sum _{i=1}^{\mu }w_{i}\,(x_{i:\lambda }-m_{k})\end{aligned}}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/c82c254f319a285cfbb74825712724a0b7ba53e5" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -6.505ex; width:32.966ex; height:14.176ex;" alt="{\begin{aligned}m_{{k+1}}&amp;=\sum _{{i=1}}^{{\mu }}w_{i}\,x_{{i:\lambda }}\\&amp;=m_{k}+\sum _{{i=1}}^{{\mu }}w_{i}\,(x_{{i:\lambda }}-m_{k})\end{aligned}}"/></span></dd></dl></dd></dl>
<p>where the positive (recombination) weights <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle w_{1}\geq w_{2}\geq \dots \geq w_{\mu }&gt;0}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>w</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>1</mn>
          </mrow>
        </msub>
        <mo>&#x2265;<!-- ≥ --></mo>
        <msub>
          <mi>w</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msub>
        <mo>&#x2265;<!-- ≥ --></mo>
        <mo>&#x22EF;<!-- ⋯ --></mo>
        <mo>&#x2265;<!-- ≥ --></mo>
        <msub>
          <mi>w</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>&#x03BC;<!-- μ --></mi>
          </mrow>
        </msub>
        <mo>&gt;</mo>
        <mn>0</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle w_{1}\geq w_{2}\geq \dots \geq w_{\mu }&gt;0}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/e77539a8b968fb1e8d9f2f17b9f05e86d3a28bcc" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -1.005ex; width:24.604ex; height:2.843ex;" alt="w_{1}\geq w_{2}\geq \dots \geq w_{\mu }&gt;0"/></span> sum to one. Typically, <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \mu \leq \lambda /2}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>&#x03BC;<!-- μ --></mi>
        <mo>&#x2264;<!-- ≤ --></mo>
        <mi>&#x03BB;<!-- λ --></mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo>/</mo>
        </mrow>
        <mn>2</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \mu \leq \lambda /2}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/5bc896e09215a9acb59d38bb1a0f6211f4b18800" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:8.18ex; height:2.843ex;" alt="\mu \leq \lambda /2"/></span> and the weights are chosen such that <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \textstyle \mu _{w}:=1/\sum _{i=1}^{\mu }w_{i}^{2}\approx \lambda /4}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mstyle displaystyle="false" scriptlevel="0">
          <msub>
            <mi>&#x03BC;<!-- μ --></mi>
            <mrow class="MJX-TeXAtom-ORD">
              <mi>w</mi>
            </mrow>
          </msub>
          <mo>:=</mo>
          <mn>1</mn>
          <mrow class="MJX-TeXAtom-ORD">
            <mo>/</mo>
          </mrow>
          <munderover>
            <mo>&#x2211;<!-- ∑ --></mo>
            <mrow class="MJX-TeXAtom-ORD">
              <mi>i</mi>
              <mo>=</mo>
              <mn>1</mn>
            </mrow>
            <mrow class="MJX-TeXAtom-ORD">
              <mi>&#x03BC;<!-- μ --></mi>
            </mrow>
          </munderover>
          <msubsup>
            <mi>w</mi>
            <mrow class="MJX-TeXAtom-ORD">
              <mi>i</mi>
            </mrow>
            <mrow class="MJX-TeXAtom-ORD">
              <mn>2</mn>
            </mrow>
          </msubsup>
          <mo>&#x2248;<!-- ≈ --></mo>
          <mi>&#x03BB;<!-- λ --></mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mo>/</mo>
          </mrow>
          <mn>4</mn>
        </mstyle>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \textstyle \mu _{w}:=1/\sum _{i=1}^{\mu }w_{i}^{2}\approx \lambda /4}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/b2171c4e11edc0d94e9727715299faf0dbc20e86" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -1.005ex; width:24.506ex; height:3.176ex;" alt="\textstyle \mu _{w}:=1/\sum _{{i=1}}^{\mu }w_{i}^{2}\approx \lambda /4"/></span>. The only feedback used from the objective function here and in the following is an ordering of the sampled candidate solutions due to the indices <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle i:\lambda }">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>i</mi>
        <mo>:</mo>
        <mi>&#x03BB;<!-- λ --></mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle i:\lambda }</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/2df4ee5e6db5a6f710ed0de0a95f7631ba5011e4" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:4.095ex; height:2.176ex;" alt="i:\lambda "/></span>.
</p><p>The step-size <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \sigma _{k}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>&#x03C3;<!-- σ --></mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \sigma _{k}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/330415aef0a06818b843c55814fda645b793811b" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:2.416ex; height:2.009ex;" alt="\sigma _{k}"/></span> is updated using <i>cumulative step-size adaptation</i> (CSA), sometimes also denoted as <i>path length control</i>. The evolution path (or search path) <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle p_{\sigma }}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>p</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>&#x03C3;<!-- σ --></mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle p_{\sigma }}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/6038f411ed45fd574bff054df13006bde88ef427" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; margin-left: -0.089ex; width:2.431ex; height:2.009ex;" alt="p_{\sigma }"/></span> is updated first.
</p>
<dl><dd><dl><dd><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle p_{\sigma }\gets \underbrace {(1-c_{\sigma })} _{\!\!\!\!\!{\text{discount factor}}\!\!\!\!\!}\,p_{\sigma }+\overbrace {\sqrt {1-(1-c_{\sigma })^{2}}} ^{\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!{\text{complements for discounted variance}}\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!}\underbrace {{\sqrt {\mu _{w}}}\,C_{k}^{\;-1/2}\,{\frac {\overbrace {m_{k+1}-m_{k}} ^{\!\!\!{\text{displacement of}}\;m\!\!\!}}{\sigma _{k}}}} _{\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!{\text{distributed as}}\;{\mathcal {N}}(0,I)\;{\text{under neutral selection}}\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>p</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>&#x03C3;<!-- σ --></mi>
          </mrow>
        </msub>
        <mo stretchy="false">&#x2190;<!-- ← --></mo>
        <munder>
          <mrow class="MJX-TeXAtom-OP MJX-fixedlimits">
            <munder>
              <mrow>
                <mo stretchy="false">(</mo>
                <mn>1</mn>
                <mo>&#x2212;<!-- − --></mo>
                <msub>
                  <mi>c</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>&#x03C3;<!-- σ --></mi>
                  </mrow>
                </msub>
                <mo stretchy="false">)</mo>
              </mrow>
              <mo>&#x23DF;<!-- ⏟ --></mo>
            </munder>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mrow class="MJX-TeXAtom-ORD">
              <mtext>discount factor</mtext>
            </mrow>
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
          </mrow>
        </munder>
        <mspace width="thinmathspace" />
        <msub>
          <mi>p</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>&#x03C3;<!-- σ --></mi>
          </mrow>
        </msub>
        <mo>+</mo>
        <mover>
          <mrow class="MJX-TeXAtom-OP MJX-fixedlimits">
            <mover>
              <msqrt>
                <mn>1</mn>
                <mo>&#x2212;<!-- − --></mo>
                <mo stretchy="false">(</mo>
                <mn>1</mn>
                <mo>&#x2212;<!-- − --></mo>
                <msub>
                  <mi>c</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>&#x03C3;<!-- σ --></mi>
                  </mrow>
                </msub>
                <msup>
                  <mo stretchy="false">)</mo>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mn>2</mn>
                  </mrow>
                </msup>
              </msqrt>
              <mo>&#x23DE;<!-- ⏞ --></mo>
            </mover>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mrow class="MJX-TeXAtom-ORD">
              <mtext>complements for discounted variance</mtext>
            </mrow>
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
          </mrow>
        </mover>
        <munder>
          <mrow class="MJX-TeXAtom-OP MJX-fixedlimits">
            <munder>
              <mrow>
                <mrow class="MJX-TeXAtom-ORD">
                  <msqrt>
                    <msub>
                      <mi>&#x03BC;<!-- μ --></mi>
                      <mrow class="MJX-TeXAtom-ORD">
                        <mi>w</mi>
                      </mrow>
                    </msub>
                  </msqrt>
                </mrow>
                <mspace width="thinmathspace" />
                <msubsup>
                  <mi>C</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>k</mi>
                  </mrow>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mspace width="thickmathspace" />
                    <mo>&#x2212;<!-- − --></mo>
                    <mn>1</mn>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mo>/</mo>
                    </mrow>
                    <mn>2</mn>
                  </mrow>
                </msubsup>
                <mspace width="thinmathspace" />
                <mrow class="MJX-TeXAtom-ORD">
                  <mfrac>
                    <mover>
                      <mrow class="MJX-TeXAtom-OP MJX-fixedlimits">
                        <mover>
                          <mrow>
                            <msub>
                              <mi>m</mi>
                              <mrow class="MJX-TeXAtom-ORD">
                                <mi>k</mi>
                                <mo>+</mo>
                                <mn>1</mn>
                              </mrow>
                            </msub>
                            <mo>&#x2212;<!-- − --></mo>
                            <msub>
                              <mi>m</mi>
                              <mrow class="MJX-TeXAtom-ORD">
                                <mi>k</mi>
                              </mrow>
                            </msub>
                          </mrow>
                          <mo>&#x23DE;<!-- ⏞ --></mo>
                        </mover>
                      </mrow>
                      <mrow class="MJX-TeXAtom-ORD">
                        <mspace width="negativethinmathspace" />
                        <mspace width="negativethinmathspace" />
                        <mspace width="negativethinmathspace" />
                        <mrow class="MJX-TeXAtom-ORD">
                          <mtext>displacement of</mtext>
                        </mrow>
                        <mspace width="thickmathspace" />
                        <mi>m</mi>
                        <mspace width="negativethinmathspace" />
                        <mspace width="negativethinmathspace" />
                        <mspace width="negativethinmathspace" />
                      </mrow>
                    </mover>
                    <msub>
                      <mi>&#x03C3;<!-- σ --></mi>
                      <mrow class="MJX-TeXAtom-ORD">
                        <mi>k</mi>
                      </mrow>
                    </msub>
                  </mfrac>
                </mrow>
              </mrow>
              <mo>&#x23DF;<!-- ⏟ --></mo>
            </munder>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mrow class="MJX-TeXAtom-ORD">
              <mtext>distributed as</mtext>
            </mrow>
            <mspace width="thickmathspace" />
            <mrow class="MJX-TeXAtom-ORD">
              <mrow class="MJX-TeXAtom-ORD">
                <mi class="MJX-tex-caligraphic" mathvariant="script">N</mi>
              </mrow>
            </mrow>
            <mo stretchy="false">(</mo>
            <mn>0</mn>
            <mo>,</mo>
            <mi>I</mi>
            <mo stretchy="false">)</mo>
            <mspace width="thickmathspace" />
            <mrow class="MJX-TeXAtom-ORD">
              <mtext>under neutral selection</mtext>
            </mrow>
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
          </mrow>
        </munder>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle p_{\sigma }\gets \underbrace {(1-c_{\sigma })} _{\!\!\!\!\!{\text{discount factor}}\!\!\!\!\!}\,p_{\sigma }+\overbrace {\sqrt {1-(1-c_{\sigma })^{2}}} ^{\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!{\text{complements for discounted variance}}\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!}\underbrace {{\sqrt {\mu _{w}}}\,C_{k}^{\;-1/2}\,{\frac {\overbrace {m_{k+1}-m_{k}} ^{\!\!\!{\text{displacement of}}\;m\!\!\!}}{\sigma _{k}}}} _{\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!{\text{distributed as}}\;{\mathcal {N}}(0,I)\;{\text{under neutral selection}}\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/cf813271f06d03b9852322b2df8cc1e0b1a1d54c" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -6.171ex; margin-left: -0.089ex; margin-right: -4.358ex; width:63.312ex; height:13.009ex;" alt="p_{\sigma }\gets \underbrace {(1-c_{\sigma })}_{{\!\!\!\!\!{\text{discount factor}}\!\!\!\!\!}}\,p_{\sigma }+\overbrace {{\sqrt  {1-(1-c_{\sigma })^{2}}}}^{{\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!{\text{complements for discounted variance}}\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!}}\underbrace {{\sqrt  {\mu _{w}}}\,C_{k}^{{\;-1/2}}\,{\frac  {\overbrace {m_{{k+1}}-m_{k}}^{{\!\!\!{\text{displacement of}}\;m\!\!\!}}}{\sigma _{k}}}}_{{\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!{\text{distributed as}}\;{\mathcal  {N}}(0,I)\;{\text{under neutral selection}}\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!}}"/></span></dd>
<dd><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \sigma _{k+1}=\sigma _{k}\times \exp {\bigg (}{\frac {c_{\sigma }}{d_{\sigma }}}\underbrace {\left({\frac {\|p_{\sigma }\|}{E\|{\mathcal {N}}(0,I)\|}}-1\right)} _{\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!{\text{unbiased about 0 under neutral selection}}\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!}{\bigg )}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>&#x03C3;<!-- σ --></mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
            <mo>+</mo>
            <mn>1</mn>
          </mrow>
        </msub>
        <mo>=</mo>
        <msub>
          <mi>&#x03C3;<!-- σ --></mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </msub>
        <mo>&#x00D7;<!-- × --></mo>
        <mi>exp</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mrow class="MJX-TeXAtom-ORD">
            <mo maxsize="2.047em" minsize="2.047em">(</mo>
          </mrow>
        </mrow>
        <mrow class="MJX-TeXAtom-ORD">
          <mfrac>
            <msub>
              <mi>c</mi>
              <mrow class="MJX-TeXAtom-ORD">
                <mi>&#x03C3;<!-- σ --></mi>
              </mrow>
            </msub>
            <msub>
              <mi>d</mi>
              <mrow class="MJX-TeXAtom-ORD">
                <mi>&#x03C3;<!-- σ --></mi>
              </mrow>
            </msub>
          </mfrac>
        </mrow>
        <munder>
          <mrow class="MJX-TeXAtom-OP MJX-fixedlimits">
            <munder>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mfrac>
                      <mrow>
                        <mo fence="false" stretchy="false">&#x2016;<!-- ‖ --></mo>
                        <msub>
                          <mi>p</mi>
                          <mrow class="MJX-TeXAtom-ORD">
                            <mi>&#x03C3;<!-- σ --></mi>
                          </mrow>
                        </msub>
                        <mo fence="false" stretchy="false">&#x2016;<!-- ‖ --></mo>
                      </mrow>
                      <mrow>
                        <mi>E</mi>
                        <mo fence="false" stretchy="false">&#x2016;<!-- ‖ --></mo>
                        <mrow class="MJX-TeXAtom-ORD">
                          <mrow class="MJX-TeXAtom-ORD">
                            <mi class="MJX-tex-caligraphic" mathvariant="script">N</mi>
                          </mrow>
                        </mrow>
                        <mo stretchy="false">(</mo>
                        <mn>0</mn>
                        <mo>,</mo>
                        <mi>I</mi>
                        <mo stretchy="false">)</mo>
                        <mo fence="false" stretchy="false">&#x2016;<!-- ‖ --></mo>
                      </mrow>
                    </mfrac>
                  </mrow>
                  <mo>&#x2212;<!-- − --></mo>
                  <mn>1</mn>
                </mrow>
                <mo>)</mo>
              </mrow>
              <mo>&#x23DF;<!-- ⏟ --></mo>
            </munder>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mrow class="MJX-TeXAtom-ORD">
              <mtext>unbiased about 0 under neutral selection</mtext>
            </mrow>
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
          </mrow>
        </munder>
        <mrow class="MJX-TeXAtom-ORD">
          <mrow class="MJX-TeXAtom-ORD">
            <mo maxsize="2.047em" minsize="2.047em">)</mo>
          </mrow>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \sigma _{k+1}=\sigma _{k}\times \exp {\bigg (}{\frac {c_{\sigma }}{d_{\sigma }}}\underbrace {\left({\frac {\|p_{\sigma }\|}{E\|{\mathcal {N}}(0,I)\|}}-1\right)} _{\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!{\text{unbiased about 0 under neutral selection}}\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!}{\bigg )}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/6e2b2d444d41cff9885cc99dc4d600e1bb21cb3c" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -6.171ex; margin-right: -3.118ex; width:46.381ex; height:10.009ex;" alt="\sigma _{{k+1}}=\sigma _{k}\times \exp {\bigg (}{\frac  {c_{\sigma }}{d_{\sigma }}}\underbrace {\left({\frac  {\|p_{\sigma }\|}{E\|{\mathcal  {N}}(0,I)\|}}-1\right)}_{{\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!{\text{unbiased about 0 under neutral selection}}\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!}}{\bigg )}"/></span></dd></dl></dd></dl>
<p>where
</p>
<dl><dd><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle c_{\sigma }^{-1}\approx n/3}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msubsup>
          <mi>c</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>&#x03C3;<!-- σ --></mi>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mo>&#x2212;<!-- − --></mo>
            <mn>1</mn>
          </mrow>
        </msubsup>
        <mo>&#x2248;<!-- ≈ --></mo>
        <mi>n</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo>/</mo>
        </mrow>
        <mn>3</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle c_{\sigma }^{-1}\approx n/3}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/3d4ef64be18e51c5e8e0bcada570087a58073c31" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:10.158ex; height:3.176ex;" alt="c_{\sigma }^{{-1}}\approx n/3"/></span> is the backward time horizon for the evolution path <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle p_{\sigma }}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>p</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>&#x03C3;<!-- σ --></mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle p_{\sigma }}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/6038f411ed45fd574bff054df13006bde88ef427" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; margin-left: -0.089ex; width:2.431ex; height:2.009ex;" alt="p_{\sigma }"/></span> and larger than one (<span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle c_{\sigma }\ll 1}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>c</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>&#x03C3;<!-- σ --></mi>
          </mrow>
        </msub>
        <mo>&#x226A;<!-- ≪ --></mo>
        <mn>1</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle c_{\sigma }\ll 1}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/f0f7c832cb95274cf97b025ff1dee2580daca43a" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:6.956ex; height:2.509ex;" alt="{\displaystyle c_{\sigma }\ll 1}"/></span> is reminiscent of an <a href="/wiki/Exponential_decay" title="Exponential decay">exponential decay</a> constant as <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle (1-c_{\sigma })^{k}\approx \exp(-c_{\sigma }k)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo stretchy="false">(</mo>
        <mn>1</mn>
        <mo>&#x2212;<!-- − --></mo>
        <msub>
          <mi>c</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>&#x03C3;<!-- σ --></mi>
          </mrow>
        </msub>
        <msup>
          <mo stretchy="false">)</mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </msup>
        <mo>&#x2248;<!-- ≈ --></mo>
        <mi>exp</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mo stretchy="false">(</mo>
        <mo>&#x2212;<!-- − --></mo>
        <msub>
          <mi>c</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>&#x03C3;<!-- σ --></mi>
          </mrow>
        </msub>
        <mi>k</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle (1-c_{\sigma })^{k}\approx \exp(-c_{\sigma }k)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/9bb144b3d245bdbccea7b5e9574744d559966b5d" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:22.739ex; height:3.176ex;" alt="{\displaystyle (1-c_{\sigma })^{k}\approx \exp(-c_{\sigma }k)}"/></span> where <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle c_{\sigma }^{-1}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msubsup>
          <mi>c</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>&#x03C3;<!-- σ --></mi>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mo>&#x2212;<!-- − --></mo>
            <mn>1</mn>
          </mrow>
        </msubsup>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle c_{\sigma }^{-1}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/9759165b9affbb9b1165539b8407e5f6a80c3a84" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:3.34ex; height:3.009ex;" alt="{\displaystyle c_{\sigma }^{-1}}"/></span> is the associated lifetime and <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle c_{\sigma }^{-1}\ln(2)\approx 0.7c_{\sigma }^{-1}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msubsup>
          <mi>c</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>&#x03C3;<!-- σ --></mi>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mo>&#x2212;<!-- − --></mo>
            <mn>1</mn>
          </mrow>
        </msubsup>
        <mi>ln</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mo stretchy="false">(</mo>
        <mn>2</mn>
        <mo stretchy="false">)</mo>
        <mo>&#x2248;<!-- ≈ --></mo>
        <mn>0.7</mn>
        <msubsup>
          <mi>c</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>&#x03C3;<!-- σ --></mi>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mo>&#x2212;<!-- − --></mo>
            <mn>1</mn>
          </mrow>
        </msubsup>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle c_{\sigma }^{-1}\ln(2)\approx 0.7c_{\sigma }^{-1}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/d2803d4492f39233259d9f047168cbf891e44fd0" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:18.048ex; height:3.176ex;" alt="{\displaystyle c_{\sigma }^{-1}\ln(2)\approx 0.7c_{\sigma }^{-1}}"/></span> the half-life),</dd></dl>
<dl><dd><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \mu _{w}=\left(\sum _{i=1}^{\mu }w_{i}^{2}\right)^{-1}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>&#x03BC;<!-- μ --></mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>w</mi>
          </mrow>
        </msub>
        <mo>=</mo>
        <msup>
          <mrow>
            <mo>(</mo>
            <mrow>
              <munderover>
                <mo>&#x2211;<!-- ∑ --></mo>
                <mrow class="MJX-TeXAtom-ORD">
                  <mi>i</mi>
                  <mo>=</mo>
                  <mn>1</mn>
                </mrow>
                <mrow class="MJX-TeXAtom-ORD">
                  <mi>&#x03BC;<!-- μ --></mi>
                </mrow>
              </munderover>
              <msubsup>
                <mi>w</mi>
                <mrow class="MJX-TeXAtom-ORD">
                  <mi>i</mi>
                </mrow>
                <mrow class="MJX-TeXAtom-ORD">
                  <mn>2</mn>
                </mrow>
              </msubsup>
            </mrow>
            <mo>)</mo>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mo>&#x2212;<!-- − --></mo>
            <mn>1</mn>
          </mrow>
        </msup>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \mu _{w}=\left(\sum _{i=1}^{\mu }w_{i}^{2}\right)^{-1}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/e1380bd56776b35ea99c080edf6b32a148eb22f7" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -3.171ex; width:18.384ex; height:8.009ex;" alt="\mu _{w}=\left(\sum _{{i=1}}^{\mu }w_{i}^{2}\right)^{{-1}}"/></span> is the variance effective selection mass and <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle 1\leq \mu _{w}\leq \mu }">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mn>1</mn>
        <mo>&#x2264;<!-- ≤ --></mo>
        <msub>
          <mi>&#x03BC;<!-- μ --></mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>w</mi>
          </mrow>
        </msub>
        <mo>&#x2264;<!-- ≤ --></mo>
        <mi>&#x03BC;<!-- μ --></mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle 1\leq \mu _{w}\leq \mu }</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/cad03e61de9b5fefebd805cdac13954e525e4461" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:11.572ex; height:2.676ex;" alt="1\leq \mu _{w}\leq \mu "/></span> by definition of <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle w_{i}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>w</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>i</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle w_{i}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/fe22f0329d3ecb2e1880d44d191aba0e5475db68" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:2.464ex; height:2.009ex;" alt="w_{i}"/></span>,</dd></dl>
<dl><dd><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle C_{k}^{\;-1/2}={\sqrt {C_{k}}}^{\;-1}={\sqrt {C_{k}^{\;-1}}}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msubsup>
          <mi>C</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mspace width="thickmathspace" />
            <mo>&#x2212;<!-- − --></mo>
            <mn>1</mn>
            <mrow class="MJX-TeXAtom-ORD">
              <mo>/</mo>
            </mrow>
            <mn>2</mn>
          </mrow>
        </msubsup>
        <mo>=</mo>
        <msup>
          <mrow class="MJX-TeXAtom-ORD">
            <msqrt>
              <msub>
                <mi>C</mi>
                <mrow class="MJX-TeXAtom-ORD">
                  <mi>k</mi>
                </mrow>
              </msub>
            </msqrt>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mspace width="thickmathspace" />
            <mo>&#x2212;<!-- − --></mo>
            <mn>1</mn>
          </mrow>
        </msup>
        <mo>=</mo>
        <mrow class="MJX-TeXAtom-ORD">
          <msqrt>
            <msubsup>
              <mi>C</mi>
              <mrow class="MJX-TeXAtom-ORD">
                <mi>k</mi>
              </mrow>
              <mrow class="MJX-TeXAtom-ORD">
                <mspace width="thickmathspace" />
                <mo>&#x2212;<!-- − --></mo>
                <mn>1</mn>
              </mrow>
            </msubsup>
          </msqrt>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle C_{k}^{\;-1/2}={\sqrt {C_{k}}}^{\;-1}={\sqrt {C_{k}^{\;-1}}}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/67782fc526ba7a3f10d539669a145b4ba754dee2" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -1.838ex; width:27.768ex; height:4.843ex;" alt="C_{k}^{{\;-1/2}}={\sqrt  {C_{k}}}^{{\;-1}}={\sqrt  {C_{k}^{{\;-1}}}}"/></span> is the unique symmetric <a href="/wiki/Square_root_of_a_matrix" title="Square root of a matrix">square root</a> of the <a href="/wiki/Invertible_matrix" title="Invertible matrix">inverse</a> of <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle C_{k}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>C</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle C_{k}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/1a0887b56787ba96e79de2b9f5c6ff30aabad1c6" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:2.751ex; height:2.509ex;" alt="C_{k}"/></span>, and</dd></dl>
<dl><dd><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle d_{\sigma }}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>d</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>&#x03C3;<!-- σ --></mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle d_{\sigma }}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/70babe4f029cd1ab41fd5d912577b01e87017088" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:2.381ex; height:2.509ex;" alt="d_{\sigma }"/></span> is the damping parameter usually close to one. For <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle d_{\sigma }=\infty }">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>d</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>&#x03C3;<!-- σ --></mi>
          </mrow>
        </msub>
        <mo>=</mo>
        <mi mathvariant="normal">&#x221E;<!-- ∞ --></mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle d_{\sigma }=\infty }</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/eecff2725d2446316b77ef347a7d3577a58b5472" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:7.804ex; height:2.509ex;" alt="d_{\sigma }=\infty "/></span> or <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle c_{\sigma }=0}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>c</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>&#x03C3;<!-- σ --></mi>
          </mrow>
        </msub>
        <mo>=</mo>
        <mn>0</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle c_{\sigma }=0}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/ac647c754fbc83293920d790e1a6ea35c2be9f4f" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:6.44ex; height:2.509ex;" alt="c_{\sigma }=0"/></span> the step-size remains unchanged.</dd></dl>
<p>The step-size <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \sigma _{k}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>&#x03C3;<!-- σ --></mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \sigma _{k}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/330415aef0a06818b843c55814fda645b793811b" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:2.416ex; height:2.009ex;" alt="\sigma _{k}"/></span> is increased if and only if <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \|p_{\sigma }\|}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo fence="false" stretchy="false">&#x2016;<!-- ‖ --></mo>
        <msub>
          <mi>p</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>&#x03C3;<!-- σ --></mi>
          </mrow>
        </msub>
        <mo fence="false" stretchy="false">&#x2016;<!-- ‖ --></mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \|p_{\sigma }\|}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/ea47809e4656bdaa53f9b13753900473b9bb04b9" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:4.667ex; height:2.843ex;" alt="\|p_{\sigma }\|"/></span> is larger than the <a href="/wiki/Expected_value" title="Expected value">expected value</a>
</p>
<dl><dd><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle {\begin{aligned}E\|{\mathcal {N}}(0,I)\|&amp;={\sqrt {2}}\,\Gamma ((n+1)/2)/\Gamma (n/2)\\&amp;\approx {\sqrt {n}}\,(1-1/(4\,n)+1/(21\,n^{2}))\end{aligned}}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mrow class="MJX-TeXAtom-ORD">
          <mtable columnalign="right left right left right left right left right left right left" rowspacing="3pt" columnspacing="0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em" displaystyle="true">
            <mtr>
              <mtd>
                <mi>E</mi>
                <mo fence="false" stretchy="false">&#x2016;<!-- ‖ --></mo>
                <mrow class="MJX-TeXAtom-ORD">
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi class="MJX-tex-caligraphic" mathvariant="script">N</mi>
                  </mrow>
                </mrow>
                <mo stretchy="false">(</mo>
                <mn>0</mn>
                <mo>,</mo>
                <mi>I</mi>
                <mo stretchy="false">)</mo>
                <mo fence="false" stretchy="false">&#x2016;<!-- ‖ --></mo>
              </mtd>
              <mtd>
                <mi></mi>
                <mo>=</mo>
                <mrow class="MJX-TeXAtom-ORD">
                  <msqrt>
                    <mn>2</mn>
                  </msqrt>
                </mrow>
                <mspace width="thinmathspace" />
                <mi mathvariant="normal">&#x0393;<!-- Γ --></mi>
                <mo stretchy="false">(</mo>
                <mo stretchy="false">(</mo>
                <mi>n</mi>
                <mo>+</mo>
                <mn>1</mn>
                <mo stretchy="false">)</mo>
                <mrow class="MJX-TeXAtom-ORD">
                  <mo>/</mo>
                </mrow>
                <mn>2</mn>
                <mo stretchy="false">)</mo>
                <mrow class="MJX-TeXAtom-ORD">
                  <mo>/</mo>
                </mrow>
                <mi mathvariant="normal">&#x0393;<!-- Γ --></mi>
                <mo stretchy="false">(</mo>
                <mi>n</mi>
                <mrow class="MJX-TeXAtom-ORD">
                  <mo>/</mo>
                </mrow>
                <mn>2</mn>
                <mo stretchy="false">)</mo>
              </mtd>
            </mtr>
            <mtr>
              <mtd />
              <mtd>
                <mi></mi>
                <mo>&#x2248;<!-- ≈ --></mo>
                <mrow class="MJX-TeXAtom-ORD">
                  <msqrt>
                    <mi>n</mi>
                  </msqrt>
                </mrow>
                <mspace width="thinmathspace" />
                <mo stretchy="false">(</mo>
                <mn>1</mn>
                <mo>&#x2212;<!-- − --></mo>
                <mn>1</mn>
                <mrow class="MJX-TeXAtom-ORD">
                  <mo>/</mo>
                </mrow>
                <mo stretchy="false">(</mo>
                <mn>4</mn>
                <mspace width="thinmathspace" />
                <mi>n</mi>
                <mo stretchy="false">)</mo>
                <mo>+</mo>
                <mn>1</mn>
                <mrow class="MJX-TeXAtom-ORD">
                  <mo>/</mo>
                </mrow>
                <mo stretchy="false">(</mo>
                <mn>21</mn>
                <mspace width="thinmathspace" />
                <msup>
                  <mi>n</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mn>2</mn>
                  </mrow>
                </msup>
                <mo stretchy="false">)</mo>
                <mo stretchy="false">)</mo>
              </mtd>
            </mtr>
          </mtable>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle {\begin{aligned}E\|{\mathcal {N}}(0,I)\|&amp;={\sqrt {2}}\,\Gamma ((n+1)/2)/\Gamma (n/2)\\&amp;\approx {\sqrt {n}}\,(1-1/(4\,n)+1/(21\,n^{2}))\end{aligned}}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/703f17807cf5202838b5fcb81cb39312e86e4503" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -2.671ex; width:44.147ex; height:6.509ex;" alt="{\begin{aligned}E\|{\mathcal  {N}}(0,I)\|&amp;={\sqrt  {2}}\,\Gamma ((n+1)/2)/\Gamma (n/2)\\&amp;\approx {\sqrt  {n}}\,(1-1/(4\,n)+1/(21\,n^{2}))\end{aligned}}"/></span></dd></dl>
<p>and decreased if it is smaller. For this reason, the step-size update tends to make consecutive steps <a href="/wiki/Conjugate_gradient#The_conjugate_gradient_method_as_a_direct_method" class="mw-redirect" title="Conjugate gradient"><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle C_{k}^{-1}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msubsup>
          <mi>C</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mo>&#x2212;<!-- − --></mo>
            <mn>1</mn>
          </mrow>
        </msubsup>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle C_{k}^{-1}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/3a0093616737ae777c3a40c7e176b73295f2550c" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -1.005ex; width:4.131ex; height:3.343ex;" alt="C_{k}^{{-1}}"/></span>-conjugate</a>, in that  after the adaptation has been successful <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \textstyle \left({\frac {m_{k+2}-m_{k+1}}{\sigma _{k+1}}}\right)^{T}\!C_{k}^{-1}{\frac {m_{k+1}-m_{k}}{\sigma _{k}}}\approx 0}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mstyle displaystyle="false" scriptlevel="0">
          <msup>
            <mrow>
              <mo>(</mo>
              <mrow class="MJX-TeXAtom-ORD">
                <mfrac>
                  <mrow>
                    <msub>
                      <mi>m</mi>
                      <mrow class="MJX-TeXAtom-ORD">
                        <mi>k</mi>
                        <mo>+</mo>
                        <mn>2</mn>
                      </mrow>
                    </msub>
                    <mo>&#x2212;<!-- − --></mo>
                    <msub>
                      <mi>m</mi>
                      <mrow class="MJX-TeXAtom-ORD">
                        <mi>k</mi>
                        <mo>+</mo>
                        <mn>1</mn>
                      </mrow>
                    </msub>
                  </mrow>
                  <msub>
                    <mi>&#x03C3;<!-- σ --></mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mi>k</mi>
                      <mo>+</mo>
                      <mn>1</mn>
                    </mrow>
                  </msub>
                </mfrac>
              </mrow>
              <mo>)</mo>
            </mrow>
            <mrow class="MJX-TeXAtom-ORD">
              <mi>T</mi>
            </mrow>
          </msup>
          <mspace width="negativethinmathspace" />
          <msubsup>
            <mi>C</mi>
            <mrow class="MJX-TeXAtom-ORD">
              <mi>k</mi>
            </mrow>
            <mrow class="MJX-TeXAtom-ORD">
              <mo>&#x2212;<!-- − --></mo>
              <mn>1</mn>
            </mrow>
          </msubsup>
          <mrow class="MJX-TeXAtom-ORD">
            <mfrac>
              <mrow>
                <msub>
                  <mi>m</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>k</mi>
                    <mo>+</mo>
                    <mn>1</mn>
                  </mrow>
                </msub>
                <mo>&#x2212;<!-- − --></mo>
                <msub>
                  <mi>m</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>k</mi>
                  </mrow>
                </msub>
              </mrow>
              <msub>
                <mi>&#x03C3;<!-- σ --></mi>
                <mrow class="MJX-TeXAtom-ORD">
                  <mi>k</mi>
                </mrow>
              </msub>
            </mfrac>
          </mrow>
          <mo>&#x2248;<!-- ≈ --></mo>
          <mn>0</mn>
        </mstyle>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \textstyle \left({\frac {m_{k+2}-m_{k+1}}{\sigma _{k+1}}}\right)^{T}\!C_{k}^{-1}{\frac {m_{k+1}-m_{k}}{\sigma _{k}}}\approx 0}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/4ef93610e57f17bca5516fc0c2b23ed500020ad2" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -1.838ex; width:30.724ex; height:5.176ex;" alt="\textstyle \left({\frac  {m_{{k+2}}-m_{{k+1}}}{\sigma _{{k+1}}}}\right)^{T}\!C_{k}^{{-1}}{\frac  {m_{{k+1}}-m_{{k}}}{\sigma _{k}}}\approx 0"/></span>.<sup id="cite_ref-1" class="reference"><a href="#cite_note-1">&#91;1&#93;</a></sup>
</p><p>Finally, the <a href="/wiki/Covariance_matrix" title="Covariance matrix">covariance matrix</a> is updated, where again the respective evolution path is updated first.
</p>
<dl><dd><dl><dd><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle p_{c}\gets \underbrace {(1-c_{c})} _{\!\!\!\!\!{\text{discount factor}}\!\!\!\!\!}\,p_{c}+\underbrace {\mathbf {1} _{[0,\alpha {\sqrt {n}}]}(\|p_{\sigma }\|)} _{\text{indicator function}}\overbrace {\sqrt {1-(1-c_{c})^{2}}} ^{\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!{\text{complements for discounted variance}}\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!}\underbrace {{\sqrt {\mu _{w}}}\,{\frac {m_{k+1}-m_{k}}{\sigma _{k}}}} _{\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!{\text{distributed as}}\;{\mathcal {N}}(0,C_{k})\;{\text{under neutral selection}}\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>p</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>c</mi>
          </mrow>
        </msub>
        <mo stretchy="false">&#x2190;<!-- ← --></mo>
        <munder>
          <mrow class="MJX-TeXAtom-OP MJX-fixedlimits">
            <munder>
              <mrow>
                <mo stretchy="false">(</mo>
                <mn>1</mn>
                <mo>&#x2212;<!-- − --></mo>
                <msub>
                  <mi>c</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>c</mi>
                  </mrow>
                </msub>
                <mo stretchy="false">)</mo>
              </mrow>
              <mo>&#x23DF;<!-- ⏟ --></mo>
            </munder>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mrow class="MJX-TeXAtom-ORD">
              <mtext>discount factor</mtext>
            </mrow>
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
          </mrow>
        </munder>
        <mspace width="thinmathspace" />
        <msub>
          <mi>p</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>c</mi>
          </mrow>
        </msub>
        <mo>+</mo>
        <munder>
          <mrow class="MJX-TeXAtom-OP MJX-fixedlimits">
            <munder>
              <mrow>
                <msub>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mn mathvariant="bold">1</mn>
                  </mrow>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mo stretchy="false">[</mo>
                    <mn>0</mn>
                    <mo>,</mo>
                    <mi>&#x03B1;<!-- α --></mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <msqrt>
                        <mi>n</mi>
                      </msqrt>
                    </mrow>
                    <mo stretchy="false">]</mo>
                  </mrow>
                </msub>
                <mo stretchy="false">(</mo>
                <mo fence="false" stretchy="false">&#x2016;<!-- ‖ --></mo>
                <msub>
                  <mi>p</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>&#x03C3;<!-- σ --></mi>
                  </mrow>
                </msub>
                <mo fence="false" stretchy="false">&#x2016;<!-- ‖ --></mo>
                <mo stretchy="false">)</mo>
              </mrow>
              <mo>&#x23DF;<!-- ⏟ --></mo>
            </munder>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mtext>indicator function</mtext>
          </mrow>
        </munder>
        <mover>
          <mrow class="MJX-TeXAtom-OP MJX-fixedlimits">
            <mover>
              <msqrt>
                <mn>1</mn>
                <mo>&#x2212;<!-- − --></mo>
                <mo stretchy="false">(</mo>
                <mn>1</mn>
                <mo>&#x2212;<!-- − --></mo>
                <msub>
                  <mi>c</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>c</mi>
                  </mrow>
                </msub>
                <msup>
                  <mo stretchy="false">)</mo>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mn>2</mn>
                  </mrow>
                </msup>
              </msqrt>
              <mo>&#x23DE;<!-- ⏞ --></mo>
            </mover>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mrow class="MJX-TeXAtom-ORD">
              <mtext>complements for discounted variance</mtext>
            </mrow>
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
          </mrow>
        </mover>
        <munder>
          <mrow class="MJX-TeXAtom-OP MJX-fixedlimits">
            <munder>
              <mrow>
                <mrow class="MJX-TeXAtom-ORD">
                  <msqrt>
                    <msub>
                      <mi>&#x03BC;<!-- μ --></mi>
                      <mrow class="MJX-TeXAtom-ORD">
                        <mi>w</mi>
                      </mrow>
                    </msub>
                  </msqrt>
                </mrow>
                <mspace width="thinmathspace" />
                <mrow class="MJX-TeXAtom-ORD">
                  <mfrac>
                    <mrow>
                      <msub>
                        <mi>m</mi>
                        <mrow class="MJX-TeXAtom-ORD">
                          <mi>k</mi>
                          <mo>+</mo>
                          <mn>1</mn>
                        </mrow>
                      </msub>
                      <mo>&#x2212;<!-- − --></mo>
                      <msub>
                        <mi>m</mi>
                        <mrow class="MJX-TeXAtom-ORD">
                          <mi>k</mi>
                        </mrow>
                      </msub>
                    </mrow>
                    <msub>
                      <mi>&#x03C3;<!-- σ --></mi>
                      <mrow class="MJX-TeXAtom-ORD">
                        <mi>k</mi>
                      </mrow>
                    </msub>
                  </mfrac>
                </mrow>
              </mrow>
              <mo>&#x23DF;<!-- ⏟ --></mo>
            </munder>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mrow class="MJX-TeXAtom-ORD">
              <mtext>distributed as</mtext>
            </mrow>
            <mspace width="thickmathspace" />
            <mrow class="MJX-TeXAtom-ORD">
              <mrow class="MJX-TeXAtom-ORD">
                <mi class="MJX-tex-caligraphic" mathvariant="script">N</mi>
              </mrow>
            </mrow>
            <mo stretchy="false">(</mo>
            <mn>0</mn>
            <mo>,</mo>
            <msub>
              <mi>C</mi>
              <mrow class="MJX-TeXAtom-ORD">
                <mi>k</mi>
              </mrow>
            </msub>
            <mo stretchy="false">)</mo>
            <mspace width="thickmathspace" />
            <mrow class="MJX-TeXAtom-ORD">
              <mtext>under neutral selection</mtext>
            </mrow>
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
          </mrow>
        </munder>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle p_{c}\gets \underbrace {(1-c_{c})} _{\!\!\!\!\!{\text{discount factor}}\!\!\!\!\!}\,p_{c}+\underbrace {\mathbf {1} _{[0,\alpha {\sqrt {n}}]}(\|p_{\sigma }\|)} _{\text{indicator function}}\overbrace {\sqrt {1-(1-c_{c})^{2}}} ^{\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!{\text{complements for discounted variance}}\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!}\underbrace {{\sqrt {\mu _{w}}}\,{\frac {m_{k+1}-m_{k}}{\sigma _{k}}}} _{\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!{\text{distributed as}}\;{\mathcal {N}}(0,C_{k})\;{\text{under neutral selection}}\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/d189b986dbb6f52c2fc884414af7d41040a4da2f" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -6.171ex; margin-left: -0.089ex; margin-right: -8.364ex; width:73.245ex; height:12.843ex;" alt="p_{c}\gets \underbrace {(1-c_{c})}_{{\!\!\!\!\!{\text{discount factor}}\!\!\!\!\!}}\,p_{c}+\underbrace {{\mathbf  {1}}_{{[0,\alpha {\sqrt  {n}}]}}(\|p_{\sigma }\|)}_{{{\text{indicator function}}}}\overbrace {{\sqrt  {1-(1-c_{c})^{2}}}}^{{\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!{\text{complements for discounted variance}}\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!}}\underbrace {{\sqrt  {\mu _{w}}}\,{\frac  {m_{{k+1}}-m_{k}}{\sigma _{k}}}}_{{\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!{\text{distributed as}}\;{\mathcal  {N}}(0,C_{k})\;{\text{under neutral selection}}\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!}}"/></span></dd></dl></dd></dl>
<dl><dd><dl><dd><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle C_{k+1}=\underbrace {(1-c_{1}-c_{\mu }+c_{s})} _{\!\!\!\!\!{\text{discount factor}}\!\!\!\!\!}\,C_{k}+c_{1}\underbrace {p_{c}p_{c}^{T}} _{\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!{\text{rank one matrix}}\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!}+\,c_{\mu }\underbrace {\sum _{i=1}^{\mu }w_{i}{\frac {x_{i:\lambda }-m_{k}}{\sigma _{k}}}\left({\frac {x_{i:\lambda }-m_{k}}{\sigma _{k}}}\right)^{T}} _{{\text{rank}}\;\min(\mu ,n)\;{\text{matrix}}}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>C</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
            <mo>+</mo>
            <mn>1</mn>
          </mrow>
        </msub>
        <mo>=</mo>
        <munder>
          <mrow class="MJX-TeXAtom-OP MJX-fixedlimits">
            <munder>
              <mrow>
                <mo stretchy="false">(</mo>
                <mn>1</mn>
                <mo>&#x2212;<!-- − --></mo>
                <msub>
                  <mi>c</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mn>1</mn>
                  </mrow>
                </msub>
                <mo>&#x2212;<!-- − --></mo>
                <msub>
                  <mi>c</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>&#x03BC;<!-- μ --></mi>
                  </mrow>
                </msub>
                <mo>+</mo>
                <msub>
                  <mi>c</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>s</mi>
                  </mrow>
                </msub>
                <mo stretchy="false">)</mo>
              </mrow>
              <mo>&#x23DF;<!-- ⏟ --></mo>
            </munder>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mrow class="MJX-TeXAtom-ORD">
              <mtext>discount factor</mtext>
            </mrow>
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
          </mrow>
        </munder>
        <mspace width="thinmathspace" />
        <msub>
          <mi>C</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </msub>
        <mo>+</mo>
        <msub>
          <mi>c</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>1</mn>
          </mrow>
        </msub>
        <munder>
          <mrow class="MJX-TeXAtom-OP MJX-fixedlimits">
            <munder>
              <mrow>
                <msub>
                  <mi>p</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>c</mi>
                  </mrow>
                </msub>
                <msubsup>
                  <mi>p</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>c</mi>
                  </mrow>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>T</mi>
                  </mrow>
                </msubsup>
              </mrow>
              <mo>&#x23DF;<!-- ⏟ --></mo>
            </munder>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mrow class="MJX-TeXAtom-ORD">
              <mtext>rank one matrix</mtext>
            </mrow>
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
          </mrow>
        </munder>
        <mo>+</mo>
        <mspace width="thinmathspace" />
        <msub>
          <mi>c</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>&#x03BC;<!-- μ --></mi>
          </mrow>
        </msub>
        <munder>
          <mrow class="MJX-TeXAtom-OP MJX-fixedlimits">
            <munder>
              <mrow>
                <munderover>
                  <mo>&#x2211;<!-- ∑ --></mo>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>i</mi>
                    <mo>=</mo>
                    <mn>1</mn>
                  </mrow>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>&#x03BC;<!-- μ --></mi>
                  </mrow>
                </munderover>
                <msub>
                  <mi>w</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>i</mi>
                  </mrow>
                </msub>
                <mrow class="MJX-TeXAtom-ORD">
                  <mfrac>
                    <mrow>
                      <msub>
                        <mi>x</mi>
                        <mrow class="MJX-TeXAtom-ORD">
                          <mi>i</mi>
                          <mo>:</mo>
                          <mi>&#x03BB;<!-- λ --></mi>
                        </mrow>
                      </msub>
                      <mo>&#x2212;<!-- − --></mo>
                      <msub>
                        <mi>m</mi>
                        <mrow class="MJX-TeXAtom-ORD">
                          <mi>k</mi>
                        </mrow>
                      </msub>
                    </mrow>
                    <msub>
                      <mi>&#x03C3;<!-- σ --></mi>
                      <mrow class="MJX-TeXAtom-ORD">
                        <mi>k</mi>
                      </mrow>
                    </msub>
                  </mfrac>
                </mrow>
                <msup>
                  <mrow>
                    <mo>(</mo>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mfrac>
                        <mrow>
                          <msub>
                            <mi>x</mi>
                            <mrow class="MJX-TeXAtom-ORD">
                              <mi>i</mi>
                              <mo>:</mo>
                              <mi>&#x03BB;<!-- λ --></mi>
                            </mrow>
                          </msub>
                          <mo>&#x2212;<!-- − --></mo>
                          <msub>
                            <mi>m</mi>
                            <mrow class="MJX-TeXAtom-ORD">
                              <mi>k</mi>
                            </mrow>
                          </msub>
                        </mrow>
                        <msub>
                          <mi>&#x03C3;<!-- σ --></mi>
                          <mrow class="MJX-TeXAtom-ORD">
                            <mi>k</mi>
                          </mrow>
                        </msub>
                      </mfrac>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>T</mi>
                  </mrow>
                </msup>
              </mrow>
              <mo>&#x23DF;<!-- ⏟ --></mo>
            </munder>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mrow class="MJX-TeXAtom-ORD">
              <mtext>rank</mtext>
            </mrow>
            <mspace width="thickmathspace" />
            <mo movablelimits="true" form="prefix">min</mo>
            <mo stretchy="false">(</mo>
            <mi>&#x03BC;<!-- μ --></mi>
            <mo>,</mo>
            <mi>n</mi>
            <mo stretchy="false">)</mo>
            <mspace width="thickmathspace" />
            <mrow class="MJX-TeXAtom-ORD">
              <mtext>matrix</mtext>
            </mrow>
          </mrow>
        </munder>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle C_{k+1}=\underbrace {(1-c_{1}-c_{\mu }+c_{s})} _{\!\!\!\!\!{\text{discount factor}}\!\!\!\!\!}\,C_{k}+c_{1}\underbrace {p_{c}p_{c}^{T}} _{\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!{\text{rank one matrix}}\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!}+\,c_{\mu }\underbrace {\sum _{i=1}^{\mu }w_{i}{\frac {x_{i:\lambda }-m_{k}}{\sigma _{k}}}\left({\frac {x_{i:\lambda }-m_{k}}{\sigma _{k}}}\right)^{T}} _{{\text{rank}}\;\min(\mu ,n)\;{\text{matrix}}}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/98b03e137e070d8205f22e562ac2cc2c2a5fc9c3" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -7.005ex; margin-right: -0.028ex; width:75.659ex; height:11.176ex;" alt="C_{{k+1}}=\underbrace {(1-c_{1}-c_{\mu }+c_{s})}_{{\!\!\!\!\!{\text{discount factor}}\!\!\!\!\!}}\,C_{k}+c_{1}\underbrace {p_{c}p_{c}^{T}}_{{\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!{\text{rank one matrix}}\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!}}+\,c_{\mu }\underbrace {\sum _{{i=1}}^{\mu }w_{i}{\frac  {x_{{i:\lambda }}-m_{k}}{\sigma _{k}}}\left({\frac  {x_{{i:\lambda }}-m_{k}}{\sigma _{k}}}\right)^{T}}_{{{\text{rank}}\;\min(\mu ,n)\;{\text{matrix}}}}"/></span></dd></dl></dd></dl>
<p>where <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle T}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>T</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle T}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/ec7200acd984a1d3a3d7dc455e262fbe54f7f6e0" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:1.636ex; height:2.176ex;" alt="T"/></span> denotes the transpose and
</p>
<dl><dd><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle c_{c}^{-1}\approx n/4}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msubsup>
          <mi>c</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>c</mi>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mo>&#x2212;<!-- − --></mo>
            <mn>1</mn>
          </mrow>
        </msubsup>
        <mo>&#x2248;<!-- ≈ --></mo>
        <mi>n</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo>/</mo>
        </mrow>
        <mn>4</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle c_{c}^{-1}\approx n/4}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/464808e3274074bb1adf400b265a0c492c757809" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:10.158ex; height:3.176ex;" alt="c_{c}^{{-1}}\approx n/4"/></span> is the backward time horizon for the evolution path <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle p_{c}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>p</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>c</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle p_{c}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/836639c3805ca867b1ff24dc6db7a6b24fc69158" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; margin-left: -0.089ex; width:2.203ex; height:2.009ex;" alt="p_{c}"/></span> and larger than one,</dd></dl>
<dl><dd><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \alpha \approx 1.5}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>&#x03B1;<!-- α --></mi>
        <mo>&#x2248;<!-- ≈ --></mo>
        <mn>1.5</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \alpha \approx 1.5}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/5c6841557c14b574054c34c7dba404399ff1fbfa" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:7.558ex; height:2.176ex;" alt="\alpha \approx 1.5"/></span> and the <a href="/wiki/Indicator_function" title="Indicator function">indicator function</a> <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \mathbf {1} _{[0,\alpha {\sqrt {n}}]}(\|p_{\sigma }\|)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mrow class="MJX-TeXAtom-ORD">
            <mn mathvariant="bold">1</mn>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mo stretchy="false">[</mo>
            <mn>0</mn>
            <mo>,</mo>
            <mi>&#x03B1;<!-- α --></mi>
            <mrow class="MJX-TeXAtom-ORD">
              <msqrt>
                <mi>n</mi>
              </msqrt>
            </mrow>
            <mo stretchy="false">]</mo>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mo fence="false" stretchy="false">&#x2016;<!-- ‖ --></mo>
        <msub>
          <mi>p</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>&#x03C3;<!-- σ --></mi>
          </mrow>
        </msub>
        <mo fence="false" stretchy="false">&#x2016;<!-- ‖ --></mo>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \mathbf {1} _{[0,\alpha {\sqrt {n}}]}(\|p_{\sigma }\|)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/80b4d065c69976177248d9eabb325296cc58de1d" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -1.171ex; width:13.646ex; height:3.176ex;" alt="{\mathbf  {1}}_{{[0,\alpha {\sqrt  {n}}]}}(\|p_{\sigma }\|)"/></span> evaluates to one <a href="/wiki/If_and_only_if" title="If and only if">iff</a> <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \|p_{\sigma }\|\in [0,\alpha {\sqrt {n}}]}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo fence="false" stretchy="false">&#x2016;<!-- ‖ --></mo>
        <msub>
          <mi>p</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>&#x03C3;<!-- σ --></mi>
          </mrow>
        </msub>
        <mo fence="false" stretchy="false">&#x2016;<!-- ‖ --></mo>
        <mo>&#x2208;<!-- ∈ --></mo>
        <mo stretchy="false">[</mo>
        <mn>0</mn>
        <mo>,</mo>
        <mi>&#x03B1;<!-- α --></mi>
        <mrow class="MJX-TeXAtom-ORD">
          <msqrt>
            <mi>n</mi>
          </msqrt>
        </mrow>
        <mo stretchy="false">]</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \|p_{\sigma }\|\in [0,\alpha {\sqrt {n}}]}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/8c2b00e320ea3c1e3ac4d6582629b1cf4d0caff5" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -1.005ex; width:15.816ex; height:3.009ex;" alt="\|p_{\sigma }\|\in [0,\alpha {\sqrt  {n}}]"/></span> or, in other words, <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \|p_{\sigma }\|\leq \alpha {\sqrt {n}}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo fence="false" stretchy="false">&#x2016;<!-- ‖ --></mo>
        <msub>
          <mi>p</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>&#x03C3;<!-- σ --></mi>
          </mrow>
        </msub>
        <mo fence="false" stretchy="false">&#x2016;<!-- ‖ --></mo>
        <mo>&#x2264;<!-- ≤ --></mo>
        <mi>&#x03B1;<!-- α --></mi>
        <mrow class="MJX-TeXAtom-ORD">
          <msqrt>
            <mi>n</mi>
          </msqrt>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \|p_{\sigma }\|\leq \alpha {\sqrt {n}}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/e9af18a29734dd9c1f251e21273df775d9969ba7" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -1.005ex; width:12.583ex; height:3.009ex;" alt="\|p_{\sigma }\|\leq \alpha {\sqrt  {n}}"/></span>, which is usually the case,</dd></dl>
<dl><dd><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle c_{s}=(1-\mathbf {1} _{[0,\alpha {\sqrt {n}}]}(\|p_{\sigma }\|)^{2})\,c_{1}c_{c}(2-c_{c})}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>c</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>s</mi>
          </mrow>
        </msub>
        <mo>=</mo>
        <mo stretchy="false">(</mo>
        <mn>1</mn>
        <mo>&#x2212;<!-- − --></mo>
        <msub>
          <mrow class="MJX-TeXAtom-ORD">
            <mn mathvariant="bold">1</mn>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mo stretchy="false">[</mo>
            <mn>0</mn>
            <mo>,</mo>
            <mi>&#x03B1;<!-- α --></mi>
            <mrow class="MJX-TeXAtom-ORD">
              <msqrt>
                <mi>n</mi>
              </msqrt>
            </mrow>
            <mo stretchy="false">]</mo>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mo fence="false" stretchy="false">&#x2016;<!-- ‖ --></mo>
        <msub>
          <mi>p</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>&#x03C3;<!-- σ --></mi>
          </mrow>
        </msub>
        <mo fence="false" stretchy="false">&#x2016;<!-- ‖ --></mo>
        <msup>
          <mo stretchy="false">)</mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msup>
        <mo stretchy="false">)</mo>
        <mspace width="thinmathspace" />
        <msub>
          <mi>c</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>1</mn>
          </mrow>
        </msub>
        <msub>
          <mi>c</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>c</mi>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mn>2</mn>
        <mo>&#x2212;<!-- − --></mo>
        <msub>
          <mi>c</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>c</mi>
          </mrow>
        </msub>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle c_{s}=(1-\mathbf {1} _{[0,\alpha {\sqrt {n}}]}(\|p_{\sigma }\|)^{2})\,c_{1}c_{c}(2-c_{c})}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/1be154f1d6ef5e3b07f9ab0c14df3e375f832122" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -1.171ex; width:37.784ex; height:3.509ex;" alt="c_{s}=(1-{\mathbf  {1}}_{{[0,\alpha {\sqrt  {n}}]}}(\|p_{\sigma }\|)^{2})\,c_{1}c_{c}(2-c_{c})"/></span> makes partly up for the small variance loss in case the indicator is zero,</dd></dl>
<dl><dd><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle c_{1}\approx 2/n^{2}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>c</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>1</mn>
          </mrow>
        </msub>
        <mo>&#x2248;<!-- ≈ --></mo>
        <mn>2</mn>
        <mrow class="MJX-TeXAtom-ORD">
          <mo>/</mo>
        </mrow>
        <msup>
          <mi>n</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msup>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle c_{1}\approx 2/n^{2}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/49861e2a440e34c6c8310ec7dbe591448461e4af" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:9.933ex; height:3.176ex;" alt="c_{1}\approx 2/n^{2}"/></span> is the learning rate for the rank-one update of the <a href="/wiki/Covariance_matrix" title="Covariance matrix">covariance matrix</a> and</dd></dl>
<dl><dd><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle c_{\mu }\approx \mu _{w}/n^{2}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>c</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>&#x03BC;<!-- μ --></mi>
          </mrow>
        </msub>
        <mo>&#x2248;<!-- ≈ --></mo>
        <msub>
          <mi>&#x03BC;<!-- μ --></mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>w</mi>
          </mrow>
        </msub>
        <mrow class="MJX-TeXAtom-ORD">
          <mo>/</mo>
        </mrow>
        <msup>
          <mi>n</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msup>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle c_{\mu }\approx \mu _{w}/n^{2}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/f955b7b4c578e4091d60806bde0f8fdf7051f406" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -1.005ex; width:11.751ex; height:3.343ex;" alt="c_{\mu }\approx \mu _{w}/n^{2}"/></span> is the learning rate for the rank-<span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \mu }">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>&#x03BC;<!-- μ --></mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \mu }</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/9fd47b2a39f7a7856952afec1f1db72c67af6161" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:1.402ex; height:2.176ex;" alt="\mu "/></span> update of the <a href="/wiki/Covariance_matrix" title="Covariance matrix">covariance matrix</a> and must not exceed <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle 1-c_{1}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mn>1</mn>
        <mo>&#x2212;<!-- − --></mo>
        <msub>
          <mi>c</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>1</mn>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle 1-c_{1}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/bfa9b9f7516b006f28c63a71c7c2a4d2de719f80" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:6.064ex; height:2.509ex;" alt="1-c_{1}"/></span>.</dd></dl>
<p>The <a href="/wiki/Covariance_matrix" title="Covariance matrix">covariance matrix</a> update tends to increase the <a href="/wiki/Likelihood_function" title="Likelihood function">likelihood</a> for <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle p_{c}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>p</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>c</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle p_{c}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/836639c3805ca867b1ff24dc6db7a6b24fc69158" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; margin-left: -0.089ex; width:2.203ex; height:2.009ex;" alt="p_{c}"/></span> and for <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle (x_{i:\lambda }-m_{k})/\sigma _{k}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo stretchy="false">(</mo>
        <msub>
          <mi>x</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>i</mi>
            <mo>:</mo>
            <mi>&#x03BB;<!-- λ --></mi>
          </mrow>
        </msub>
        <mo>&#x2212;<!-- − --></mo>
        <msub>
          <mi>m</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </msub>
        <mo stretchy="false">)</mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mo>/</mo>
        </mrow>
        <msub>
          <mi>&#x03C3;<!-- σ --></mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle (x_{i:\lambda }-m_{k})/\sigma _{k}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/ca0ca46eca9550ec867016630e5353a166d3a2e8" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:14.902ex; height:2.843ex;" alt="(x_{{i:\lambda }}-m_{k})/\sigma _{k}"/></span> to be sampled from <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle {\mathcal {N}}(0,C_{k+1})}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mrow class="MJX-TeXAtom-ORD">
          <mrow class="MJX-TeXAtom-ORD">
            <mi class="MJX-tex-caligraphic" mathvariant="script">N</mi>
          </mrow>
        </mrow>
        <mo stretchy="false">(</mo>
        <mn>0</mn>
        <mo>,</mo>
        <msub>
          <mi>C</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
            <mo>+</mo>
            <mn>1</mn>
          </mrow>
        </msub>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle {\mathcal {N}}(0,C_{k+1})}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/b3c241489a69dcfd9f04e5b14761c3292ed2e8d4" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; margin-left: -0.062ex; width:11.193ex; height:3.009ex;" alt="{\mathcal  {N}}(0,C_{{k+1}})"/></span>. This completes the iteration step.
</p><p>The number of candidate samples per iteration, <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \lambda }">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>&#x03BB;<!-- λ --></mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \lambda }</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/b43d0ea3c9c025af1be9128e62a18fa74bedda2a" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:1.355ex; height:2.176ex;" alt="\lambda "/></span>, is not determined a priori and can vary in a wide range. Smaller values, for example <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \lambda =10}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>&#x03BB;<!-- λ --></mi>
        <mo>=</mo>
        <mn>10</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \lambda =10}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/8ff3681b834249d9847c708bcf87bf20f80468f1" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:6.779ex; height:2.176ex;" alt="\lambda =10"/></span>, lead to more local search behavior. Larger values, for example <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \lambda =10n}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>&#x03BB;<!-- λ --></mi>
        <mo>=</mo>
        <mn>10</mn>
        <mi>n</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \lambda =10n}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/af69739036445a262904950429226c71d554c317" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:8.173ex; height:2.176ex;" alt="\lambda =10n"/></span> with default value <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \mu _{w}\approx \lambda /4}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>&#x03BC;<!-- μ --></mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>w</mi>
          </mrow>
        </msub>
        <mo>&#x2248;<!-- ≈ --></mo>
        <mi>&#x03BB;<!-- λ --></mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo>/</mo>
        </mrow>
        <mn>4</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \mu _{w}\approx \lambda /4}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/2813d7c6870dca2cf59fe73e50c03bfbfb4ec4fb" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:9.589ex; height:2.843ex;" alt="\mu _{w}\approx \lambda /4"/></span>, render the search more global. Sometimes the algorithm is repeatedly restarted with increasing <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \lambda }">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>&#x03BB;<!-- λ --></mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \lambda }</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/b43d0ea3c9c025af1be9128e62a18fa74bedda2a" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:1.355ex; height:2.176ex;" alt="\lambda "/></span> by a factor of two for each restart.<sup id="cite_ref-2" class="reference"><a href="#cite_note-2">&#91;2&#93;</a></sup> Besides of setting <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \lambda }">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>&#x03BB;<!-- λ --></mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \lambda }</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/b43d0ea3c9c025af1be9128e62a18fa74bedda2a" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:1.355ex; height:2.176ex;" alt="\lambda "/></span> (or possibly <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \mu }">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>&#x03BC;<!-- μ --></mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \mu }</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/9fd47b2a39f7a7856952afec1f1db72c67af6161" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:1.402ex; height:2.176ex;" alt="\mu "/></span> instead, if for example <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \lambda }">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>&#x03BB;<!-- λ --></mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \lambda }</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/b43d0ea3c9c025af1be9128e62a18fa74bedda2a" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:1.355ex; height:2.176ex;" alt="\lambda "/></span> is predetermined by the number of available processors), the above introduced parameters are not specific to the given objective function and therefore not meant to be modified by the user.
</p>
<h2><span id="Example_code_in_MATLAB.2FOctave"></span><span class="mw-headline" id="Example_code_in_MATLAB/Octave">Example code in MATLAB/Octave</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=CMA-ES&amp;action=edit&amp;section=3" title="Edit section: Example code in MATLAB/Octave">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="k">function</span><span class="w"> </span>xmin<span class="p">=</span><span class="nf">purecmaes   % </span><span class="p">(</span>mu/mu_w, lambda<span class="p">)</span><span class="o">-</span><span class="n">CMA</span><span class="o">-</span><span class="n">ES</span>
  <span class="c">% --------------------  Initialization --------------------------------  </span>
  <span class="c">% User defined input parameters (need to be edited)</span>
  <span class="n">strfitnessfct</span> <span class="p">=</span> <span class="s">&#39;frosenbrock&#39;</span><span class="p">;</span>  <span class="c">% name of objective/fitness function</span>
  <span class="n">N</span> <span class="p">=</span> <span class="mi">20</span><span class="p">;</span>               <span class="c">% number of objective variables/problem dimension</span>
  <span class="n">xmean</span> <span class="p">=</span> <span class="nb">rand</span><span class="p">(</span><span class="n">N</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>    <span class="c">% objective variables initial point</span>
  <span class="n">sigma</span> <span class="p">=</span> <span class="mf">0.3</span><span class="p">;</span>          <span class="c">% coordinate wise standard deviation (step size)</span>
  <span class="n">stopfitness</span> <span class="p">=</span> <span class="mf">1e-10</span><span class="p">;</span>  <span class="c">% stop if fitness &lt; stopfitness (minimization)</span>
  <span class="n">stopeval</span> <span class="p">=</span> <span class="mf">1e3</span><span class="o">*</span><span class="n">N</span>^<span class="mi">2</span><span class="p">;</span>   <span class="c">% stop after stopeval number of function evaluations</span>
  
  <span class="c">% Strategy parameter setting: Selection  </span>
  <span class="n">lambda</span> <span class="p">=</span> <span class="mi">4</span><span class="o">+</span><span class="nb">floor</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="nb">log</span><span class="p">(</span><span class="n">N</span><span class="p">));</span>  <span class="c">% population size, offspring number</span>
  <span class="n">mu</span> <span class="p">=</span> <span class="n">lambda</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span>               <span class="c">% number of parents/points for recombination</span>
  <span class="n">weights</span> <span class="p">=</span> <span class="nb">log</span><span class="p">(</span><span class="n">mu</span><span class="o">+</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">-</span><span class="nb">log</span><span class="p">(</span><span class="mi">1</span><span class="p">:</span><span class="n">mu</span><span class="p">)</span><span class="o">&#39;</span><span class="p">;</span> <span class="c">% muXone array for weighted recombination</span>
  <span class="n">mu</span> <span class="p">=</span> <span class="nb">floor</span><span class="p">(</span><span class="n">mu</span><span class="p">);</span>        
  <span class="n">weights</span> <span class="p">=</span> <span class="n">weights</span><span class="o">/</span><span class="n">sum</span><span class="p">(</span><span class="n">weights</span><span class="p">);</span>     <span class="c">% normalize recombination weights array</span>
  <span class="n">mueff</span><span class="p">=</span><span class="n">sum</span><span class="p">(</span><span class="n">weights</span><span class="p">)</span>^<span class="mi">2</span><span class="o">/</span><span class="n">sum</span><span class="p">(</span><span class="n">weights</span><span class="o">.^</span><span class="mi">2</span><span class="p">);</span> <span class="c">% variance-effectiveness of sum w_i x_i</span>

  <span class="c">% Strategy parameter setting: Adaptation</span>
  <span class="n">cc</span> <span class="p">=</span> <span class="p">(</span><span class="mi">4</span><span class="o">+</span><span class="n">mueff</span><span class="o">/</span><span class="n">N</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">N</span><span class="o">+</span><span class="mi">4</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">mueff</span><span class="o">/</span><span class="n">N</span><span class="p">);</span>  <span class="c">% time constant for cumulation for C</span>
  <span class="n">cs</span> <span class="p">=</span> <span class="p">(</span><span class="n">mueff</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">N</span><span class="o">+</span><span class="n">mueff</span><span class="o">+</span><span class="mi">5</span><span class="p">);</span>  <span class="c">% t-const for cumulation for sigma control</span>
  <span class="n">c1</span> <span class="p">=</span> <span class="mi">2</span> <span class="o">/</span> <span class="p">((</span><span class="n">N</span><span class="o">+</span><span class="mf">1.3</span><span class="p">)</span>^<span class="mi">2</span><span class="o">+</span><span class="n">mueff</span><span class="p">);</span>    <span class="c">% learning rate for rank-one update of C</span>
  <span class="n">cmu</span> <span class="p">=</span> <span class="n">min</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">c1</span><span class="p">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">mueff</span><span class="o">-</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span><span class="o">/</span><span class="n">mueff</span><span class="p">)</span> <span class="o">/</span> <span class="p">((</span><span class="n">N</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span>^<span class="mi">2</span><span class="o">+</span><span class="n">mueff</span><span class="p">));</span>  <span class="c">% and for rank-mu update</span>
  <span class="n">damps</span> <span class="p">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">sqrt</span><span class="p">((</span><span class="n">mueff</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">N</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">cs</span><span class="p">;</span> <span class="c">% damping for sigma </span>
                                                      <span class="c">% usually close to 1</span>
  <span class="c">% Initialize dynamic (internal) strategy parameters and constants</span>
  <span class="n">pc</span> <span class="p">=</span> <span class="nb">zeros</span><span class="p">(</span><span class="n">N</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span> <span class="n">ps</span> <span class="p">=</span> <span class="nb">zeros</span><span class="p">(</span><span class="n">N</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>   <span class="c">% evolution paths for C and sigma</span>
  <span class="n">B</span> <span class="p">=</span> <span class="nb">eye</span><span class="p">(</span><span class="n">N</span><span class="p">,</span><span class="n">N</span><span class="p">);</span>                       <span class="c">% B defines the coordinate system</span>
  <span class="n">D</span> <span class="p">=</span> <span class="nb">ones</span><span class="p">(</span><span class="n">N</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>                      <span class="c">% diagonal D defines the scaling</span>
  <span class="n">C</span> <span class="p">=</span> <span class="n">B</span> <span class="o">*</span> <span class="nb">diag</span><span class="p">(</span><span class="n">D</span><span class="o">.^</span><span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="n">B</span><span class="o">&#39;</span><span class="p">;</span>            <span class="c">% covariance matrix C</span>
  <span class="n">invsqrtC</span> <span class="p">=</span> <span class="n">B</span> <span class="o">*</span> <span class="nb">diag</span><span class="p">(</span><span class="n">D</span><span class="o">.^-</span><span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">B</span><span class="o">&#39;</span><span class="p">;</span>    <span class="c">% C^-1/2 </span>
  <span class="n">eigeneval</span> <span class="p">=</span> <span class="mi">0</span><span class="p">;</span>                      <span class="c">% track update of B and D</span>
  <span class="n">chiN</span><span class="p">=</span><span class="n">N</span>^<span class="mf">0.5</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">4</span><span class="o">*</span><span class="n">N</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">21</span><span class="o">*</span><span class="n">N</span>^<span class="mi">2</span><span class="p">));</span>  <span class="c">% expectation of </span>
                                      <span class="c">%   ||N(0,I)|| == norm(randn(N,1)) </span>
  <span class="c">% -------------------- Generation Loop --------------------------------</span>
  <span class="n">counteval</span> <span class="p">=</span> <span class="mi">0</span><span class="p">;</span>  <span class="c">% the next 40 lines contain the 20 lines of interesting code </span>
  <span class="k">while</span> <span class="n">counteval</span> <span class="o">&lt;</span> <span class="n">stopeval</span>
    
      <span class="c">% Generate and evaluate lambda offspring</span>
      <span class="k">for</span> <span class="n">k</span><span class="p">=</span><span class="mi">1</span><span class="p">:</span><span class="n">lambda</span>
          <span class="n">arx</span><span class="p">(:,</span><span class="n">k</span><span class="p">)</span> <span class="p">=</span> <span class="n">xmean</span> <span class="o">+</span> <span class="n">sigma</span> <span class="o">*</span> <span class="n">B</span> <span class="o">*</span> <span class="p">(</span><span class="n">D</span> <span class="o">.*</span> <span class="nb">randn</span><span class="p">(</span><span class="n">N</span><span class="p">,</span><span class="mi">1</span><span class="p">));</span> <span class="c">% m + sig * Normal(0,C) </span>
          <span class="n">arfitness</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="p">=</span> <span class="n">feval</span><span class="p">(</span><span class="n">strfitnessfct</span><span class="p">,</span> <span class="n">arx</span><span class="p">(:,</span><span class="n">k</span><span class="p">));</span> <span class="c">% objective function call</span>
          <span class="n">counteval</span> <span class="p">=</span> <span class="n">counteval</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
      <span class="k">end</span>
    
      <span class="c">% Sort by fitness and compute weighted mean into xmean</span>
      <span class="p">[</span><span class="n">arfitness</span><span class="p">,</span> <span class="n">arindex</span><span class="p">]</span> <span class="p">=</span> <span class="n">sort</span><span class="p">(</span><span class="n">arfitness</span><span class="p">);</span> <span class="c">% minimization</span>
      <span class="n">xold</span> <span class="p">=</span> <span class="n">xmean</span><span class="p">;</span>
      <span class="n">xmean</span> <span class="p">=</span> <span class="n">arx</span><span class="p">(:,</span><span class="n">arindex</span><span class="p">(</span><span class="mi">1</span><span class="p">:</span><span class="n">mu</span><span class="p">))</span><span class="o">*</span><span class="n">weights</span><span class="p">;</span>   <span class="c">% recombination, new mean value</span>
    
      <span class="c">% Cumulation: Update evolution paths</span>
      <span class="n">ps</span> <span class="p">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">cs</span><span class="p">)</span><span class="o">*</span><span class="n">ps</span> <span class="c">... </span>
            <span class="o">+</span> <span class="nb">sqrt</span><span class="p">(</span><span class="n">cs</span><span class="o">*</span><span class="p">(</span><span class="mi">2</span><span class="o">-</span><span class="n">cs</span><span class="p">)</span><span class="o">*</span><span class="n">mueff</span><span class="p">)</span> <span class="o">*</span> <span class="n">invsqrtC</span> <span class="o">*</span> <span class="p">(</span><span class="n">xmean</span><span class="o">-</span><span class="n">xold</span><span class="p">)</span> <span class="o">/</span> <span class="n">sigma</span><span class="p">;</span> 
      <span class="n">hsig</span> <span class="p">=</span> <span class="n">norm</span><span class="p">(</span><span class="n">ps</span><span class="p">)</span><span class="o">/</span><span class="nb">sqrt</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">cs</span><span class="p">)</span>^<span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">counteval</span><span class="o">/</span><span class="n">lambda</span><span class="p">))</span><span class="o">/</span><span class="n">chiN</span> <span class="o">&lt;</span> <span class="mf">1.4</span> <span class="o">+</span> <span class="mi">2</span><span class="o">/</span><span class="p">(</span><span class="n">N</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span>
      <span class="n">pc</span> <span class="p">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">cc</span><span class="p">)</span><span class="o">*</span><span class="n">pc</span> <span class="c">...</span>
            <span class="o">+</span> <span class="n">hsig</span> <span class="o">*</span> <span class="nb">sqrt</span><span class="p">(</span><span class="n">cc</span><span class="o">*</span><span class="p">(</span><span class="mi">2</span><span class="o">-</span><span class="n">cc</span><span class="p">)</span><span class="o">*</span><span class="n">mueff</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">xmean</span><span class="o">-</span><span class="n">xold</span><span class="p">)</span> <span class="o">/</span> <span class="n">sigma</span><span class="p">;</span>

      <span class="c">% Adapt covariance matrix C</span>
      <span class="n">artmp</span> <span class="p">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">sigma</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">arx</span><span class="p">(:,</span><span class="n">arindex</span><span class="p">(</span><span class="mi">1</span><span class="p">:</span><span class="n">mu</span><span class="p">))</span><span class="o">-</span><span class="nb">repmat</span><span class="p">(</span><span class="n">xold</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">mu</span><span class="p">));</span>
      <span class="n">C</span> <span class="p">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">c1</span><span class="o">-</span><span class="n">cmu</span><span class="p">)</span> <span class="o">*</span> <span class="n">C</span> <span class="c">...                  % regard old matrix  </span>
           <span class="o">+</span> <span class="n">c1</span> <span class="o">*</span> <span class="p">(</span><span class="n">pc</span><span class="o">*</span><span class="n">pc</span><span class="o">&#39;</span> <span class="c">...                 % plus rank one update</span>
                   <span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">hsig</span><span class="p">)</span> <span class="o">*</span> <span class="n">cc</span><span class="o">*</span><span class="p">(</span><span class="mi">2</span><span class="o">-</span><span class="n">cc</span><span class="p">)</span> <span class="o">*</span> <span class="n">C</span><span class="p">)</span> <span class="c">... % minor correction if hsig==0</span>
           <span class="o">+</span> <span class="n">cmu</span> <span class="o">*</span> <span class="n">artmp</span> <span class="o">*</span> <span class="nb">diag</span><span class="p">(</span><span class="n">weights</span><span class="p">)</span> <span class="o">*</span> <span class="n">artmp</span><span class="o">&#39;</span><span class="p">;</span> <span class="c">% plus rank mu update</span>

      <span class="c">% Adapt step size sigma</span>
      <span class="n">sigma</span> <span class="p">=</span> <span class="n">sigma</span> <span class="o">*</span> <span class="nb">exp</span><span class="p">((</span><span class="n">cs</span><span class="o">/</span><span class="n">damps</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">norm</span><span class="p">(</span><span class="n">ps</span><span class="p">)</span><span class="o">/</span><span class="n">chiN</span> <span class="o">-</span> <span class="mi">1</span><span class="p">));</span> 
    
      <span class="c">% Decomposition of C into B*diag(D.^2)*B&#39; (diagonalization)</span>
      <span class="k">if</span> <span class="n">counteval</span> <span class="o">-</span> <span class="n">eigeneval</span> <span class="o">&gt;</span> <span class="n">lambda</span><span class="o">/</span><span class="p">(</span><span class="n">c1</span><span class="o">+</span><span class="n">cmu</span><span class="p">)</span><span class="o">/</span><span class="n">N</span><span class="o">/</span><span class="mi">10</span>  <span class="c">% to achieve O(N^2)</span>
          <span class="n">eigeneval</span> <span class="p">=</span> <span class="n">counteval</span><span class="p">;</span>
          <span class="n">C</span> <span class="p">=</span> <span class="nb">triu</span><span class="p">(</span><span class="n">C</span><span class="p">)</span> <span class="o">+</span> <span class="nb">triu</span><span class="p">(</span><span class="n">C</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="o">&#39;</span><span class="p">;</span> <span class="c">% enforce symmetry</span>
          <span class="p">[</span><span class="n">B</span><span class="p">,</span><span class="n">D</span><span class="p">]</span> <span class="p">=</span> <span class="n">eig</span><span class="p">(</span><span class="n">C</span><span class="p">);</span>           <span class="c">% eigen decomposition, B==normalized eigenvectors</span>
          <span class="n">D</span> <span class="p">=</span> <span class="nb">sqrt</span><span class="p">(</span><span class="nb">diag</span><span class="p">(</span><span class="n">D</span><span class="p">));</span>        <span class="c">% D is a vector of standard deviations now</span>
          <span class="n">invsqrtC</span> <span class="p">=</span> <span class="n">B</span> <span class="o">*</span> <span class="nb">diag</span><span class="p">(</span><span class="n">D</span><span class="o">.^-</span><span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">B</span><span class="o">&#39;</span><span class="p">;</span>
      <span class="k">end</span>
    
      <span class="c">% Break, if fitness is good enough or condition exceeds 1e14, better termination methods are advisable </span>
      <span class="k">if</span> <span class="n">arfitness</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">&lt;</span><span class="p">=</span> <span class="n">stopfitness</span> <span class="o">||</span> <span class="n">max</span><span class="p">(</span><span class="n">D</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">1e7</span> <span class="o">*</span> <span class="n">min</span><span class="p">(</span><span class="n">D</span><span class="p">)</span>
          <span class="k">break</span><span class="p">;</span>
      <span class="k">end</span>

  <span class="k">end</span> <span class="c">% while, end generation loop</span>

  <span class="n">xmin</span> <span class="p">=</span> <span class="n">arx</span><span class="p">(:,</span> <span class="n">arindex</span><span class="p">(</span><span class="mi">1</span><span class="p">));</span> <span class="c">% Return best point of last iteration.</span>
                             <span class="c">% Notice that xmean is expected to be even</span>
                             <span class="c">% better.</span>
<span class="k">end</span>
<span class="c">% ---------------------------------------------------------------  </span>
<span class="k">function</span><span class="w"> </span>f<span class="p">=</span><span class="nf">frosenbrock</span><span class="p">(</span>x<span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span> <span class="nb">size</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span> <span class="n">error</span><span class="p">(</span><span class="s">&#39;dimension must be greater one&#39;</span><span class="p">);</span> <span class="k">end</span>
    <span class="n">f</span> <span class="p">=</span> <span class="mi">100</span><span class="o">*</span><span class="n">sum</span><span class="p">((</span><span class="n">x</span><span class="p">(</span><span class="mi">1</span><span class="p">:</span><span class="k">end</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.^</span><span class="mi">2</span> <span class="o">-</span> <span class="n">x</span><span class="p">(</span><span class="mi">2</span><span class="p">:</span><span class="k">end</span><span class="p">))</span><span class="o">.^</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="n">sum</span><span class="p">((</span><span class="n">x</span><span class="p">(</span><span class="mi">1</span><span class="p">:</span><span class="k">end</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.^</span><span class="mi">2</span><span class="p">);</span>
<span class="k">end</span>
</pre></div>
<h2><span class="mw-headline" id="Theoretical_foundations">Theoretical foundations</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=CMA-ES&amp;action=edit&amp;section=4" title="Edit section: Theoretical foundations">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Given the distribution parameters&#8212;mean, variances and covariances&#8212;the <a href="/wiki/Multivariate_normal_distribution" title="Multivariate normal distribution">normal probability distribution</a> for sampling new candidate solutions is the <a href="/wiki/Maximum_entropy_probability_distribution" title="Maximum entropy probability distribution">maximum entropy probability distribution</a> over <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \mathbb {R} ^{n}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msup>
          <mrow class="MJX-TeXAtom-ORD">
            <mi mathvariant="double-struck">R</mi>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>n</mi>
          </mrow>
        </msup>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \mathbb {R} ^{n}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/c510b63578322050121fe966f2e5770bea43308d" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:2.897ex; height:2.343ex;" alt="\mathbb {R} ^{n}"/></span>, that is, the sample distribution with the minimal amount of prior information built into the distribution. More considerations on the update equations of CMA-ES are made in the following.
</p>
<h3><span class="mw-headline" id="Variable_metric">Variable metric</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=CMA-ES&amp;action=edit&amp;section=5" title="Edit section: Variable metric">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The CMA-ES implements a stochastic <a href="/wiki/Variable-metric" class="mw-redirect" title="Variable-metric">variable-metric</a> method. In the very particular case of a convex-quadratic objective function
</p>
<dl><dd><dl><dd><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f(x)={\textstyle {\frac {1}{2}}}(x-x^{*})^{T}H(x-x^{*})}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>f</mi>
        <mo stretchy="false">(</mo>
        <mi>x</mi>
        <mo stretchy="false">)</mo>
        <mo>=</mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mstyle displaystyle="false" scriptlevel="0">
            <mrow class="MJX-TeXAtom-ORD">
              <mfrac>
                <mn>1</mn>
                <mn>2</mn>
              </mfrac>
            </mrow>
          </mstyle>
        </mrow>
        <mo stretchy="false">(</mo>
        <mi>x</mi>
        <mo>&#x2212;<!-- − --></mo>
        <msup>
          <mi>x</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mo>&#x2217;<!-- ∗ --></mo>
          </mrow>
        </msup>
        <msup>
          <mo stretchy="false">)</mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>T</mi>
          </mrow>
        </msup>
        <mi>H</mi>
        <mo stretchy="false">(</mo>
        <mi>x</mi>
        <mo>&#x2212;<!-- − --></mo>
        <msup>
          <mi>x</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mo>&#x2217;<!-- ∗ --></mo>
          </mrow>
        </msup>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f(x)={\textstyle {\frac {1}{2}}}(x-x^{*})^{T}H(x-x^{*})}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/b1063421b2884ffe6905ce352e7fa7baa3f0530e" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -1.171ex; width:29.354ex; height:3.509ex;" alt="f(x)={\textstyle {\frac  {1}{2}}}(x-x^{*})^{T}H(x-x^{*})"/></span></dd></dl></dd></dl>
<p>the covariance matrix <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle C_{k}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>C</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle C_{k}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/1a0887b56787ba96e79de2b9f5c6ff30aabad1c6" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:2.751ex; height:2.509ex;" alt="C_{k}"/></span> adapts to the inverse of the <a href="/wiki/Hessian_matrix" title="Hessian matrix">Hessian matrix</a> <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle H}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>H</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle H}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/75a9edddcca2f782014371f75dca39d7e13a9c1b" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:2.064ex; height:2.176ex;" alt="H"/></span>, <a href="/wiki/Up_to" title="Up to">up to</a> a scalar factor and small random fluctuations. More general, also on the function <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle g\circ f}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>g</mi>
        <mo>&#x2218;<!-- ∘ --></mo>
        <mi>f</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle g\circ f}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/10b5ad4985af48d0fb7efa3c8afa5ad7d42bfc92" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:4.589ex; height:2.509ex;" alt="g\circ f"/></span>, where <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle g}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>g</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle g}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/d3556280e66fe2c0d0140df20935a6f057381d77" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:1.116ex; height:2.009ex;" alt="g"/></span> is strictly increasing and therefore order preserving and <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>f</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/132e57acb643253e7810ee9702d9581f159a1c61" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:1.279ex; height:2.509ex;" alt="f"/></span> is convex-quadratic, the covariance matrix <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle C_{k}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>C</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle C_{k}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/1a0887b56787ba96e79de2b9f5c6ff30aabad1c6" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:2.751ex; height:2.509ex;" alt="C_{k}"/></span> adapts to <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle H^{-1}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msup>
          <mi>H</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mo>&#x2212;<!-- − --></mo>
            <mn>1</mn>
          </mrow>
        </msup>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle H^{-1}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/8a866bed9de4a9cf9bca4eaf753811839f2b5ad5" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:4.436ex; height:2.676ex;" alt="H^{{-1}}"/></span>, <a href="/wiki/Up_to" title="Up to">up to</a> a scalar factor and small random fluctuations. Note that a generalized capability of evolution strategies to adapt a covariance matrix reflective of the inverse-Hessian has been proven for a static model relying on a quadratic approximation.<sup id="cite_ref-3" class="reference"><a href="#cite_note-3">&#91;3&#93;</a></sup>
</p>
<h3><span class="mw-headline" id="Maximum-likelihood_updates">Maximum-likelihood updates</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=CMA-ES&amp;action=edit&amp;section=6" title="Edit section: Maximum-likelihood updates">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The update equations for mean and covariance matrix maximize a <a href="/wiki/Likelihood" class="mw-redirect" title="Likelihood">likelihood</a> while resembling an <a href="/wiki/Expectation_maximization" class="mw-redirect" title="Expectation maximization">expectation-maximization</a> algorithm. The update of the mean vector <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle m}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>m</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle m}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/0a07d98bb302f3856cbabc47b2b9016692e3f7bc" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:2.04ex; height:1.676ex;" alt="m"/></span> maximizes a log-likelihood, such that
</p>
<dl><dd><dl><dd><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle m_{k+1}=\arg \max _{m}\sum _{i=1}^{\mu }w_{i}\log p_{\mathcal {N}}(x_{i:\lambda }|m)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>m</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
            <mo>+</mo>
            <mn>1</mn>
          </mrow>
        </msub>
        <mo>=</mo>
        <mi>arg</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <munder>
          <mo movablelimits="true" form="prefix">max</mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>m</mi>
          </mrow>
        </munder>
        <munderover>
          <mo>&#x2211;<!-- ∑ --></mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>i</mi>
            <mo>=</mo>
            <mn>1</mn>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>&#x03BC;<!-- μ --></mi>
          </mrow>
        </munderover>
        <msub>
          <mi>w</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>i</mi>
          </mrow>
        </msub>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <msub>
          <mi>p</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mrow class="MJX-TeXAtom-ORD">
              <mi class="MJX-tex-caligraphic" mathvariant="script">N</mi>
            </mrow>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <msub>
          <mi>x</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>i</mi>
            <mo>:</mo>
            <mi>&#x03BB;<!-- λ --></mi>
          </mrow>
        </msub>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mi>m</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle m_{k+1}=\arg \max _{m}\sum _{i=1}^{\mu }w_{i}\log p_{\mathcal {N}}(x_{i:\lambda }|m)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/6e411cb6c65741c006b4fafb93872f8b74d52fd7" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -3.005ex; width:37.668ex; height:7.009ex;" alt="m_{{k+1}}=\arg \max _{{m}}\sum _{{i=1}}^{\mu }w_{i}\log p_{{\mathcal  {N}}}(x_{{i:\lambda }}|m)"/></span></dd></dl></dd></dl>
<p>where
</p>
<dl><dd><dl><dd><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \log p_{\mathcal {N}}(x)=-{\frac {1}{2}}\log \det(2\pi C)-{\frac {1}{2}}(x-m)^{T}C^{-1}(x-m)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <msub>
          <mi>p</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mrow class="MJX-TeXAtom-ORD">
              <mi class="MJX-tex-caligraphic" mathvariant="script">N</mi>
            </mrow>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mi>x</mi>
        <mo stretchy="false">)</mo>
        <mo>=</mo>
        <mo>&#x2212;<!-- − --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mfrac>
            <mn>1</mn>
            <mn>2</mn>
          </mfrac>
        </mrow>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mo movablelimits="true" form="prefix">det</mo>
        <mo stretchy="false">(</mo>
        <mn>2</mn>
        <mi>&#x03C0;<!-- π --></mi>
        <mi>C</mi>
        <mo stretchy="false">)</mo>
        <mo>&#x2212;<!-- − --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mfrac>
            <mn>1</mn>
            <mn>2</mn>
          </mfrac>
        </mrow>
        <mo stretchy="false">(</mo>
        <mi>x</mi>
        <mo>&#x2212;<!-- − --></mo>
        <mi>m</mi>
        <msup>
          <mo stretchy="false">)</mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>T</mi>
          </mrow>
        </msup>
        <msup>
          <mi>C</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mo>&#x2212;<!-- − --></mo>
            <mn>1</mn>
          </mrow>
        </msup>
        <mo stretchy="false">(</mo>
        <mi>x</mi>
        <mo>&#x2212;<!-- − --></mo>
        <mi>m</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \log p_{\mathcal {N}}(x)=-{\frac {1}{2}}\log \det(2\pi C)-{\frac {1}{2}}(x-m)^{T}C^{-1}(x-m)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/25fdd8ad7e7cc7c8bf5b95103d58da353e26dd77" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -1.838ex; width:55.857ex; height:5.176ex;" alt="\log p_{{\mathcal  {N}}}(x)=-{\frac  {1}{2}}\log \det(2\pi C)-{\frac  {1}{2}}(x-m)^{T}C^{{-1}}(x-m)"/></span></dd></dl></dd></dl>
<p>denotes the log-likelihood of <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle x}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>x</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle x}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/87f9e315fd7e2ba406057a97300593c4802b53e4" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:1.33ex; height:1.676ex;" alt="x"/></span> from a multivariate normal distribution with mean <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle m}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>m</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle m}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/0a07d98bb302f3856cbabc47b2b9016692e3f7bc" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:2.04ex; height:1.676ex;" alt="m"/></span> and any positive definite covariance matrix <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle C}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>C</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle C}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/4fc55753007cd3c18576f7933f6f089196732029" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:1.766ex; height:2.176ex;" alt="C"/></span>. To see that <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle m_{k+1}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>m</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
            <mo>+</mo>
            <mn>1</mn>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle m_{k+1}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/d4b8a263f059d1e77a1e2cfc73617b112e1124cc" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:5.23ex; height:2.009ex;" alt="m_{{k+1}}"/></span> is independent of <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle C}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>C</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle C}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/4fc55753007cd3c18576f7933f6f089196732029" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:1.766ex; height:2.176ex;" alt="C"/></span> remark first that this is the case for any diagonal matrix <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle C}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>C</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle C}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/4fc55753007cd3c18576f7933f6f089196732029" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:1.766ex; height:2.176ex;" alt="C"/></span>, because the coordinate-wise maximizer is independent of a scaling factor. Then, rotation of the data points or choosing <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle C}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>C</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle C}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/4fc55753007cd3c18576f7933f6f089196732029" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:1.766ex; height:2.176ex;" alt="C"/></span> non-diagonal are equivalent.
</p><p>The rank-<span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \mu }">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>&#x03BC;<!-- μ --></mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \mu }</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/9fd47b2a39f7a7856952afec1f1db72c67af6161" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:1.402ex; height:2.176ex;" alt="\mu "/></span> update of the covariance matrix, that is, the right most summand in the update equation of <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle C_{k}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>C</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle C_{k}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/1a0887b56787ba96e79de2b9f5c6ff30aabad1c6" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:2.751ex; height:2.509ex;" alt="C_{k}"/></span>, maximizes a log-likelihood in that
</p>
<dl><dd><dl><dd><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \sum _{i=1}^{\mu }w_{i}{\frac {x_{i:\lambda }-m_{k}}{\sigma _{k}}}\left({\frac {x_{i:\lambda }-m_{k}}{\sigma _{k}}}\right)^{T}=\arg \max _{C}\sum _{i=1}^{\mu }w_{i}\log p_{\mathcal {N}}\left(\left.{\frac {x_{i:\lambda }-m_{k}}{\sigma _{k}}}\right|C\right)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <munderover>
          <mo>&#x2211;<!-- ∑ --></mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>i</mi>
            <mo>=</mo>
            <mn>1</mn>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>&#x03BC;<!-- μ --></mi>
          </mrow>
        </munderover>
        <msub>
          <mi>w</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>i</mi>
          </mrow>
        </msub>
        <mrow class="MJX-TeXAtom-ORD">
          <mfrac>
            <mrow>
              <msub>
                <mi>x</mi>
                <mrow class="MJX-TeXAtom-ORD">
                  <mi>i</mi>
                  <mo>:</mo>
                  <mi>&#x03BB;<!-- λ --></mi>
                </mrow>
              </msub>
              <mo>&#x2212;<!-- − --></mo>
              <msub>
                <mi>m</mi>
                <mrow class="MJX-TeXAtom-ORD">
                  <mi>k</mi>
                </mrow>
              </msub>
            </mrow>
            <msub>
              <mi>&#x03C3;<!-- σ --></mi>
              <mrow class="MJX-TeXAtom-ORD">
                <mi>k</mi>
              </mrow>
            </msub>
          </mfrac>
        </mrow>
        <msup>
          <mrow>
            <mo>(</mo>
            <mrow class="MJX-TeXAtom-ORD">
              <mfrac>
                <mrow>
                  <msub>
                    <mi>x</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mi>i</mi>
                      <mo>:</mo>
                      <mi>&#x03BB;<!-- λ --></mi>
                    </mrow>
                  </msub>
                  <mo>&#x2212;<!-- − --></mo>
                  <msub>
                    <mi>m</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mi>k</mi>
                    </mrow>
                  </msub>
                </mrow>
                <msub>
                  <mi>&#x03C3;<!-- σ --></mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>k</mi>
                  </mrow>
                </msub>
              </mfrac>
            </mrow>
            <mo>)</mo>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>T</mi>
          </mrow>
        </msup>
        <mo>=</mo>
        <mi>arg</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <munder>
          <mo movablelimits="true" form="prefix">max</mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>C</mi>
          </mrow>
        </munder>
        <munderover>
          <mo>&#x2211;<!-- ∑ --></mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>i</mi>
            <mo>=</mo>
            <mn>1</mn>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>&#x03BC;<!-- μ --></mi>
          </mrow>
        </munderover>
        <msub>
          <mi>w</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>i</mi>
          </mrow>
        </msub>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <msub>
          <mi>p</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mrow class="MJX-TeXAtom-ORD">
              <mi class="MJX-tex-caligraphic" mathvariant="script">N</mi>
            </mrow>
          </mrow>
        </msub>
        <mrow>
          <mo>(</mo>
          <mrow>
            <mrow>
              <mo fence="true" stretchy="true" symmetric="true"></mo>
              <mrow class="MJX-TeXAtom-ORD">
                <mfrac>
                  <mrow>
                    <msub>
                      <mi>x</mi>
                      <mrow class="MJX-TeXAtom-ORD">
                        <mi>i</mi>
                        <mo>:</mo>
                        <mi>&#x03BB;<!-- λ --></mi>
                      </mrow>
                    </msub>
                    <mo>&#x2212;<!-- − --></mo>
                    <msub>
                      <mi>m</mi>
                      <mrow class="MJX-TeXAtom-ORD">
                        <mi>k</mi>
                      </mrow>
                    </msub>
                  </mrow>
                  <msub>
                    <mi>&#x03C3;<!-- σ --></mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mi>k</mi>
                    </mrow>
                  </msub>
                </mfrac>
              </mrow>
              <mo>|</mo>
            </mrow>
            <mi>C</mi>
          </mrow>
          <mo>)</mo>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \sum _{i=1}^{\mu }w_{i}{\frac {x_{i:\lambda }-m_{k}}{\sigma _{k}}}\left({\frac {x_{i:\lambda }-m_{k}}{\sigma _{k}}}\right)^{T}=\arg \max _{C}\sum _{i=1}^{\mu }w_{i}\log p_{\mathcal {N}}\left(\left.{\frac {x_{i:\lambda }-m_{k}}{\sigma _{k}}}\right|C\right)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/b5997e145a5d0348ed40860a8cb50a2d882fcc65" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -3.005ex; width:73.074ex; height:7.176ex;" alt="\sum _{{i=1}}^{\mu }w_{i}{\frac  {x_{{i:\lambda }}-m_{k}}{\sigma _{k}}}\left({\frac  {x_{{i:\lambda }}-m_{k}}{\sigma _{k}}}\right)^{T}=\arg \max _{{C}}\sum _{{i=1}}^{\mu }w_{i}\log p_{{\mathcal  {N}}}\left(\left.{\frac  {x_{{i:\lambda }}-m_{k}}{\sigma _{k}}}\right|C\right)"/></span></dd></dl></dd></dl>
<p>for <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \mu \geq n}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>&#x03BC;<!-- μ --></mi>
        <mo>&#x2265;<!-- ≥ --></mo>
        <mi>n</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \mu \geq n}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/19e9cd9e339b19676197c0c2dcdac70789f703ef" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:5.895ex; height:2.509ex;" alt="\mu \geq n"/></span> (otherwise <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle C}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>C</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle C}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/4fc55753007cd3c18576f7933f6f089196732029" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:1.766ex; height:2.176ex;" alt="C"/></span> is singular, but substantially the same result holds for <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \mu &lt;n}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>&#x03BC;<!-- μ --></mi>
        <mo>&lt;</mo>
        <mi>n</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \mu &lt;n}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/3469d08443921cba2ec8b529ba90032aab0f2489" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:5.895ex; height:2.343ex;" alt="\mu &lt;n"/></span>). Here, <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle p_{\mathcal {N}}(x|C)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>p</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mrow class="MJX-TeXAtom-ORD">
              <mi class="MJX-tex-caligraphic" mathvariant="script">N</mi>
            </mrow>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mi>x</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mi>C</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle p_{\mathcal {N}}(x|C)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/1793dc3f0f07291adc18a1bf0e718ad59c844d7c" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; margin-left: -0.089ex; width:8.652ex; height:2.843ex;" alt="p_{{\mathcal  {N}}}(x|C)"/></span> denotes the likelihood of <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle x}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>x</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle x}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/87f9e315fd7e2ba406057a97300593c4802b53e4" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:1.33ex; height:1.676ex;" alt="x"/></span> from a multivariate normal distribution with zero mean and covariance matrix <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle C}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>C</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle C}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/4fc55753007cd3c18576f7933f6f089196732029" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:1.766ex; height:2.176ex;" alt="C"/></span>. Therefore, for <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle c_{1}=0}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>c</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>1</mn>
          </mrow>
        </msub>
        <mo>=</mo>
        <mn>0</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle c_{1}=0}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/1d648c5e49c9b18f0e8937f54dd6977b10d5b764" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:6.322ex; height:2.509ex;" alt="c_{1}=0"/></span> and <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle c_{\mu }=1}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>c</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>&#x03BC;<!-- μ --></mi>
          </mrow>
        </msub>
        <mo>=</mo>
        <mn>1</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle c_{\mu }=1}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/c1c454a96c70f6dde69fd08e89ae5b106a162803" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -1.005ex; width:6.491ex; height:2.843ex;" alt="c_{\mu }=1"/></span>, <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle C_{k+1}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>C</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
            <mo>+</mo>
            <mn>1</mn>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle C_{k+1}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/4ab76165ee52a0638cb2ff277eecc1d5daadcaac" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:4.851ex; height:2.509ex;" alt="C_{{k+1}}"/></span> is the above <a href="/wiki/Maximum-likelihood" class="mw-redirect" title="Maximum-likelihood">maximum-likelihood</a> estimator. See <a href="/wiki/Estimation_of_covariance_matrices" title="Estimation of covariance matrices">estimation of covariance matrices</a> for details on the derivation.
</p>
<h3><span class="mw-headline" id="Natural_gradient_descent_in_the_space_of_sample_distributions">Natural gradient descent in the space of sample distributions</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=CMA-ES&amp;action=edit&amp;section=7" title="Edit section: Natural gradient descent in the space of sample distributions">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Akimoto <i>et al.</i><sup id="cite_ref-akimoto2010_4-0" class="reference"><a href="#cite_note-akimoto2010-4">&#91;4&#93;</a></sup> and Glasmachers <i>et al.</i><sup id="cite_ref-glasmachers2010_5-0" class="reference"><a href="#cite_note-glasmachers2010-5">&#91;5&#93;</a></sup> discovered independently that the update of the distribution parameters resembles the descent in direction of a sampled <a href="/wiki/Information_geometry#Natural_gradient" title="Information geometry">natural gradient</a> of the expected objective function value <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle Ef(x)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>E</mi>
        <mi>f</mi>
        <mo stretchy="false">(</mo>
        <mi>x</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle Ef(x)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/6e475f10fa6f07d7d362428eedb009469bac3559" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:6.193ex; height:2.843ex;" alt="{\displaystyle Ef(x)}"/></span> (to be minimized), where the expectation is taken under the sample distribution. With the parameter setting of <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle c_{\sigma }=0}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>c</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>&#x03C3;<!-- σ --></mi>
          </mrow>
        </msub>
        <mo>=</mo>
        <mn>0</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle c_{\sigma }=0}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/ac647c754fbc83293920d790e1a6ea35c2be9f4f" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:6.44ex; height:2.509ex;" alt="c_{\sigma }=0"/></span> and <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle c_{1}=0}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>c</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>1</mn>
          </mrow>
        </msub>
        <mo>=</mo>
        <mn>0</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle c_{1}=0}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/1d648c5e49c9b18f0e8937f54dd6977b10d5b764" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:6.322ex; height:2.509ex;" alt="c_{1}=0"/></span>, i.e. without step-size control and rank-one update, CMA-ES can thus be viewed as an instantiation of <a href="/wiki/Natural_Evolution_Strategies" class="mw-redirect" title="Natural Evolution Strategies">Natural Evolution Strategies</a> (NES).<sup id="cite_ref-akimoto2010_4-1" class="reference"><a href="#cite_note-akimoto2010-4">&#91;4&#93;</a></sup><sup id="cite_ref-glasmachers2010_5-1" class="reference"><a href="#cite_note-glasmachers2010-5">&#91;5&#93;</a></sup>
The <a href="/wiki/Information_geometry#Natural_gradient" title="Information geometry"><i>natural</i> gradient</a> is independent of the parameterization of the distribution. Taken with respect to the parameters <span class="texhtml"><var>&#952;</var></span> of the sample distribution <span class="texhtml"><var>p</var></span>, the gradient of<span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle Ef(x)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>E</mi>
        <mi>f</mi>
        <mo stretchy="false">(</mo>
        <mi>x</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle Ef(x)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/6e475f10fa6f07d7d362428eedb009469bac3559" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:6.193ex; height:2.843ex;" alt="{\displaystyle Ef(x)}"/></span> can be expressed as
</p>
<dl><dd><dl><dd><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle {\begin{aligned}{\nabla }_{\!\theta }E(f(x)|\theta )&amp;=\nabla _{\!\theta }\int _{\mathbb {R} ^{n}}f(x)p(x)\mathrm {d} x\\&amp;=\int _{\mathbb {R} ^{n}}f(x)\nabla _{\!\theta }p(x)\mathrm {d} x\\&amp;=\int _{\mathbb {R} ^{n}}f(x)p(x)\nabla _{\!\theta }\ln p(x)\mathrm {d} x\\&amp;=E(f(x)\nabla _{\!\theta }\ln p(x|\theta ))\end{aligned}}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mrow class="MJX-TeXAtom-ORD">
          <mtable columnalign="right left right left right left right left right left right left" rowspacing="3pt" columnspacing="0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em" displaystyle="true">
            <mtr>
              <mtd>
                <msub>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi mathvariant="normal">&#x2207;<!-- ∇ --></mi>
                  </mrow>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mspace width="negativethinmathspace" />
                    <mi>&#x03B8;<!-- θ --></mi>
                  </mrow>
                </msub>
                <mi>E</mi>
                <mo stretchy="false">(</mo>
                <mi>f</mi>
                <mo stretchy="false">(</mo>
                <mi>x</mi>
                <mo stretchy="false">)</mo>
                <mrow class="MJX-TeXAtom-ORD">
                  <mo stretchy="false">|</mo>
                </mrow>
                <mi>&#x03B8;<!-- θ --></mi>
                <mo stretchy="false">)</mo>
              </mtd>
              <mtd>
                <mi></mi>
                <mo>=</mo>
                <msub>
                  <mi mathvariant="normal">&#x2207;<!-- ∇ --></mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mspace width="negativethinmathspace" />
                    <mi>&#x03B8;<!-- θ --></mi>
                  </mrow>
                </msub>
                <msub>
                  <mo>&#x222B;<!-- ∫ --></mo>
                  <mrow class="MJX-TeXAtom-ORD">
                    <msup>
                      <mrow class="MJX-TeXAtom-ORD">
                        <mi mathvariant="double-struck">R</mi>
                      </mrow>
                      <mrow class="MJX-TeXAtom-ORD">
                        <mi>n</mi>
                      </mrow>
                    </msup>
                  </mrow>
                </msub>
                <mi>f</mi>
                <mo stretchy="false">(</mo>
                <mi>x</mi>
                <mo stretchy="false">)</mo>
                <mi>p</mi>
                <mo stretchy="false">(</mo>
                <mi>x</mi>
                <mo stretchy="false">)</mo>
                <mrow class="MJX-TeXAtom-ORD">
                  <mi mathvariant="normal">d</mi>
                </mrow>
                <mi>x</mi>
              </mtd>
            </mtr>
            <mtr>
              <mtd />
              <mtd>
                <mi></mi>
                <mo>=</mo>
                <msub>
                  <mo>&#x222B;<!-- ∫ --></mo>
                  <mrow class="MJX-TeXAtom-ORD">
                    <msup>
                      <mrow class="MJX-TeXAtom-ORD">
                        <mi mathvariant="double-struck">R</mi>
                      </mrow>
                      <mrow class="MJX-TeXAtom-ORD">
                        <mi>n</mi>
                      </mrow>
                    </msup>
                  </mrow>
                </msub>
                <mi>f</mi>
                <mo stretchy="false">(</mo>
                <mi>x</mi>
                <mo stretchy="false">)</mo>
                <msub>
                  <mi mathvariant="normal">&#x2207;<!-- ∇ --></mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mspace width="negativethinmathspace" />
                    <mi>&#x03B8;<!-- θ --></mi>
                  </mrow>
                </msub>
                <mi>p</mi>
                <mo stretchy="false">(</mo>
                <mi>x</mi>
                <mo stretchy="false">)</mo>
                <mrow class="MJX-TeXAtom-ORD">
                  <mi mathvariant="normal">d</mi>
                </mrow>
                <mi>x</mi>
              </mtd>
            </mtr>
            <mtr>
              <mtd />
              <mtd>
                <mi></mi>
                <mo>=</mo>
                <msub>
                  <mo>&#x222B;<!-- ∫ --></mo>
                  <mrow class="MJX-TeXAtom-ORD">
                    <msup>
                      <mrow class="MJX-TeXAtom-ORD">
                        <mi mathvariant="double-struck">R</mi>
                      </mrow>
                      <mrow class="MJX-TeXAtom-ORD">
                        <mi>n</mi>
                      </mrow>
                    </msup>
                  </mrow>
                </msub>
                <mi>f</mi>
                <mo stretchy="false">(</mo>
                <mi>x</mi>
                <mo stretchy="false">)</mo>
                <mi>p</mi>
                <mo stretchy="false">(</mo>
                <mi>x</mi>
                <mo stretchy="false">)</mo>
                <msub>
                  <mi mathvariant="normal">&#x2207;<!-- ∇ --></mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mspace width="negativethinmathspace" />
                    <mi>&#x03B8;<!-- θ --></mi>
                  </mrow>
                </msub>
                <mi>ln</mi>
                <mo>&#x2061;<!-- ⁡ --></mo>
                <mi>p</mi>
                <mo stretchy="false">(</mo>
                <mi>x</mi>
                <mo stretchy="false">)</mo>
                <mrow class="MJX-TeXAtom-ORD">
                  <mi mathvariant="normal">d</mi>
                </mrow>
                <mi>x</mi>
              </mtd>
            </mtr>
            <mtr>
              <mtd />
              <mtd>
                <mi></mi>
                <mo>=</mo>
                <mi>E</mi>
                <mo stretchy="false">(</mo>
                <mi>f</mi>
                <mo stretchy="false">(</mo>
                <mi>x</mi>
                <mo stretchy="false">)</mo>
                <msub>
                  <mi mathvariant="normal">&#x2207;<!-- ∇ --></mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mspace width="negativethinmathspace" />
                    <mi>&#x03B8;<!-- θ --></mi>
                  </mrow>
                </msub>
                <mi>ln</mi>
                <mo>&#x2061;<!-- ⁡ --></mo>
                <mi>p</mi>
                <mo stretchy="false">(</mo>
                <mi>x</mi>
                <mrow class="MJX-TeXAtom-ORD">
                  <mo stretchy="false">|</mo>
                </mrow>
                <mi>&#x03B8;<!-- θ --></mi>
                <mo stretchy="false">)</mo>
                <mo stretchy="false">)</mo>
              </mtd>
            </mtr>
          </mtable>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle {\begin{aligned}{\nabla }_{\!\theta }E(f(x)|\theta )&amp;=\nabla _{\!\theta }\int _{\mathbb {R} ^{n}}f(x)p(x)\mathrm {d} x\\&amp;=\int _{\mathbb {R} ^{n}}f(x)\nabla _{\!\theta }p(x)\mathrm {d} x\\&amp;=\int _{\mathbb {R} ^{n}}f(x)p(x)\nabla _{\!\theta }\ln p(x)\mathrm {d} x\\&amp;=E(f(x)\nabla _{\!\theta }\ln p(x|\theta ))\end{aligned}}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/1737058660e2cb309ceb79994139849684162711" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -9.838ex; width:41.127ex; height:20.843ex;" alt="{\begin{aligned}{\nabla }_{{\!\theta }}E(f(x)|\theta )&amp;=\nabla _{{\!\theta }}\int _{{{\mathbb  R}^{n}}}f(x)p(x){\mathrm  {d}}x\\&amp;=\int _{{{\mathbb  R}^{n}}}f(x)\nabla _{{\!\theta }}p(x){\mathrm  {d}}x\\&amp;=\int _{{{\mathbb  R}^{n}}}f(x)p(x)\nabla _{{\!\theta }}\ln p(x){\mathrm  {d}}x\\&amp;=E(f(x)\nabla _{{\!\theta }}\ln p(x|\theta ))\end{aligned}}"/></span></dd></dl></dd></dl>
<p>where <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle p(x)=p(x|\theta )}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>p</mi>
        <mo stretchy="false">(</mo>
        <mi>x</mi>
        <mo stretchy="false">)</mo>
        <mo>=</mo>
        <mi>p</mi>
        <mo stretchy="false">(</mo>
        <mi>x</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mi>&#x03B8;<!-- θ --></mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle p(x)=p(x|\theta )}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/763260149b3937284b43f958d1bd96eaf386fb09" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; margin-left: -0.089ex; width:13.542ex; height:2.843ex;" alt="p(x)=p(x|\theta )"/></span> depends on the parameter vector <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \theta }">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>&#x03B8;<!-- θ --></mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \theta }</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/6e5ab2664b422d53eb0c7df3b87e1360d75ad9af" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:1.09ex; height:2.176ex;" alt="\theta "/></span>. The so-called <a href="/wiki/Score_(statistics)" title="Score (statistics)">score function</a>, <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \nabla _{\!\theta }\ln p(x|\theta )={\frac {\nabla _{\!\theta }p(x)}{p(x)}}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi mathvariant="normal">&#x2207;<!-- ∇ --></mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mspace width="negativethinmathspace" />
            <mi>&#x03B8;<!-- θ --></mi>
          </mrow>
        </msub>
        <mi>ln</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mi>p</mi>
        <mo stretchy="false">(</mo>
        <mi>x</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mi>&#x03B8;<!-- θ --></mi>
        <mo stretchy="false">)</mo>
        <mo>=</mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mfrac>
            <mrow>
              <msub>
                <mi mathvariant="normal">&#x2207;<!-- ∇ --></mi>
                <mrow class="MJX-TeXAtom-ORD">
                  <mspace width="negativethinmathspace" />
                  <mi>&#x03B8;<!-- θ --></mi>
                </mrow>
              </msub>
              <mi>p</mi>
              <mo stretchy="false">(</mo>
              <mi>x</mi>
              <mo stretchy="false">)</mo>
            </mrow>
            <mrow>
              <mi>p</mi>
              <mo stretchy="false">(</mo>
              <mi>x</mi>
              <mo stretchy="false">)</mo>
            </mrow>
          </mfrac>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \nabla _{\!\theta }\ln p(x|\theta )={\frac {\nabla _{\!\theta }p(x)}{p(x)}}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/e55baf5c4a8fc0ec76339a25e8c5abde7916be5c" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -2.671ex; width:22.106ex; height:6.509ex;" alt="\nabla _{{\!\theta }}\ln p(x|\theta )={\frac  {\nabla _{{\!\theta }}p(x)}{p(x)}}"/></span>, indicates the relative sensitivity of <span class="texhtml"><var>p</var></span> w.r.t. <span class="texhtml"><var>&#952;</var></span>, and the expectation is taken with respect to the distribution <span class="texhtml"><var>p</var></span>. The <a href="/wiki/Information_geometry#Natural_gradient" title="Information geometry"><i>natural</i> gradient</a> of <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle Ef(x)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>E</mi>
        <mi>f</mi>
        <mo stretchy="false">(</mo>
        <mi>x</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle Ef(x)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/6e475f10fa6f07d7d362428eedb009469bac3559" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:6.193ex; height:2.843ex;" alt="{\displaystyle Ef(x)}"/></span>, complying with the <a href="/wiki/Fisher_information_metric" title="Fisher information metric">Fisher information metric</a> (an informational distance measure between probability distributions and the curvature of the <a href="/wiki/Relative_entropy" class="mw-redirect" title="Relative entropy">relative entropy</a>), now reads
</p>
<dl><dd><dl><dd><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle {\begin{aligned}{\tilde {\nabla }}E(f(x)|\theta )&amp;=F_{\theta }^{-1}\nabla _{\!\theta }E(f(x)|\theta )\end{aligned}}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mrow class="MJX-TeXAtom-ORD">
          <mtable columnalign="right left right left right left right left right left right left" rowspacing="3pt" columnspacing="0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em" displaystyle="true">
            <mtr>
              <mtd>
                <mrow class="MJX-TeXAtom-ORD">
                  <mrow class="MJX-TeXAtom-ORD">
                    <mover>
                      <mi mathvariant="normal">&#x2207;<!-- ∇ --></mi>
                      <mo stretchy="false">&#x007E;<!-- ~ --></mo>
                    </mover>
                  </mrow>
                </mrow>
                <mi>E</mi>
                <mo stretchy="false">(</mo>
                <mi>f</mi>
                <mo stretchy="false">(</mo>
                <mi>x</mi>
                <mo stretchy="false">)</mo>
                <mrow class="MJX-TeXAtom-ORD">
                  <mo stretchy="false">|</mo>
                </mrow>
                <mi>&#x03B8;<!-- θ --></mi>
                <mo stretchy="false">)</mo>
              </mtd>
              <mtd>
                <mi></mi>
                <mo>=</mo>
                <msubsup>
                  <mi>F</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>&#x03B8;<!-- θ --></mi>
                  </mrow>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mo>&#x2212;<!-- − --></mo>
                    <mn>1</mn>
                  </mrow>
                </msubsup>
                <msub>
                  <mi mathvariant="normal">&#x2207;<!-- ∇ --></mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mspace width="negativethinmathspace" />
                    <mi>&#x03B8;<!-- θ --></mi>
                  </mrow>
                </msub>
                <mi>E</mi>
                <mo stretchy="false">(</mo>
                <mi>f</mi>
                <mo stretchy="false">(</mo>
                <mi>x</mi>
                <mo stretchy="false">)</mo>
                <mrow class="MJX-TeXAtom-ORD">
                  <mo stretchy="false">|</mo>
                </mrow>
                <mi>&#x03B8;<!-- θ --></mi>
                <mo stretchy="false">)</mo>
              </mtd>
            </mtr>
          </mtable>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle {\begin{aligned}{\tilde {\nabla }}E(f(x)|\theta )&amp;=F_{\theta }^{-1}\nabla _{\!\theta }E(f(x)|\theta )\end{aligned}}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/a17c539986c5c65cdab1b92ffce14728ace19db5" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.858ex; margin-bottom: -0.313ex; width:31.965ex; height:3.509ex;" alt="{\begin{aligned}{\tilde  {\nabla }}E(f(x)|\theta )&amp;=F_{\theta }^{{-1}}\nabla _{{\!\theta }}E(f(x)|\theta )\end{aligned}}"/></span></dd></dl></dd></dl>
<p>where the <a href="/wiki/Fisher_information" title="Fisher information">Fisher information</a> matrix <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle F_{\theta }}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>F</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>&#x03B8;<!-- θ --></mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle F_{\theta }}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/a8272c172045a658f8650af10412e76c9cfb0cc7" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:2.498ex; height:2.509ex;" alt="F_{{\theta }}"/></span> is the expectation of the <a href="/wiki/Hessian_matrix" title="Hessian matrix">Hessian</a> of <span class="texhtml">-ln<var>p</var></span> and renders the expression independent of the chosen parameterization. Combining the previous equalities we get
</p>
<dl><dd><dl><dd><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle {\begin{aligned}{\tilde {\nabla }}E(f(x)|\theta )&amp;=F_{\theta }^{-1}E(f(x)\nabla _{\!\theta }\ln p(x|\theta ))\\&amp;=E(f(x)F_{\theta }^{-1}\nabla _{\!\theta }\ln p(x|\theta ))\end{aligned}}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mrow class="MJX-TeXAtom-ORD">
          <mtable columnalign="right left right left right left right left right left right left" rowspacing="3pt" columnspacing="0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em" displaystyle="true">
            <mtr>
              <mtd>
                <mrow class="MJX-TeXAtom-ORD">
                  <mrow class="MJX-TeXAtom-ORD">
                    <mover>
                      <mi mathvariant="normal">&#x2207;<!-- ∇ --></mi>
                      <mo stretchy="false">&#x007E;<!-- ~ --></mo>
                    </mover>
                  </mrow>
                </mrow>
                <mi>E</mi>
                <mo stretchy="false">(</mo>
                <mi>f</mi>
                <mo stretchy="false">(</mo>
                <mi>x</mi>
                <mo stretchy="false">)</mo>
                <mrow class="MJX-TeXAtom-ORD">
                  <mo stretchy="false">|</mo>
                </mrow>
                <mi>&#x03B8;<!-- θ --></mi>
                <mo stretchy="false">)</mo>
              </mtd>
              <mtd>
                <mi></mi>
                <mo>=</mo>
                <msubsup>
                  <mi>F</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>&#x03B8;<!-- θ --></mi>
                  </mrow>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mo>&#x2212;<!-- − --></mo>
                    <mn>1</mn>
                  </mrow>
                </msubsup>
                <mi>E</mi>
                <mo stretchy="false">(</mo>
                <mi>f</mi>
                <mo stretchy="false">(</mo>
                <mi>x</mi>
                <mo stretchy="false">)</mo>
                <msub>
                  <mi mathvariant="normal">&#x2207;<!-- ∇ --></mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mspace width="negativethinmathspace" />
                    <mi>&#x03B8;<!-- θ --></mi>
                  </mrow>
                </msub>
                <mi>ln</mi>
                <mo>&#x2061;<!-- ⁡ --></mo>
                <mi>p</mi>
                <mo stretchy="false">(</mo>
                <mi>x</mi>
                <mrow class="MJX-TeXAtom-ORD">
                  <mo stretchy="false">|</mo>
                </mrow>
                <mi>&#x03B8;<!-- θ --></mi>
                <mo stretchy="false">)</mo>
                <mo stretchy="false">)</mo>
              </mtd>
            </mtr>
            <mtr>
              <mtd />
              <mtd>
                <mi></mi>
                <mo>=</mo>
                <mi>E</mi>
                <mo stretchy="false">(</mo>
                <mi>f</mi>
                <mo stretchy="false">(</mo>
                <mi>x</mi>
                <mo stretchy="false">)</mo>
                <msubsup>
                  <mi>F</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>&#x03B8;<!-- θ --></mi>
                  </mrow>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mo>&#x2212;<!-- − --></mo>
                    <mn>1</mn>
                  </mrow>
                </msubsup>
                <msub>
                  <mi mathvariant="normal">&#x2207;<!-- ∇ --></mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mspace width="negativethinmathspace" />
                    <mi>&#x03B8;<!-- θ --></mi>
                  </mrow>
                </msub>
                <mi>ln</mi>
                <mo>&#x2061;<!-- ⁡ --></mo>
                <mi>p</mi>
                <mo stretchy="false">(</mo>
                <mi>x</mi>
                <mrow class="MJX-TeXAtom-ORD">
                  <mo stretchy="false">|</mo>
                </mrow>
                <mi>&#x03B8;<!-- θ --></mi>
                <mo stretchy="false">)</mo>
                <mo stretchy="false">)</mo>
              </mtd>
            </mtr>
          </mtable>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle {\begin{aligned}{\tilde {\nabla }}E(f(x)|\theta )&amp;=F_{\theta }^{-1}E(f(x)\nabla _{\!\theta }\ln p(x|\theta ))\\&amp;=E(f(x)F_{\theta }^{-1}\nabla _{\!\theta }\ln p(x|\theta ))\end{aligned}}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/88e51a51d97a636a152054151e6debb755ae5402" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -2.838ex; width:38.987ex; height:6.843ex;" alt="{\begin{aligned}{\tilde  {\nabla }}E(f(x)|\theta )&amp;=F_{\theta }^{{-1}}E(f(x)\nabla _{{\!\theta }}\ln p(x|\theta ))\\&amp;=E(f(x)F_{\theta }^{{-1}}\nabla _{{\!\theta }}\ln p(x|\theta ))\end{aligned}}"/></span></dd></dl></dd></dl>
<p>A Monte Carlo approximation of the latter expectation takes the average over <span class="texhtml"><var>&#955;</var></span> samples from <span class="texhtml"><var>p</var></span>
</p>
<dl><dd><dl><dd><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle {\tilde {\nabla }}{\widehat {E}}_{\theta }(f):=-\sum _{i=1}^{\lambda }\overbrace {w_{i}} ^{\!\!\!\!{\text{preference weight}}\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!}\underbrace {F_{\theta }^{-1}\nabla _{\!\theta }\ln p(x_{i:\lambda }|\theta )} _{\!\!\!\!\!{\text{candidate direction from }}x_{i:\lambda }\!\!\!\!\!}\quad \mathrm {with~} w_{i}=-f(x_{i:\lambda })/\lambda }">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mrow class="MJX-TeXAtom-ORD">
          <mrow class="MJX-TeXAtom-ORD">
            <mover>
              <mi mathvariant="normal">&#x2207;<!-- ∇ --></mi>
              <mo stretchy="false">&#x007E;<!-- ~ --></mo>
            </mover>
          </mrow>
        </mrow>
        <msub>
          <mrow class="MJX-TeXAtom-ORD">
            <mrow class="MJX-TeXAtom-ORD">
              <mover>
                <mi>E</mi>
                <mo>&#x005E;<!-- ^ --></mo>
              </mover>
            </mrow>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>&#x03B8;<!-- θ --></mi>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mi>f</mi>
        <mo stretchy="false">)</mo>
        <mo>:=</mo>
        <mo>&#x2212;<!-- − --></mo>
        <munderover>
          <mo>&#x2211;<!-- ∑ --></mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>i</mi>
            <mo>=</mo>
            <mn>1</mn>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>&#x03BB;<!-- λ --></mi>
          </mrow>
        </munderover>
        <mover>
          <mrow class="MJX-TeXAtom-OP MJX-fixedlimits">
            <mover>
              <msub>
                <mi>w</mi>
                <mrow class="MJX-TeXAtom-ORD">
                  <mi>i</mi>
                </mrow>
              </msub>
              <mo>&#x23DE;<!-- ⏞ --></mo>
            </mover>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mrow class="MJX-TeXAtom-ORD">
              <mtext>preference weight</mtext>
            </mrow>
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
          </mrow>
        </mover>
        <munder>
          <mrow class="MJX-TeXAtom-OP MJX-fixedlimits">
            <munder>
              <mrow>
                <msubsup>
                  <mi>F</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>&#x03B8;<!-- θ --></mi>
                  </mrow>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mo>&#x2212;<!-- − --></mo>
                    <mn>1</mn>
                  </mrow>
                </msubsup>
                <msub>
                  <mi mathvariant="normal">&#x2207;<!-- ∇ --></mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mspace width="negativethinmathspace" />
                    <mi>&#x03B8;<!-- θ --></mi>
                  </mrow>
                </msub>
                <mi>ln</mi>
                <mo>&#x2061;<!-- ⁡ --></mo>
                <mi>p</mi>
                <mo stretchy="false">(</mo>
                <msub>
                  <mi>x</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>i</mi>
                    <mo>:</mo>
                    <mi>&#x03BB;<!-- λ --></mi>
                  </mrow>
                </msub>
                <mrow class="MJX-TeXAtom-ORD">
                  <mo stretchy="false">|</mo>
                </mrow>
                <mi>&#x03B8;<!-- θ --></mi>
                <mo stretchy="false">)</mo>
              </mrow>
              <mo>&#x23DF;<!-- ⏟ --></mo>
            </munder>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mrow class="MJX-TeXAtom-ORD">
              <mtext>candidate direction from&#xA0;</mtext>
            </mrow>
            <msub>
              <mi>x</mi>
              <mrow class="MJX-TeXAtom-ORD">
                <mi>i</mi>
                <mo>:</mo>
                <mi>&#x03BB;<!-- λ --></mi>
              </mrow>
            </msub>
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
          </mrow>
        </munder>
        <mspace width="1em" />
        <mrow class="MJX-TeXAtom-ORD">
          <mi mathvariant="normal">w</mi>
          <mi mathvariant="normal">i</mi>
          <mi mathvariant="normal">t</mi>
          <mi mathvariant="normal">h</mi>
          <mtext>&#xA0;</mtext>
        </mrow>
        <msub>
          <mi>w</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>i</mi>
          </mrow>
        </msub>
        <mo>=</mo>
        <mo>&#x2212;<!-- − --></mo>
        <mi>f</mi>
        <mo stretchy="false">(</mo>
        <msub>
          <mi>x</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>i</mi>
            <mo>:</mo>
            <mi>&#x03BB;<!-- λ --></mi>
          </mrow>
        </msub>
        <mo stretchy="false">)</mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mo>/</mo>
        </mrow>
        <mi>&#x03BB;<!-- λ --></mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle {\tilde {\nabla }}{\widehat {E}}_{\theta }(f):=-\sum _{i=1}^{\lambda }\overbrace {w_{i}} ^{\!\!\!\!{\text{preference weight}}\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!}\underbrace {F_{\theta }^{-1}\nabla _{\!\theta }\ln p(x_{i:\lambda }|\theta )} _{\!\!\!\!\!{\text{candidate direction from }}x_{i:\lambda }\!\!\!\!\!}\quad \mathrm {with~} w_{i}=-f(x_{i:\lambda })/\lambda }</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/9aac7ee10192cae14b768ab2e977e03cd5c38067" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -4.838ex; width:62.957ex; height:9.676ex;" alt="{\tilde  {\nabla }}\widehat {E}_{\theta }(f):=-\sum _{{i=1}}^{\lambda }\overbrace {w_{i}}^{{\!\!\!\!{\text{preference weight}}\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!}}\underbrace {F_{\theta }^{{-1}}\nabla _{{\!\theta }}\ln p(x_{{i:\lambda }}|\theta )}_{{\!\!\!\!\!{\text{candidate direction from }}x_{{i:\lambda }}\!\!\!\!\!}}\quad {\mathrm  {with~}}w_{i}=-f(x_{{i:\lambda }})/\lambda "/></span></dd></dl></dd></dl>
<p>where the notation <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle i:\lambda }">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>i</mi>
        <mo>:</mo>
        <mi>&#x03BB;<!-- λ --></mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle i:\lambda }</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/2df4ee5e6db5a6f710ed0de0a95f7631ba5011e4" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:4.095ex; height:2.176ex;" alt="i:\lambda "/></span> from above is used and therefore <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle w_{i}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>w</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>i</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle w_{i}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/fe22f0329d3ecb2e1880d44d191aba0e5475db68" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:2.464ex; height:2.009ex;" alt="w_{i}"/></span> are monotonously decreasing in <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle i}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>i</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle i}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/add78d8608ad86e54951b8c8bd6c8d8416533d20" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:0.802ex; height:2.176ex;" alt="i"/></span>.
</p><p>Ollivier <i>et al.</i><sup id="cite_ref-6" class="reference"><a href="#cite_note-6">&#91;6&#93;</a></sup>
finally found a rigorous derivation for the more robust weights, <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle w_{i}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>w</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>i</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle w_{i}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/fe22f0329d3ecb2e1880d44d191aba0e5475db68" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:2.464ex; height:2.009ex;" alt="w_{i}"/></span>, as they are defined in the CMA-ES (weights are often zero for <span class="texhtml"><var>i</var> &gt; <var>&#956;</var></span>). They are formulated as the consistent estimator for the <a href="/wiki/Cumulative_distribution_function" title="Cumulative distribution function">CDF</a> of <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f(X),X\sim p(.|\theta )}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>f</mi>
        <mo stretchy="false">(</mo>
        <mi>X</mi>
        <mo stretchy="false">)</mo>
        <mo>,</mo>
        <mi>X</mi>
        <mo>&#x223C;<!-- ∼ --></mo>
        <mi>p</mi>
        <mo stretchy="false">(</mo>
        <mo>.</mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mi>&#x03B8;<!-- θ --></mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f(X),X\sim p(.|\theta )}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/43ae4ff0ca11856b0a72d73b6b501ce95956c1a5" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:16.93ex; height:2.843ex;" alt="f(X),X\sim p(.|\theta )"/></span> at the point <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f(x_{i:\lambda })}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>f</mi>
        <mo stretchy="false">(</mo>
        <msub>
          <mi>x</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>i</mi>
            <mo>:</mo>
            <mi>&#x03BB;<!-- λ --></mi>
          </mrow>
        </msub>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f(x_{i:\lambda })}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/941e3092728cf56e755680ba21beaeadeaef611d" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:6.633ex; height:2.843ex;" alt="f(x_{{i:\lambda }})"/></span>, composed with a fixed monotonous decreased transformation <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle w}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>w</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle w}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/88b1e0c8e1be5ebe69d18a8010676fa42d7961e6" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:1.664ex; height:1.676ex;" alt="w"/></span>, that is,
</p>
<dl><dd><dl><dd><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle w_{i}=w\left({\frac {{\mathsf {rank}}(f(x_{i:\lambda }))-1/2}{\lambda }}\right)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>w</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>i</mi>
          </mrow>
        </msub>
        <mo>=</mo>
        <mi>w</mi>
        <mrow>
          <mo>(</mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mfrac>
              <mrow>
                <mrow class="MJX-TeXAtom-ORD">
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi mathvariant="sans-serif">r</mi>
                    <mi mathvariant="sans-serif">a</mi>
                    <mi mathvariant="sans-serif">n</mi>
                    <mi mathvariant="sans-serif">k</mi>
                  </mrow>
                </mrow>
                <mo stretchy="false">(</mo>
                <mi>f</mi>
                <mo stretchy="false">(</mo>
                <msub>
                  <mi>x</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>i</mi>
                    <mo>:</mo>
                    <mi>&#x03BB;<!-- λ --></mi>
                  </mrow>
                </msub>
                <mo stretchy="false">)</mo>
                <mo stretchy="false">)</mo>
                <mo>&#x2212;<!-- − --></mo>
                <mn>1</mn>
                <mrow class="MJX-TeXAtom-ORD">
                  <mo>/</mo>
                </mrow>
                <mn>2</mn>
              </mrow>
              <mi>&#x03BB;<!-- λ --></mi>
            </mfrac>
          </mrow>
          <mo>)</mo>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle w_{i}=w\left({\frac {{\mathsf {rank}}(f(x_{i:\lambda }))-1/2}{\lambda }}\right)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/b193922ed43aa10a11db3f7480472e51d49242d6" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -2.505ex; width:30.893ex; height:6.343ex;" alt="w_{i}=w\left({\frac  {{\mathsf  {rank}}(f(x_{{i:\lambda }}))-1/2}{\lambda }}\right)"/></span></dd></dl></dd></dl>
<p>This makes the algorithm insensitive to the specific <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>f</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/132e57acb643253e7810ee9702d9581f159a1c61" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:1.279ex; height:2.509ex;" alt="f"/></span>-values. More concisely, using the <a href="/wiki/Cumulative_distribution_function" title="Cumulative distribution function">CDF</a> estimator of <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>f</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/132e57acb643253e7810ee9702d9581f159a1c61" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:1.279ex; height:2.509ex;" alt="f"/></span> instead of <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>f</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/132e57acb643253e7810ee9702d9581f159a1c61" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:1.279ex; height:2.509ex;" alt="f"/></span> itself let the algorithm only depend on the ranking of <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>f</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/132e57acb643253e7810ee9702d9581f159a1c61" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:1.279ex; height:2.509ex;" alt="f"/></span>-values but not on their underlying distribution. It renders the algorithm invariant to monotonous <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>f</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/132e57acb643253e7810ee9702d9581f159a1c61" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:1.279ex; height:2.509ex;" alt="f"/></span>-transformations. Let
</p>
<dl><dd><dl><dd><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \theta =[m_{k}^{T}\mathrm {vec} (C_{k})^{T}\sigma _{k}]^{T}\in \mathbb {R} ^{n+n^{2}+1}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>&#x03B8;<!-- θ --></mi>
        <mo>=</mo>
        <mo stretchy="false">[</mo>
        <msubsup>
          <mi>m</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>T</mi>
          </mrow>
        </msubsup>
        <mrow class="MJX-TeXAtom-ORD">
          <mi mathvariant="normal">v</mi>
          <mi mathvariant="normal">e</mi>
          <mi mathvariant="normal">c</mi>
        </mrow>
        <mo stretchy="false">(</mo>
        <msub>
          <mi>C</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </msub>
        <msup>
          <mo stretchy="false">)</mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>T</mi>
          </mrow>
        </msup>
        <msub>
          <mi>&#x03C3;<!-- σ --></mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </msub>
        <msup>
          <mo stretchy="false">]</mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>T</mi>
          </mrow>
        </msup>
        <mo>&#x2208;<!-- ∈ --></mo>
        <msup>
          <mrow class="MJX-TeXAtom-ORD">
            <mi mathvariant="double-struck">R</mi>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>n</mi>
            <mo>+</mo>
            <msup>
              <mi>n</mi>
              <mrow class="MJX-TeXAtom-ORD">
                <mn>2</mn>
              </mrow>
            </msup>
            <mo>+</mo>
            <mn>1</mn>
          </mrow>
        </msup>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \theta =[m_{k}^{T}\mathrm {vec} (C_{k})^{T}\sigma _{k}]^{T}\in \mathbb {R} ^{n+n^{2}+1}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/18d5d438fa3134ed705ad9505c501e8a7f86fe04" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -1.005ex; width:32.893ex; height:3.676ex;" alt="\theta =[m_{k}^{T}{\mathrm  {vec}}(C_{k})^{T}\sigma _{k}]^{T}\in {\mathbb  {R}}^{{n+n^{2}+1}}"/></span></dd></dl></dd></dl>
<p>such that <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle p(.|\theta )}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>p</mi>
        <mo stretchy="false">(</mo>
        <mo>.</mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mi>&#x03B8;<!-- θ --></mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle p(.|\theta )}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/9a4afba88609ac7e57992557f419138c63cbd925" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; margin-left: -0.089ex; width:5.839ex; height:2.843ex;" alt="p(.|\theta )"/></span> is the density of the <a href="/wiki/Multivariate_normal_distribution" title="Multivariate normal distribution">multivariate normal distribution</a> <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle {\mathcal {N}}(m_{k},\sigma _{k}^{2}C_{k})}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mrow class="MJX-TeXAtom-ORD">
          <mrow class="MJX-TeXAtom-ORD">
            <mi class="MJX-tex-caligraphic" mathvariant="script">N</mi>
          </mrow>
        </mrow>
        <mo stretchy="false">(</mo>
        <msub>
          <mi>m</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </msub>
        <mo>,</mo>
        <msubsup>
          <mi>&#x03C3;<!-- σ --></mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msubsup>
        <msub>
          <mi>C</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </msub>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle {\mathcal {N}}(m_{k},\sigma _{k}^{2}C_{k})}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/9c965e6236f8fd791c4805f6704586d6655fd778" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -1.005ex; margin-left: -0.062ex; width:13.476ex; height:3.176ex;" alt="{\mathcal  N}(m_{k},\sigma _{k}^{2}C_{k})"/></span>. Then, we have an explicit expression for the inverse of the Fisher information matrix where <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \sigma _{k}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>&#x03C3;<!-- σ --></mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \sigma _{k}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/330415aef0a06818b843c55814fda645b793811b" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:2.416ex; height:2.009ex;" alt="\sigma _{k}"/></span> is fixed
</p>
<dl><dd><dl><dd><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle F_{\theta |\sigma _{k}}^{-1}=\left[{\begin{array}{cc}\sigma _{k}^{2}C_{k}&amp;0\\0&amp;2C_{k}\otimes C_{k}\end{array}}\right]}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msubsup>
          <mi>F</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>&#x03B8;<!-- θ --></mi>
            <mrow class="MJX-TeXAtom-ORD">
              <mo stretchy="false">|</mo>
            </mrow>
            <msub>
              <mi>&#x03C3;<!-- σ --></mi>
              <mrow class="MJX-TeXAtom-ORD">
                <mi>k</mi>
              </mrow>
            </msub>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mo>&#x2212;<!-- − --></mo>
            <mn>1</mn>
          </mrow>
        </msubsup>
        <mo>=</mo>
        <mrow>
          <mo>[</mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mtable columnalign="center center" rowspacing="4pt" columnspacing="1em">
              <mtr>
                <mtd>
                  <msubsup>
                    <mi>&#x03C3;<!-- σ --></mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mi>k</mi>
                    </mrow>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mn>2</mn>
                    </mrow>
                  </msubsup>
                  <msub>
                    <mi>C</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mi>k</mi>
                    </mrow>
                  </msub>
                </mtd>
                <mtd>
                  <mn>0</mn>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <mn>2</mn>
                  <msub>
                    <mi>C</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mi>k</mi>
                    </mrow>
                  </msub>
                  <mo>&#x2297;<!-- ⊗ --></mo>
                  <msub>
                    <mi>C</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mi>k</mi>
                    </mrow>
                  </msub>
                </mtd>
              </mtr>
            </mtable>
          </mrow>
          <mo>]</mo>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle F_{\theta |\sigma _{k}}^{-1}=\left[{\begin{array}{cc}\sigma _{k}^{2}C_{k}&amp;0\\0&amp;2C_{k}\otimes C_{k}\end{array}}\right]}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/5f6bf8f42ab73de633b6561f1f074491d36f59e5" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -2.671ex; width:28.052ex; height:6.509ex;" alt="F_{{\theta |\sigma _{k}}}^{{-1}}=\left[{\begin{array}{cc}\sigma _{k}^{2}C_{k}&amp;0\\0&amp;2C_{k}\otimes C_{k}\end{array}}\right]"/></span></dd></dl></dd></dl>
<p>and for
</p>
<dl><dd><dl><dd><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \ln p(x|\theta )=\ln p(x|m_{k},\sigma _{k}^{2}C_{k})=-{\frac {1}{2}}(x-m_{k})^{T}\sigma _{k}^{-2}C_{k}^{-1}(x-m_{k})\,-\,{\frac {1}{2}}\ln \det(2\pi \sigma _{k}^{2}C_{k})}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>ln</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mi>p</mi>
        <mo stretchy="false">(</mo>
        <mi>x</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mi>&#x03B8;<!-- θ --></mi>
        <mo stretchy="false">)</mo>
        <mo>=</mo>
        <mi>ln</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mi>p</mi>
        <mo stretchy="false">(</mo>
        <mi>x</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <msub>
          <mi>m</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </msub>
        <mo>,</mo>
        <msubsup>
          <mi>&#x03C3;<!-- σ --></mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msubsup>
        <msub>
          <mi>C</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </msub>
        <mo stretchy="false">)</mo>
        <mo>=</mo>
        <mo>&#x2212;<!-- − --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mfrac>
            <mn>1</mn>
            <mn>2</mn>
          </mfrac>
        </mrow>
        <mo stretchy="false">(</mo>
        <mi>x</mi>
        <mo>&#x2212;<!-- − --></mo>
        <msub>
          <mi>m</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </msub>
        <msup>
          <mo stretchy="false">)</mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>T</mi>
          </mrow>
        </msup>
        <msubsup>
          <mi>&#x03C3;<!-- σ --></mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mo>&#x2212;<!-- − --></mo>
            <mn>2</mn>
          </mrow>
        </msubsup>
        <msubsup>
          <mi>C</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mo>&#x2212;<!-- − --></mo>
            <mn>1</mn>
          </mrow>
        </msubsup>
        <mo stretchy="false">(</mo>
        <mi>x</mi>
        <mo>&#x2212;<!-- − --></mo>
        <msub>
          <mi>m</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </msub>
        <mo stretchy="false">)</mo>
        <mspace width="thinmathspace" />
        <mo>&#x2212;<!-- − --></mo>
        <mspace width="thinmathspace" />
        <mrow class="MJX-TeXAtom-ORD">
          <mfrac>
            <mn>1</mn>
            <mn>2</mn>
          </mfrac>
        </mrow>
        <mi>ln</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mo movablelimits="true" form="prefix">det</mo>
        <mo stretchy="false">(</mo>
        <mn>2</mn>
        <mi>&#x03C0;<!-- π --></mi>
        <msubsup>
          <mi>&#x03C3;<!-- σ --></mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msubsup>
        <msub>
          <mi>C</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </msub>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \ln p(x|\theta )=\ln p(x|m_{k},\sigma _{k}^{2}C_{k})=-{\frac {1}{2}}(x-m_{k})^{T}\sigma _{k}^{-2}C_{k}^{-1}(x-m_{k})\,-\,{\frac {1}{2}}\ln \det(2\pi \sigma _{k}^{2}C_{k})}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/9cc6fbb4d6a7bfb848b0dfce333317304a2efafe" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -1.838ex; width:83.414ex; height:5.176ex;" alt="\ln p(x|\theta )=\ln p(x|m_{k},\sigma _{k}^{2}C_{k})=-{\frac  {1}{2}}(x-m_{k})^{T}\sigma _{k}^{{-2}}C_{k}^{{-1}}(x-m_{k})\,-\,{\frac  {1}{2}}\ln \det(2\pi \sigma _{k}^{2}C_{k})"/></span></dd></dl></dd></dl>
<p>and, after some calculations, the updates in the CMA-ES turn out as<sup id="cite_ref-akimoto2010_4-2" class="reference"><a href="#cite_note-akimoto2010-4">&#91;4&#93;</a></sup>
</p>
<div id="update_in_gradient_formulation">
<dl><dd><dl><dd><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle {\begin{aligned}m_{k+1}&amp;=m_{k}-\underbrace {[{\tilde {\nabla }}{\widehat {E}}_{\theta }(f)]_{1,\dots ,n}} _{\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!{\text{natural gradient for mean}}\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!}\\&amp;=m_{k}+\sum _{i=1}^{\lambda }w_{i}(x_{i:\lambda }-m_{k})\end{aligned}}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mrow class="MJX-TeXAtom-ORD">
          <mtable columnalign="right left right left right left right left right left right left" rowspacing="3pt" columnspacing="0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em" displaystyle="true">
            <mtr>
              <mtd>
                <msub>
                  <mi>m</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>k</mi>
                    <mo>+</mo>
                    <mn>1</mn>
                  </mrow>
                </msub>
              </mtd>
              <mtd>
                <mi></mi>
                <mo>=</mo>
                <msub>
                  <mi>m</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>k</mi>
                  </mrow>
                </msub>
                <mo>&#x2212;<!-- − --></mo>
                <munder>
                  <mrow class="MJX-TeXAtom-OP MJX-fixedlimits">
                    <munder>
                      <mrow>
                        <mo stretchy="false">[</mo>
                        <mrow class="MJX-TeXAtom-ORD">
                          <mrow class="MJX-TeXAtom-ORD">
                            <mover>
                              <mi mathvariant="normal">&#x2207;<!-- ∇ --></mi>
                              <mo stretchy="false">&#x007E;<!-- ~ --></mo>
                            </mover>
                          </mrow>
                        </mrow>
                        <msub>
                          <mrow class="MJX-TeXAtom-ORD">
                            <mrow class="MJX-TeXAtom-ORD">
                              <mover>
                                <mi>E</mi>
                                <mo>&#x005E;<!-- ^ --></mo>
                              </mover>
                            </mrow>
                          </mrow>
                          <mrow class="MJX-TeXAtom-ORD">
                            <mi>&#x03B8;<!-- θ --></mi>
                          </mrow>
                        </msub>
                        <mo stretchy="false">(</mo>
                        <mi>f</mi>
                        <mo stretchy="false">)</mo>
                        <msub>
                          <mo stretchy="false">]</mo>
                          <mrow class="MJX-TeXAtom-ORD">
                            <mn>1</mn>
                            <mo>,</mo>
                            <mo>&#x2026;<!-- … --></mo>
                            <mo>,</mo>
                            <mi>n</mi>
                          </mrow>
                        </msub>
                      </mrow>
                      <mo>&#x23DF;<!-- ⏟ --></mo>
                    </munder>
                  </mrow>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mrow class="MJX-TeXAtom-ORD">
                      <mtext>natural gradient for mean</mtext>
                    </mrow>
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                  </mrow>
                </munder>
              </mtd>
            </mtr>
            <mtr>
              <mtd />
              <mtd>
                <mi></mi>
                <mo>=</mo>
                <msub>
                  <mi>m</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>k</mi>
                  </mrow>
                </msub>
                <mo>+</mo>
                <munderover>
                  <mo>&#x2211;<!-- ∑ --></mo>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>i</mi>
                    <mo>=</mo>
                    <mn>1</mn>
                  </mrow>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>&#x03BB;<!-- λ --></mi>
                  </mrow>
                </munderover>
                <msub>
                  <mi>w</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>i</mi>
                  </mrow>
                </msub>
                <mo stretchy="false">(</mo>
                <msub>
                  <mi>x</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>i</mi>
                    <mo>:</mo>
                    <mi>&#x03BB;<!-- λ --></mi>
                  </mrow>
                </msub>
                <mo>&#x2212;<!-- − --></mo>
                <msub>
                  <mi>m</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>k</mi>
                  </mrow>
                </msub>
                <mo stretchy="false">)</mo>
              </mtd>
            </mtr>
          </mtable>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle {\begin{aligned}m_{k+1}&amp;=m_{k}-\underbrace {[{\tilde {\nabla }}{\widehat {E}}_{\theta }(f)]_{1,\dots ,n}} _{\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!{\text{natural gradient for mean}}\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!}\\&amp;=m_{k}+\sum _{i=1}^{\lambda }w_{i}(x_{i:\lambda }-m_{k})\end{aligned}}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/8ffe54690472ebb6febc12e4fa69ff2d51f56e2d" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -6.838ex; width:32.579ex; height:14.843ex;" alt="{\begin{aligned}m_{{k+1}}&amp;=m_{k}-\underbrace {[{\tilde  {\nabla }}\widehat {E}_{\theta }(f)]_{{1,\dots ,n}}}_{{\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!{\text{natural gradient for mean}}\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!}}\\&amp;=m_{k}+\sum _{{i=1}}^{\lambda }w_{i}(x_{{i:\lambda }}-m_{k})\end{aligned}}"/></span></dd></dl></dd></dl>
<p>and
</p>
<dl><dd><dl><dd><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle {\begin{aligned}C_{k+1}&amp;=C_{k}+c_{1}(p_{c}p_{c}^{T}-C_{k})-c_{\mu }\,\mathrm {mat} (\overbrace {[{\tilde {\nabla }}{\widehat {E}}_{\theta }(f)]_{n+1,\dots ,n+n^{2}}} ^{\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!{\text{natural gradient for covariance matrix}}\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!})\\&amp;=C_{k}+c_{1}(p_{c}p_{c}^{T}-C_{k})+c_{\mu }\sum _{i=1}^{\lambda }w_{i}\left({\frac {x_{i:\lambda }-m_{k}}{\sigma _{k}}}\left({\frac {x_{i:\lambda }-m_{k}}{\sigma _{k}}}\right)^{T}-C_{k}\right)\end{aligned}}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mrow class="MJX-TeXAtom-ORD">
          <mtable columnalign="right left right left right left right left right left right left" rowspacing="3pt" columnspacing="0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em" displaystyle="true">
            <mtr>
              <mtd>
                <msub>
                  <mi>C</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>k</mi>
                    <mo>+</mo>
                    <mn>1</mn>
                  </mrow>
                </msub>
              </mtd>
              <mtd>
                <mi></mi>
                <mo>=</mo>
                <msub>
                  <mi>C</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>k</mi>
                  </mrow>
                </msub>
                <mo>+</mo>
                <msub>
                  <mi>c</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mn>1</mn>
                  </mrow>
                </msub>
                <mo stretchy="false">(</mo>
                <msub>
                  <mi>p</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>c</mi>
                  </mrow>
                </msub>
                <msubsup>
                  <mi>p</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>c</mi>
                  </mrow>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>T</mi>
                  </mrow>
                </msubsup>
                <mo>&#x2212;<!-- − --></mo>
                <msub>
                  <mi>C</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>k</mi>
                  </mrow>
                </msub>
                <mo stretchy="false">)</mo>
                <mo>&#x2212;<!-- − --></mo>
                <msub>
                  <mi>c</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>&#x03BC;<!-- μ --></mi>
                  </mrow>
                </msub>
                <mspace width="thinmathspace" />
                <mrow class="MJX-TeXAtom-ORD">
                  <mi mathvariant="normal">m</mi>
                  <mi mathvariant="normal">a</mi>
                  <mi mathvariant="normal">t</mi>
                </mrow>
                <mo stretchy="false">(</mo>
                <mover>
                  <mrow class="MJX-TeXAtom-OP MJX-fixedlimits">
                    <mover>
                      <mrow>
                        <mo stretchy="false">[</mo>
                        <mrow class="MJX-TeXAtom-ORD">
                          <mrow class="MJX-TeXAtom-ORD">
                            <mover>
                              <mi mathvariant="normal">&#x2207;<!-- ∇ --></mi>
                              <mo stretchy="false">&#x007E;<!-- ~ --></mo>
                            </mover>
                          </mrow>
                        </mrow>
                        <msub>
                          <mrow class="MJX-TeXAtom-ORD">
                            <mrow class="MJX-TeXAtom-ORD">
                              <mover>
                                <mi>E</mi>
                                <mo>&#x005E;<!-- ^ --></mo>
                              </mover>
                            </mrow>
                          </mrow>
                          <mrow class="MJX-TeXAtom-ORD">
                            <mi>&#x03B8;<!-- θ --></mi>
                          </mrow>
                        </msub>
                        <mo stretchy="false">(</mo>
                        <mi>f</mi>
                        <mo stretchy="false">)</mo>
                        <msub>
                          <mo stretchy="false">]</mo>
                          <mrow class="MJX-TeXAtom-ORD">
                            <mi>n</mi>
                            <mo>+</mo>
                            <mn>1</mn>
                            <mo>,</mo>
                            <mo>&#x2026;<!-- … --></mo>
                            <mo>,</mo>
                            <mi>n</mi>
                            <mo>+</mo>
                            <msup>
                              <mi>n</mi>
                              <mrow class="MJX-TeXAtom-ORD">
                                <mn>2</mn>
                              </mrow>
                            </msup>
                          </mrow>
                        </msub>
                      </mrow>
                      <mo>&#x23DE;<!-- ⏞ --></mo>
                    </mover>
                  </mrow>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mrow class="MJX-TeXAtom-ORD">
                      <mtext>natural gradient for covariance matrix</mtext>
                    </mrow>
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                    <mspace width="negativethinmathspace" />
                  </mrow>
                </mover>
                <mo stretchy="false">)</mo>
              </mtd>
            </mtr>
            <mtr>
              <mtd />
              <mtd>
                <mi></mi>
                <mo>=</mo>
                <msub>
                  <mi>C</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>k</mi>
                  </mrow>
                </msub>
                <mo>+</mo>
                <msub>
                  <mi>c</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mn>1</mn>
                  </mrow>
                </msub>
                <mo stretchy="false">(</mo>
                <msub>
                  <mi>p</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>c</mi>
                  </mrow>
                </msub>
                <msubsup>
                  <mi>p</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>c</mi>
                  </mrow>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>T</mi>
                  </mrow>
                </msubsup>
                <mo>&#x2212;<!-- − --></mo>
                <msub>
                  <mi>C</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>k</mi>
                  </mrow>
                </msub>
                <mo stretchy="false">)</mo>
                <mo>+</mo>
                <msub>
                  <mi>c</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>&#x03BC;<!-- μ --></mi>
                  </mrow>
                </msub>
                <munderover>
                  <mo>&#x2211;<!-- ∑ --></mo>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>i</mi>
                    <mo>=</mo>
                    <mn>1</mn>
                  </mrow>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>&#x03BB;<!-- λ --></mi>
                  </mrow>
                </munderover>
                <msub>
                  <mi>w</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>i</mi>
                  </mrow>
                </msub>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mfrac>
                        <mrow>
                          <msub>
                            <mi>x</mi>
                            <mrow class="MJX-TeXAtom-ORD">
                              <mi>i</mi>
                              <mo>:</mo>
                              <mi>&#x03BB;<!-- λ --></mi>
                            </mrow>
                          </msub>
                          <mo>&#x2212;<!-- − --></mo>
                          <msub>
                            <mi>m</mi>
                            <mrow class="MJX-TeXAtom-ORD">
                              <mi>k</mi>
                            </mrow>
                          </msub>
                        </mrow>
                        <msub>
                          <mi>&#x03C3;<!-- σ --></mi>
                          <mrow class="MJX-TeXAtom-ORD">
                            <mi>k</mi>
                          </mrow>
                        </msub>
                      </mfrac>
                    </mrow>
                    <msup>
                      <mrow>
                        <mo>(</mo>
                        <mrow class="MJX-TeXAtom-ORD">
                          <mfrac>
                            <mrow>
                              <msub>
                                <mi>x</mi>
                                <mrow class="MJX-TeXAtom-ORD">
                                  <mi>i</mi>
                                  <mo>:</mo>
                                  <mi>&#x03BB;<!-- λ --></mi>
                                </mrow>
                              </msub>
                              <mo>&#x2212;<!-- − --></mo>
                              <msub>
                                <mi>m</mi>
                                <mrow class="MJX-TeXAtom-ORD">
                                  <mi>k</mi>
                                </mrow>
                              </msub>
                            </mrow>
                            <msub>
                              <mi>&#x03C3;<!-- σ --></mi>
                              <mrow class="MJX-TeXAtom-ORD">
                                <mi>k</mi>
                              </mrow>
                            </msub>
                          </mfrac>
                        </mrow>
                        <mo>)</mo>
                      </mrow>
                      <mrow class="MJX-TeXAtom-ORD">
                        <mi>T</mi>
                      </mrow>
                    </msup>
                    <mo>&#x2212;<!-- − --></mo>
                    <msub>
                      <mi>C</mi>
                      <mrow class="MJX-TeXAtom-ORD">
                        <mi>k</mi>
                      </mrow>
                    </msub>
                  </mrow>
                  <mo>)</mo>
                </mrow>
              </mtd>
            </mtr>
          </mtable>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle {\begin{aligned}C_{k+1}&amp;=C_{k}+c_{1}(p_{c}p_{c}^{T}-C_{k})-c_{\mu }\,\mathrm {mat} (\overbrace {[{\tilde {\nabla }}{\widehat {E}}_{\theta }(f)]_{n+1,\dots ,n+n^{2}}} ^{\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!{\text{natural gradient for covariance matrix}}\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!})\\&amp;=C_{k}+c_{1}(p_{c}p_{c}^{T}-C_{k})+c_{\mu }\sum _{i=1}^{\lambda }w_{i}\left({\frac {x_{i:\lambda }-m_{k}}{\sigma _{k}}}\left({\frac {x_{i:\lambda }-m_{k}}{\sigma _{k}}}\right)^{T}-C_{k}\right)\end{aligned}}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/a83a9ec649ea4e686df91d3bb1c163b104ed4d0f" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -6.595ex; margin-bottom: -0.243ex; width:75.26ex; height:14.843ex;" alt="{\begin{aligned}C_{{k+1}}&amp;=C_{k}+c_{1}(p_{c}p_{c}^{T}-C_{k})-c_{\mu }\,{\mathrm  {mat}}(\overbrace {[{\tilde  {\nabla }}\widehat {E}_{\theta }(f)]_{{n+1,\dots ,n+n^{2}}}}^{{\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!{\text{natural gradient for covariance matrix}}\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!}})\\&amp;=C_{k}+c_{1}(p_{c}p_{c}^{T}-C_{k})+c_{\mu }\sum _{{i=1}}^{\lambda }w_{i}\left({\frac  {x_{{i:\lambda }}-m_{k}}{\sigma _{k}}}\left({\frac  {x_{{i:\lambda }}-m_{k}}{\sigma _{k}}}\right)^{T}-C_{k}\right)\end{aligned}}"/></span></dd></dl></dd></dl>
</div>
<p>where mat forms the proper matrix from the respective natural gradient sub-vector. That means, setting <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle c_{1}=c_{\sigma }=0}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>c</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>1</mn>
          </mrow>
        </msub>
        <mo>=</mo>
        <msub>
          <mi>c</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>&#x03C3;<!-- σ --></mi>
          </mrow>
        </msub>
        <mo>=</mo>
        <mn>0</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle c_{1}=c_{\sigma }=0}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/1edf929a58030b3b48ff9872b60bdfdc584bdb3f" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:11.6ex; height:2.509ex;" alt="c_{1}=c_{\sigma }=0"/></span>, the CMA-ES updates descend in direction of the approximation <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle {\tilde {\nabla }}{\widehat {E}}_{\theta }(f)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mrow class="MJX-TeXAtom-ORD">
          <mrow class="MJX-TeXAtom-ORD">
            <mover>
              <mi mathvariant="normal">&#x2207;<!-- ∇ --></mi>
              <mo stretchy="false">&#x007E;<!-- ~ --></mo>
            </mover>
          </mrow>
        </mrow>
        <msub>
          <mrow class="MJX-TeXAtom-ORD">
            <mrow class="MJX-TeXAtom-ORD">
              <mover>
                <mi>E</mi>
                <mo>&#x005E;<!-- ^ --></mo>
              </mover>
            </mrow>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>&#x03B8;<!-- θ --></mi>
          </mrow>
        </msub>
        <mo stretchy="false">(</mo>
        <mi>f</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle {\tilde {\nabla }}{\widehat {E}}_{\theta }(f)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/7380e45d088e528629f2ca6fe575a461d259e600" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:7.803ex; height:3.343ex;" alt="{\tilde  {\nabla }}\widehat {E}_{\theta }(f)"/></span> of the natural gradient while using different step-sizes (learning rates 1 and <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle c_{\mu }}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>c</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>&#x03BC;<!-- μ --></mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle c_{\mu }}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/b9b67dfe32ae8c0b78609796ffeae6017c87ee2c" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -1.005ex; width:2.23ex; height:2.343ex;" alt="{\displaystyle c_{\mu }}"/></span>) for the <a href="/wiki/Fisher_information#Orthogonal_parameters" title="Fisher information">orthogonal parameters</a> <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle m}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>m</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle m}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/0a07d98bb302f3856cbabc47b2b9016692e3f7bc" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:2.04ex; height:1.676ex;" alt="m"/></span> and <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle C}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>C</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle C}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/4fc55753007cd3c18576f7933f6f089196732029" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:1.766ex; height:2.176ex;" alt="C"/></span> respectively. The most recent version of CMA-ES also use a different function <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle w}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>w</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle w}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/88b1e0c8e1be5ebe69d18a8010676fa42d7961e6" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:1.664ex; height:1.676ex;" alt="w"/></span> for <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle m}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>m</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle m}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/0a07d98bb302f3856cbabc47b2b9016692e3f7bc" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:2.04ex; height:1.676ex;" alt="m"/></span> and <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle C}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>C</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle C}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/4fc55753007cd3c18576f7933f6f089196732029" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:1.766ex; height:2.176ex;" alt="C"/></span> with negative values only for the latter (so-called active CMA).
</p>
<h3><span class="mw-headline" id="Stationarity_or_unbiasedness">Stationarity or unbiasedness</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=CMA-ES&amp;action=edit&amp;section=8" title="Edit section: Stationarity or unbiasedness">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>It is comparatively easy to see that the update equations of CMA-ES satisfy some stationarity conditions, in that they are essentially unbiased. Under neutral selection, where <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle x_{i:\lambda }\sim {\mathcal {N}}(m_{k},\sigma _{k}^{2}C_{k})}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>x</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>i</mi>
            <mo>:</mo>
            <mi>&#x03BB;<!-- λ --></mi>
          </mrow>
        </msub>
        <mo>&#x223C;<!-- ∼ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mrow class="MJX-TeXAtom-ORD">
            <mi class="MJX-tex-caligraphic" mathvariant="script">N</mi>
          </mrow>
        </mrow>
        <mo stretchy="false">(</mo>
        <msub>
          <mi>m</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </msub>
        <mo>,</mo>
        <msubsup>
          <mi>&#x03C3;<!-- σ --></mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msubsup>
        <msub>
          <mi>C</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </msub>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle x_{i:\lambda }\sim {\mathcal {N}}(m_{k},\sigma _{k}^{2}C_{k})}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/dfcfae1e7b458e1aead21ab9d1f7b883bf7817f3" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -1.005ex; width:20.057ex; height:3.176ex;" alt="x_{{i:\lambda }}\sim {\mathcal  N}(m_{k},\sigma _{k}^{2}C_{k})"/></span>,  we find that
</p>
<dl><dd><dl><dd><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle E(m_{k+1}\,|\,m_{k})=m_{k}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>E</mi>
        <mo stretchy="false">(</mo>
        <msub>
          <mi>m</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
            <mo>+</mo>
            <mn>1</mn>
          </mrow>
        </msub>
        <mspace width="thinmathspace" />
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mspace width="thinmathspace" />
        <msub>
          <mi>m</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </msub>
        <mo stretchy="false">)</mo>
        <mo>=</mo>
        <msub>
          <mi>m</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle E(m_{k+1}\,|\,m_{k})=m_{k}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/fe84a3eb5e112a4a11a95b0e551ea076a9df4c1e" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:19.592ex; height:2.843ex;" alt="E(m_{{k+1}}\,|\,m_{k})=m_{k}"/></span></dd></dl></dd></dl>
<p>and under some mild additional assumptions on the initial conditions
</p>
<dl><dd><dl><dd><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle E(\log \sigma _{k+1}\,|\,\sigma _{k})=\log \sigma _{k}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>E</mi>
        <mo stretchy="false">(</mo>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <msub>
          <mi>&#x03C3;<!-- σ --></mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
            <mo>+</mo>
            <mn>1</mn>
          </mrow>
        </msub>
        <mspace width="thinmathspace" />
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mspace width="thinmathspace" />
        <msub>
          <mi>&#x03C3;<!-- σ --></mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </msub>
        <mo stretchy="false">)</mo>
        <mo>=</mo>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <msub>
          <mi>&#x03C3;<!-- σ --></mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle E(\log \sigma _{k+1}\,|\,\sigma _{k})=\log \sigma _{k}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/bc325aea52be460b6b00717cc1756536595e7fc5" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:24.171ex; height:2.843ex;" alt="E(\log \sigma _{{k+1}}\,|\,\sigma _{k})=\log \sigma _{k}"/></span></dd></dl></dd></dl>
<p>and with an additional minor correction in the covariance matrix update for the case where the indicator function evaluates to zero, we find
</p>
<dl><dd><dl><dd><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle E(C_{k+1}\,|\,C_{k})=C_{k}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>E</mi>
        <mo stretchy="false">(</mo>
        <msub>
          <mi>C</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
            <mo>+</mo>
            <mn>1</mn>
          </mrow>
        </msub>
        <mspace width="thinmathspace" />
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mspace width="thinmathspace" />
        <msub>
          <mi>C</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </msub>
        <mo stretchy="false">)</mo>
        <mo>=</mo>
        <msub>
          <mi>C</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle E(C_{k+1}\,|\,C_{k})=C_{k}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/8fafb402518eda74ec04501278b09b1afb05b90f" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:18.457ex; height:2.843ex;" alt="E(C_{{k+1}}\,|\,C_{k})=C_{k}"/></span></dd></dl></dd></dl>
<h3><span class="mw-headline" id="Invariance">Invariance</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=CMA-ES&amp;action=edit&amp;section=9" title="Edit section: Invariance">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><a href="/wiki/Invariant_(mathematics)" title="Invariant (mathematics)">Invariance properties</a> imply uniform performance on a class of objective functions. They have been argued to be an advantage, because they allow to generalize and predict the behavior of the algorithm and therefore strengthen the meaning of empirical results obtained on single functions. The following invariance properties have been established for CMA-ES.
</p>
<ul><li>Invariance under order-preserving transformations of the objective function value <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>f</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/132e57acb643253e7810ee9702d9581f159a1c61" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:1.279ex; height:2.509ex;" alt="f"/></span>, in that for any <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle h:\mathbb {R} ^{n}\to \mathbb {R} }">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>h</mi>
        <mo>:</mo>
        <msup>
          <mrow class="MJX-TeXAtom-ORD">
            <mi mathvariant="double-struck">R</mi>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>n</mi>
          </mrow>
        </msup>
        <mo stretchy="false">&#x2192;<!-- → --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mi mathvariant="double-struck">R</mi>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle h:\mathbb {R} ^{n}\to \mathbb {R} }</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/07c7c35b693abcb087f6c510903a7b67dc66197f" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:11.465ex; height:2.343ex;" alt="h:{\mathbb  {R}}^{n}\to {\mathbb  {R}}"/></span> the behavior is identical on <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f:x\mapsto g(h(x))}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>f</mi>
        <mo>:</mo>
        <mi>x</mi>
        <mo stretchy="false">&#x21A6;<!-- ↦ --></mo>
        <mi>g</mi>
        <mo stretchy="false">(</mo>
        <mi>h</mi>
        <mo stretchy="false">(</mo>
        <mi>x</mi>
        <mo stretchy="false">)</mo>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f:x\mapsto g(h(x))}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/79362b20327babfe96df892d7e177815938d6ae8" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:15.563ex; height:2.843ex;" alt="f:x\mapsto g(h(x))"/></span> for all strictly increasing <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle g:\mathbb {R} \to \mathbb {R} }">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>g</mi>
        <mo>:</mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mi mathvariant="double-struck">R</mi>
        </mrow>
        <mo stretchy="false">&#x2192;<!-- → --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mi mathvariant="double-struck">R</mi>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle g:\mathbb {R} \to \mathbb {R} }</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/bdfd1e16b7f932cdc2716a1b6bbe345089b250cf" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:10.023ex; height:2.509ex;" alt="g:{\mathbb  {R}}\to {\mathbb  {R}}"/></span>. This invariance is easy to verify, because only the <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>f</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/132e57acb643253e7810ee9702d9581f159a1c61" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:1.279ex; height:2.509ex;" alt="f"/></span>-ranking is used in the algorithm, which is invariant under the choice of <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle g}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>g</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle g}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/d3556280e66fe2c0d0140df20935a6f057381d77" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:1.116ex; height:2.009ex;" alt="g"/></span>.</li>
<li><a href="/wiki/Scale-invariance" class="mw-redirect" title="Scale-invariance">Scale-invariance</a>, in that for any <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle h:\mathbb {R} ^{n}\to \mathbb {R} }">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>h</mi>
        <mo>:</mo>
        <msup>
          <mrow class="MJX-TeXAtom-ORD">
            <mi mathvariant="double-struck">R</mi>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>n</mi>
          </mrow>
        </msup>
        <mo stretchy="false">&#x2192;<!-- → --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mi mathvariant="double-struck">R</mi>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle h:\mathbb {R} ^{n}\to \mathbb {R} }</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/07c7c35b693abcb087f6c510903a7b67dc66197f" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:11.465ex; height:2.343ex;" alt="h:{\mathbb  {R}}^{n}\to {\mathbb  {R}}"/></span> the behavior is independent of <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \alpha &gt;0}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>&#x03B1;<!-- α --></mi>
        <mo>&gt;</mo>
        <mn>0</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \alpha &gt;0}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/edd4f784b6e8bb68fa774213ceacbab2d97825dc" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:5.749ex; height:2.176ex;" alt="\alpha &gt;0"/></span> for the objective function <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f:x\mapsto h(\alpha x)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>f</mi>
        <mo>:</mo>
        <mi>x</mi>
        <mo stretchy="false">&#x21A6;<!-- ↦ --></mo>
        <mi>h</mi>
        <mo stretchy="false">(</mo>
        <mi>&#x03B1;<!-- α --></mi>
        <mi>x</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f:x\mapsto h(\alpha x)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/34beb4100a503d7b657d06cb4cb01265d19e97af" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:14.125ex; height:2.843ex;" alt="f:x\mapsto h(\alpha x)"/></span> given <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \sigma _{0}\propto 1/\alpha }">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>&#x03C3;<!-- σ --></mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>0</mn>
          </mrow>
        </msub>
        <mo>&#x221D;<!-- ∝ --></mo>
        <mn>1</mn>
        <mrow class="MJX-TeXAtom-ORD">
          <mo>/</mo>
        </mrow>
        <mi>&#x03B1;<!-- α --></mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \sigma _{0}\propto 1/\alpha }</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/ac14290400b656cc31ee4b679733ba95a1180707" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:9.293ex; height:2.843ex;" alt="\sigma _{0}\propto 1/\alpha "/></span> and <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle m_{0}\propto 1/\alpha }">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>m</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>0</mn>
          </mrow>
        </msub>
        <mo>&#x221D;<!-- ∝ --></mo>
        <mn>1</mn>
        <mrow class="MJX-TeXAtom-ORD">
          <mo>/</mo>
        </mrow>
        <mi>&#x03B1;<!-- α --></mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle m_{0}\propto 1/\alpha }</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/a74b88a7529cb6fd096d668f4395b7a9f48a716b" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:10.006ex; height:2.843ex;" alt="m_{0}\propto 1/\alpha "/></span>.</li>
<li>Invariance under rotation of the search space in that for any <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle h:\mathbb {R} ^{n}\to \mathbb {R} }">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>h</mi>
        <mo>:</mo>
        <msup>
          <mrow class="MJX-TeXAtom-ORD">
            <mi mathvariant="double-struck">R</mi>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>n</mi>
          </mrow>
        </msup>
        <mo stretchy="false">&#x2192;<!-- → --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mi mathvariant="double-struck">R</mi>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle h:\mathbb {R} ^{n}\to \mathbb {R} }</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/07c7c35b693abcb087f6c510903a7b67dc66197f" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:11.465ex; height:2.343ex;" alt="h:{\mathbb  {R}}^{n}\to {\mathbb  {R}}"/></span> and any <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle z\in \mathbb {R} ^{n}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>z</mi>
        <mo>&#x2208;<!-- ∈ --></mo>
        <msup>
          <mrow class="MJX-TeXAtom-ORD">
            <mi mathvariant="double-struck">R</mi>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>n</mi>
          </mrow>
        </msup>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle z\in \mathbb {R} ^{n}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/fbaffd0a65572105160725002dac9e54fff0d256" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:6.825ex; height:2.343ex;" alt="z\in {\mathbb  {R}}^{n}"/></span> the behavior on <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle f:x\mapsto h(Rx)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>f</mi>
        <mo>:</mo>
        <mi>x</mi>
        <mo stretchy="false">&#x21A6;<!-- ↦ --></mo>
        <mi>h</mi>
        <mo stretchy="false">(</mo>
        <mi>R</mi>
        <mi>x</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle f:x\mapsto h(Rx)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/9239c53345a15b4e6a500da0b3a494f36ba9989f" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:14.401ex; height:2.843ex;" alt="f:x\mapsto h(Rx)"/></span>  is independent of the <a href="/wiki/Orthogonal_matrix" title="Orthogonal matrix">orthogonal matrix</a> <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle R}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>R</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle R}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/4b0bfb3769bf24d80e15374dc37b0441e2616e33" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:1.764ex; height:2.176ex;" alt="R"/></span>, given <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle m_{0}=R^{-1}z}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>m</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>0</mn>
          </mrow>
        </msub>
        <mo>=</mo>
        <msup>
          <mi>R</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mo>&#x2212;<!-- − --></mo>
            <mn>1</mn>
          </mrow>
        </msup>
        <mi>z</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle m_{0}=R^{-1}z}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/c1bd251af8cd784dd50d8e497faf072a2ea4436c" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:11.378ex; height:3.009ex;" alt="m_{0}=R^{{-1}}z"/></span>. More general, the algorithm is also invariant under general linear transformations <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle R}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>R</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle R}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/4b0bfb3769bf24d80e15374dc37b0441e2616e33" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:1.764ex; height:2.176ex;" alt="R"/></span> when additionally the initial covariance matrix is chosen as <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle R^{-1}{R^{-1}}^{T}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msup>
          <mi>R</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mo>&#x2212;<!-- − --></mo>
            <mn>1</mn>
          </mrow>
        </msup>
        <msup>
          <mrow class="MJX-TeXAtom-ORD">
            <msup>
              <mi>R</mi>
              <mrow class="MJX-TeXAtom-ORD">
                <mo>&#x2212;<!-- − --></mo>
                <mn>1</mn>
              </mrow>
            </msup>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>T</mi>
          </mrow>
        </msup>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle R^{-1}{R^{-1}}^{T}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/ba97c779b07fbac9cb24019fb4ab4f8d65615441" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:9.583ex; height:3.176ex;" alt="R^{{-1}}{R^{{-1}}}^{T}"/></span>.</li></ul>
<p>Any serious parameter optimization method should be translation invariant, but most methods do not exhibit all the above described invariance properties. A prominent example with the same invariance properties is the <a href="/wiki/Nelder%E2%80%93Mead_method" title="Nelder–Mead method">Nelder–Mead method</a>, where the initial simplex must be chosen respectively.
</p>
<h3><span class="mw-headline" id="Convergence">Convergence</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=CMA-ES&amp;action=edit&amp;section=10" title="Edit section: Convergence">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Conceptual considerations like the scale-invariance property of the algorithm, the analysis of simpler <a href="/wiki/Evolution_strategies" class="mw-redirect" title="Evolution strategies">evolution strategies</a>, and overwhelming empirical evidence suggest that the algorithm converges on a large class of functions fast to the global optimum, denoted as <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle x^{*}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msup>
          <mi>x</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mo>&#x2217;<!-- ∗ --></mo>
          </mrow>
        </msup>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle x^{*}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/e5be23ee5d433f8b576e63bcb47518128ee0b6bb" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:2.384ex; height:2.343ex;" alt="x^{*}"/></span>. On some functions, convergence occurs independently of the initial conditions with probability one. On some functions the probability is smaller than one and typically depends on the initial <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle m_{0}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>m</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>0</mn>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle m_{0}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/3a6ff51ee949104fe6fae553cfbdfba29d5fac1e" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:3.095ex; height:2.009ex;" alt="m_{0}"/></span> and <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \sigma _{0}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>&#x03C3;<!-- σ --></mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>0</mn>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \sigma _{0}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/b2f330c7d4a4ee92e5d43dfe3e23f0de3406ec78" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:2.382ex; height:2.009ex;" alt="\sigma _{0}"/></span>. Empirically, the fastest possible convergence rate in <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle k}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>k</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle k}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/c3c9a2c7b599b37105512c5d570edc034056dd40" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:1.211ex; height:2.176ex;" alt="k"/></span> for rank-based direct search methods can often be observed (depending on the context denoted as <i><a href="/wiki/Rate_of_convergence#linear_convergence" title="Rate of convergence">linear</a></i> or <i>log-linear</i> or <i>exponential</i> convergence). Informally, we can write
</p>
<dl><dd><dl><dd><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \|m_{k}-x^{*}\|\;\approx \;\|m_{0}-x^{*}\|\times e^{-ck}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo fence="false" stretchy="false">&#x2016;<!-- ‖ --></mo>
        <msub>
          <mi>m</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </msub>
        <mo>&#x2212;<!-- − --></mo>
        <msup>
          <mi>x</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mo>&#x2217;<!-- ∗ --></mo>
          </mrow>
        </msup>
        <mo fence="false" stretchy="false">&#x2016;<!-- ‖ --></mo>
        <mspace width="thickmathspace" />
        <mo>&#x2248;<!-- ≈ --></mo>
        <mspace width="thickmathspace" />
        <mo fence="false" stretchy="false">&#x2016;<!-- ‖ --></mo>
        <msub>
          <mi>m</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>0</mn>
          </mrow>
        </msub>
        <mo>&#x2212;<!-- − --></mo>
        <msup>
          <mi>x</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mo>&#x2217;<!-- ∗ --></mo>
          </mrow>
        </msup>
        <mo fence="false" stretchy="false">&#x2016;<!-- ‖ --></mo>
        <mo>&#x00D7;<!-- × --></mo>
        <msup>
          <mi>e</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mo>&#x2212;<!-- − --></mo>
            <mi>c</mi>
            <mi>k</mi>
          </mrow>
        </msup>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \|m_{k}-x^{*}\|\;\approx \;\|m_{0}-x^{*}\|\times e^{-ck}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/32ca6b7dba123207b98948ef703e22f1fc042b3e" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:32.714ex; height:3.176ex;" alt="\|m_{k}-x^{*}\|\;\approx \;\|m_{0}-x^{*}\|\times e^{{-ck}}"/></span></dd></dl></dd></dl>
<p>for some <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle c&gt;0}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>c</mi>
        <mo>&gt;</mo>
        <mn>0</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle c&gt;0}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/2ba126f626d61752f62eaacaf11761a54de4dc84" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:5.268ex; height:2.176ex;" alt="c&gt;0"/></span>, and more rigorously
</p>
<dl><dd><dl><dd><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle {\frac {1}{k}}\sum _{i=1}^{k}\log {\frac {\|m_{i}-x^{*}\|}{\|m_{i-1}-x^{*}\|}}\;=\;{\frac {1}{k}}\log {\frac {\|m_{k}-x^{*}\|}{\|m_{0}-x^{*}\|}}\;\to \;-c&lt;0\quad {\text{for}}\;k\to \infty \;,}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mrow class="MJX-TeXAtom-ORD">
          <mfrac>
            <mn>1</mn>
            <mi>k</mi>
          </mfrac>
        </mrow>
        <munderover>
          <mo>&#x2211;<!-- ∑ --></mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>i</mi>
            <mo>=</mo>
            <mn>1</mn>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </munderover>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mfrac>
            <mrow>
              <mo fence="false" stretchy="false">&#x2016;<!-- ‖ --></mo>
              <msub>
                <mi>m</mi>
                <mrow class="MJX-TeXAtom-ORD">
                  <mi>i</mi>
                </mrow>
              </msub>
              <mo>&#x2212;<!-- − --></mo>
              <msup>
                <mi>x</mi>
                <mrow class="MJX-TeXAtom-ORD">
                  <mo>&#x2217;<!-- ∗ --></mo>
                </mrow>
              </msup>
              <mo fence="false" stretchy="false">&#x2016;<!-- ‖ --></mo>
            </mrow>
            <mrow>
              <mo fence="false" stretchy="false">&#x2016;<!-- ‖ --></mo>
              <msub>
                <mi>m</mi>
                <mrow class="MJX-TeXAtom-ORD">
                  <mi>i</mi>
                  <mo>&#x2212;<!-- − --></mo>
                  <mn>1</mn>
                </mrow>
              </msub>
              <mo>&#x2212;<!-- − --></mo>
              <msup>
                <mi>x</mi>
                <mrow class="MJX-TeXAtom-ORD">
                  <mo>&#x2217;<!-- ∗ --></mo>
                </mrow>
              </msup>
              <mo fence="false" stretchy="false">&#x2016;<!-- ‖ --></mo>
            </mrow>
          </mfrac>
        </mrow>
        <mspace width="thickmathspace" />
        <mo>=</mo>
        <mspace width="thickmathspace" />
        <mrow class="MJX-TeXAtom-ORD">
          <mfrac>
            <mn>1</mn>
            <mi>k</mi>
          </mfrac>
        </mrow>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mfrac>
            <mrow>
              <mo fence="false" stretchy="false">&#x2016;<!-- ‖ --></mo>
              <msub>
                <mi>m</mi>
                <mrow class="MJX-TeXAtom-ORD">
                  <mi>k</mi>
                </mrow>
              </msub>
              <mo>&#x2212;<!-- − --></mo>
              <msup>
                <mi>x</mi>
                <mrow class="MJX-TeXAtom-ORD">
                  <mo>&#x2217;<!-- ∗ --></mo>
                </mrow>
              </msup>
              <mo fence="false" stretchy="false">&#x2016;<!-- ‖ --></mo>
            </mrow>
            <mrow>
              <mo fence="false" stretchy="false">&#x2016;<!-- ‖ --></mo>
              <msub>
                <mi>m</mi>
                <mrow class="MJX-TeXAtom-ORD">
                  <mn>0</mn>
                </mrow>
              </msub>
              <mo>&#x2212;<!-- − --></mo>
              <msup>
                <mi>x</mi>
                <mrow class="MJX-TeXAtom-ORD">
                  <mo>&#x2217;<!-- ∗ --></mo>
                </mrow>
              </msup>
              <mo fence="false" stretchy="false">&#x2016;<!-- ‖ --></mo>
            </mrow>
          </mfrac>
        </mrow>
        <mspace width="thickmathspace" />
        <mo stretchy="false">&#x2192;<!-- → --></mo>
        <mspace width="thickmathspace" />
        <mo>&#x2212;<!-- − --></mo>
        <mi>c</mi>
        <mo>&lt;</mo>
        <mn>0</mn>
        <mspace width="1em" />
        <mrow class="MJX-TeXAtom-ORD">
          <mtext>for</mtext>
        </mrow>
        <mspace width="thickmathspace" />
        <mi>k</mi>
        <mo stretchy="false">&#x2192;<!-- → --></mo>
        <mi mathvariant="normal">&#x221E;<!-- ∞ --></mi>
        <mspace width="thickmathspace" />
        <mo>,</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle {\frac {1}{k}}\sum _{i=1}^{k}\log {\frac {\|m_{i}-x^{*}\|}{\|m_{i-1}-x^{*}\|}}\;=\;{\frac {1}{k}}\log {\frac {\|m_{k}-x^{*}\|}{\|m_{0}-x^{*}\|}}\;\to \;-c&lt;0\quad {\text{for}}\;k\to \infty \;,}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/cd8d0b8a90d17ffdd741f893d04e7e966183b3ce" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -3.005ex; width:70.733ex; height:7.343ex;" alt="{\frac  {1}{k}}\sum _{{i=1}}^{k}\log {\frac  {\|m_{i}-x^{*}\|}{\|m_{{i-1}}-x^{*}\|}}\;=\;{\frac  {1}{k}}\log {\frac  {\|m_{k}-x^{*}\|}{\|m_{{0}}-x^{*}\|}}\;\to \;-c&lt;0\quad {\text{for}}\;k\to \infty \;,"/></span></dd></dl></dd></dl>
<p>or similarly,
</p>
<dl><dd><dl><dd><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle E\log {\frac {\|m_{k}-x^{*}\|}{\|m_{k-1}-x^{*}\|}}\;\to \;-c&lt;0\quad {\text{for}}\;k\to \infty \;.}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>E</mi>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mfrac>
            <mrow>
              <mo fence="false" stretchy="false">&#x2016;<!-- ‖ --></mo>
              <msub>
                <mi>m</mi>
                <mrow class="MJX-TeXAtom-ORD">
                  <mi>k</mi>
                </mrow>
              </msub>
              <mo>&#x2212;<!-- − --></mo>
              <msup>
                <mi>x</mi>
                <mrow class="MJX-TeXAtom-ORD">
                  <mo>&#x2217;<!-- ∗ --></mo>
                </mrow>
              </msup>
              <mo fence="false" stretchy="false">&#x2016;<!-- ‖ --></mo>
            </mrow>
            <mrow>
              <mo fence="false" stretchy="false">&#x2016;<!-- ‖ --></mo>
              <msub>
                <mi>m</mi>
                <mrow class="MJX-TeXAtom-ORD">
                  <mi>k</mi>
                  <mo>&#x2212;<!-- − --></mo>
                  <mn>1</mn>
                </mrow>
              </msub>
              <mo>&#x2212;<!-- − --></mo>
              <msup>
                <mi>x</mi>
                <mrow class="MJX-TeXAtom-ORD">
                  <mo>&#x2217;<!-- ∗ --></mo>
                </mrow>
              </msup>
              <mo fence="false" stretchy="false">&#x2016;<!-- ‖ --></mo>
            </mrow>
          </mfrac>
        </mrow>
        <mspace width="thickmathspace" />
        <mo stretchy="false">&#x2192;<!-- → --></mo>
        <mspace width="thickmathspace" />
        <mo>&#x2212;<!-- − --></mo>
        <mi>c</mi>
        <mo>&lt;</mo>
        <mn>0</mn>
        <mspace width="1em" />
        <mrow class="MJX-TeXAtom-ORD">
          <mtext>for</mtext>
        </mrow>
        <mspace width="thickmathspace" />
        <mi>k</mi>
        <mo stretchy="false">&#x2192;<!-- → --></mo>
        <mi mathvariant="normal">&#x221E;<!-- ∞ --></mi>
        <mspace width="thickmathspace" />
        <mo>.</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle E\log {\frac {\|m_{k}-x^{*}\|}{\|m_{k-1}-x^{*}\|}}\;\to \;-c&lt;0\quad {\text{for}}\;k\to \infty \;.}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/ff196233cc5b7189197fb1f859aa8ca0a05fe980" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -2.671ex; width:45.312ex; height:6.509ex;" alt="E\log {\frac  {\|m_{k}-x^{*}\|}{\|m_{{k-1}}-x^{*}\|}}\;\to \;-c&lt;0\quad {\text{for}}\;k\to \infty \;."/></span></dd></dl></dd></dl>
<p>This means that on average the distance to the optimum decreases in each iteration by a "constant" factor, namely by <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \exp(-c)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>exp</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mo stretchy="false">(</mo>
        <mo>&#x2212;<!-- − --></mo>
        <mi>c</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \exp(-c)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/04d74b902d8a20f8ce55266058450e02602dea69" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:8.177ex; height:2.843ex;" alt="\exp(-c)"/></span>. The convergence rate <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle c}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>c</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle c}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/86a67b81c2de995bd608d5b2df50cd8cd7d92455" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:1.007ex; height:1.676ex;" alt="c"/></span> is roughly <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle 0.1\lambda /n}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mn>0.1</mn>
        <mi>&#x03BB;<!-- λ --></mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo>/</mo>
        </mrow>
        <mi>n</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle 0.1\lambda /n}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/46a2ff0908ef6d56861bdc50dde973863eb9ece4" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:6.884ex; height:2.843ex;" alt="0.1\lambda /n"/></span>, given <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \lambda }">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>&#x03BB;<!-- λ --></mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \lambda }</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/b43d0ea3c9c025af1be9128e62a18fa74bedda2a" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:1.355ex; height:2.176ex;" alt="\lambda "/></span> is not much larger than the dimension <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle n}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>n</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle n}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/a601995d55609f2d9f5e233e36fbe9ea26011b3b" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:1.395ex; height:1.676ex;" alt="n"/></span>. Even with optimal <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \sigma }">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>&#x03C3;<!-- σ --></mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \sigma }</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/59f59b7c3e6fdb1d0365a494b81fb9a696138c36" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:1.33ex; height:1.676ex;" alt="\sigma "/></span> and <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle C}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>C</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle C}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/4fc55753007cd3c18576f7933f6f089196732029" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:1.766ex; height:2.176ex;" alt="C"/></span>, the convergence rate <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle c}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>c</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle c}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/86a67b81c2de995bd608d5b2df50cd8cd7d92455" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:1.007ex; height:1.676ex;" alt="c"/></span>  cannot largely exceed <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle 0.25\lambda /n}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mn>0.25</mn>
        <mi>&#x03BB;<!-- λ --></mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo>/</mo>
        </mrow>
        <mi>n</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle 0.25\lambda /n}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/58283d31d72ec6347c26572c9360a14b3d4e81be" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:8.047ex; height:2.843ex;" alt="0.25\lambda /n"/></span>, given the above recombination weights <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle w_{i}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>w</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>i</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle w_{i}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/fe22f0329d3ecb2e1880d44d191aba0e5475db68" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:2.464ex; height:2.009ex;" alt="w_{i}"/></span> are all non-negative. The actual linear dependencies in <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \lambda }">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>&#x03BB;<!-- λ --></mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \lambda }</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/b43d0ea3c9c025af1be9128e62a18fa74bedda2a" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:1.355ex; height:2.176ex;" alt="\lambda "/></span> and <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle n}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>n</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle n}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/a601995d55609f2d9f5e233e36fbe9ea26011b3b" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:1.395ex; height:1.676ex;" alt="n"/></span> are remarkable and they are in both cases the best one can hope for in this kind of algorithm. Yet, a rigorous proof of convergence is missing.
</p>
<h3><span class="mw-headline" id="Interpretation_as_coordinate-system_transformation">Interpretation as coordinate-system transformation</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=CMA-ES&amp;action=edit&amp;section=11" title="Edit section: Interpretation as coordinate-system transformation">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Using a non-identity covariance matrix for the <a href="/wiki/Multivariate_normal_distribution" title="Multivariate normal distribution">multivariate normal distribution</a> in <a href="/wiki/Evolution_strategies" class="mw-redirect" title="Evolution strategies">evolution strategies</a> is equivalent to a coordinate system transformation of the solution vectors,<sup id="cite_ref-hansen2008_7-0" class="reference"><a href="#cite_note-hansen2008-7">&#91;7&#93;</a></sup> mainly because the sampling equation
</p>
<dl><dd><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle {\begin{aligned}x_{i}&amp;\sim \ m_{k}+\sigma _{k}\times {\mathcal {N}}(0,C_{k})\\&amp;\sim \ m_{k}+\sigma _{k}\times C_{k}^{1/2}{\mathcal {N}}(0,I)\end{aligned}}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mrow class="MJX-TeXAtom-ORD">
          <mtable columnalign="right left right left right left right left right left right left" rowspacing="3pt" columnspacing="0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em" displaystyle="true">
            <mtr>
              <mtd>
                <msub>
                  <mi>x</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>i</mi>
                  </mrow>
                </msub>
              </mtd>
              <mtd>
                <mi></mi>
                <mo>&#x223C;<!-- ∼ --></mo>
                <mtext>&#xA0;</mtext>
                <msub>
                  <mi>m</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>k</mi>
                  </mrow>
                </msub>
                <mo>+</mo>
                <msub>
                  <mi>&#x03C3;<!-- σ --></mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>k</mi>
                  </mrow>
                </msub>
                <mo>&#x00D7;<!-- × --></mo>
                <mrow class="MJX-TeXAtom-ORD">
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi class="MJX-tex-caligraphic" mathvariant="script">N</mi>
                  </mrow>
                </mrow>
                <mo stretchy="false">(</mo>
                <mn>0</mn>
                <mo>,</mo>
                <msub>
                  <mi>C</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>k</mi>
                  </mrow>
                </msub>
                <mo stretchy="false">)</mo>
              </mtd>
            </mtr>
            <mtr>
              <mtd />
              <mtd>
                <mi></mi>
                <mo>&#x223C;<!-- ∼ --></mo>
                <mtext>&#xA0;</mtext>
                <msub>
                  <mi>m</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>k</mi>
                  </mrow>
                </msub>
                <mo>+</mo>
                <msub>
                  <mi>&#x03C3;<!-- σ --></mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>k</mi>
                  </mrow>
                </msub>
                <mo>&#x00D7;<!-- × --></mo>
                <msubsup>
                  <mi>C</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>k</mi>
                  </mrow>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mn>1</mn>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mo>/</mo>
                    </mrow>
                    <mn>2</mn>
                  </mrow>
                </msubsup>
                <mrow class="MJX-TeXAtom-ORD">
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi class="MJX-tex-caligraphic" mathvariant="script">N</mi>
                  </mrow>
                </mrow>
                <mo stretchy="false">(</mo>
                <mn>0</mn>
                <mo>,</mo>
                <mi>I</mi>
                <mo stretchy="false">)</mo>
              </mtd>
            </mtr>
          </mtable>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle {\begin{aligned}x_{i}&amp;\sim \ m_{k}+\sigma _{k}\times {\mathcal {N}}(0,C_{k})\\&amp;\sim \ m_{k}+\sigma _{k}\times C_{k}^{1/2}{\mathcal {N}}(0,I)\end{aligned}}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/3687a735b642f74fe283891e0a65b7c1dfb7f204" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -2.838ex; width:29.734ex; height:6.843ex;" alt="{\begin{aligned}x_{i}&amp;\sim \ m_{k}+\sigma _{k}\times {\mathcal  {N}}(0,C_{k})\\&amp;\sim \ m_{k}+\sigma _{k}\times C_{k}^{{1/2}}{\mathcal  {N}}(0,I)\end{aligned}}"/></span></dd></dl>
<p>can be equivalently expressed in an "encoded space" as 
</p>
<dl><dd><span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \underbrace {C_{k}^{-1/2}x_{i}} _{{\text{represented in the encode space}}\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!}\sim \ \underbrace {C_{k}^{-1/2}m_{k}} {}+\sigma _{k}\times {\mathcal {N}}(0,I)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <munder>
          <mrow class="MJX-TeXAtom-OP MJX-fixedlimits">
            <munder>
              <mrow>
                <msubsup>
                  <mi>C</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>k</mi>
                  </mrow>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mo>&#x2212;<!-- − --></mo>
                    <mn>1</mn>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mo>/</mo>
                    </mrow>
                    <mn>2</mn>
                  </mrow>
                </msubsup>
                <msub>
                  <mi>x</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>i</mi>
                  </mrow>
                </msub>
              </mrow>
              <mo>&#x23DF;<!-- ⏟ --></mo>
            </munder>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mrow class="MJX-TeXAtom-ORD">
              <mtext>represented in the encode space</mtext>
            </mrow>
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
            <mspace width="negativethinmathspace" />
          </mrow>
        </munder>
        <mo>&#x223C;<!-- ∼ --></mo>
        <mtext>&#xA0;</mtext>
        <mrow class="MJX-TeXAtom-OP MJX-fixedlimits">
          <munder>
            <mrow>
              <msubsup>
                <mi>C</mi>
                <mrow class="MJX-TeXAtom-ORD">
                  <mi>k</mi>
                </mrow>
                <mrow class="MJX-TeXAtom-ORD">
                  <mo>&#x2212;<!-- − --></mo>
                  <mn>1</mn>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mo>/</mo>
                  </mrow>
                  <mn>2</mn>
                </mrow>
              </msubsup>
              <msub>
                <mi>m</mi>
                <mrow class="MJX-TeXAtom-ORD">
                  <mi>k</mi>
                </mrow>
              </msub>
            </mrow>
            <mo>&#x23DF;<!-- ⏟ --></mo>
          </munder>
        </mrow>
        <mrow class="MJX-TeXAtom-ORD">

        </mrow>
        <mo>+</mo>
        <msub>
          <mi>&#x03C3;<!-- σ --></mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </msub>
        <mo>&#x00D7;<!-- × --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mrow class="MJX-TeXAtom-ORD">
            <mi class="MJX-tex-caligraphic" mathvariant="script">N</mi>
          </mrow>
        </mrow>
        <mo stretchy="false">(</mo>
        <mn>0</mn>
        <mo>,</mo>
        <mi>I</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \underbrace {C_{k}^{-1/2}x_{i}} _{{\text{represented in the encode space}}\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!}\sim \ \underbrace {C_{k}^{-1/2}m_{k}} {}+\sigma _{k}\times {\mathcal {N}}(0,I)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/a9af244fd0e2c2e6cab5c9c361302324b0329bfc" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -4.838ex; width:36.81ex; height:7.509ex;" alt="\underbrace {C_{k}^{{-1/2}}x_{i}}_{{{\text{represented in the encode space}}\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!\!}}\sim \ \underbrace {C_{k}^{{-1/2}}m_{k}}{}+\sigma _{k}\times {\mathcal  {N}}(0,I)"/></span></dd></dl>
<p>The covariance matrix defines a <a href="/wiki/Bijective" class="mw-redirect" title="Bijective">bijective</a> transformation (encoding) for all solution vectors into a space, where the sampling takes place with identity covariance matrix. Because the update equations in the CMA-ES are invariant under linear coordinate system transformations, the CMA-ES can be re-written as an adaptive encoding procedure applied to a simple <a href="/wiki/Evolution_strategy" title="Evolution strategy">evolution strategy</a> with identity covariance matrix.<sup id="cite_ref-hansen2008_7-1" class="reference"><a href="#cite_note-hansen2008-7">&#91;7&#93;</a></sup>
This adaptive encoding procedure is not confined to algorithms that sample from a multivariate normal distribution (like evolution strategies), but can in principle be applied to any iterative search method.
</p>
<h2><span class="mw-headline" id="Performance_in_practice">Performance in practice</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=CMA-ES&amp;action=edit&amp;section=12" title="Edit section: Performance in practice">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>In contrast to most other <a href="/wiki/Evolutionary_algorithms" class="mw-redirect" title="Evolutionary algorithms">evolutionary algorithms</a>, the CMA-ES is, from the user's perspective, quasi parameter-free. The user has to choose an initial solution point, <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle m_{0}\in \mathbb {R} ^{n}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>m</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>0</mn>
          </mrow>
        </msub>
        <mo>&#x2208;<!-- ∈ --></mo>
        <msup>
          <mrow class="MJX-TeXAtom-ORD">
            <mi mathvariant="double-struck">R</mi>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>n</mi>
          </mrow>
        </msup>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle m_{0}\in \mathbb {R} ^{n}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/458299df1287d0ed436e9e162d0efe59966197b2" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:8.832ex; height:2.676ex;" alt="m_{0}\in {\mathbb  {R}}^{n}"/></span>, and the initial step-size, <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \sigma _{0}&gt;0}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>&#x03C3;<!-- σ --></mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>0</mn>
          </mrow>
        </msub>
        <mo>&gt;</mo>
        <mn>0</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \sigma _{0}&gt;0}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/06919e9a09e767e4c8b9a7c41c86fa8e33c03109" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:6.643ex; height:2.509ex;" alt="\sigma _{0}&gt;0"/></span>. Optionally, the number of candidate samples λ (population size) can be modified by the user in order to change the characteristic search behavior (see above) and termination conditions can or should be adjusted to the problem at hand.
</p><p>The CMA-ES has been empirically successful in hundreds of applications and is considered to be useful in particular on non-convex, non-separable, ill-conditioned, multi-modal or noisy objective functions.<sup id="cite_ref-8" class="reference"><a href="#cite_note-8">&#91;8&#93;</a></sup> The search space dimension ranges typically between two and a few hundred. Assuming a black-box optimization scenario, where gradients are not available (or not useful) and function evaluations are the only considered cost of search, the CMA-ES method is likely to be outperformed by other methods in the following conditions:
</p>
<ul><li>on low-dimensional functions, say <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle n&lt;5}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>n</mi>
        <mo>&lt;</mo>
        <mn>5</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle n&lt;5}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/e4473bbd5ee9884c6bbf931309c7b835e10d595e" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:5.656ex; height:2.176ex;" alt="n&lt;5"/></span>, for example by the <a href="/wiki/Nelder-Mead_method" class="mw-redirect" title="Nelder-Mead method">downhill simplex method</a> or surrogate-based methods (like <a href="/wiki/Kriging" title="Kriging">kriging</a> with expected improvement);</li>
<li>on separable functions without or with only negligible dependencies between the design variables in particular in the case of multi-modality or large dimension, for example by <a href="/wiki/Differential_evolution" title="Differential evolution">differential evolution</a>;</li>
<li>on (nearly) <a href="/wiki/Convex_function" title="Convex function">convex</a>-quadratic functions with low or moderate <a href="/wiki/Condition_number" title="Condition number">condition number</a> of the <a href="/wiki/Hessian_matrix" title="Hessian matrix">Hessian matrix</a>, where <a href="/wiki/BFGS_method" class="mw-redirect" title="BFGS method">BFGS</a> or <a href="/wiki/NEWUOA" title="NEWUOA">NEWUOA</a> are typically ten times faster;</li>
<li>on functions that can already be solved with a comparatively small number of function evaluations, say no more than <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle 10n}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mn>10</mn>
        <mi>n</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle 10n}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/a0b721d50f588631521e4536a755ee5dbe72c385" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:3.72ex; height:2.176ex;" alt="10n"/></span>, where CMA-ES is often slower than, for example, <a href="/wiki/NEWUOA" title="NEWUOA">NEWUOA</a> or <a href="/wiki/MCS_algorithm" title="MCS algorithm">Multilevel Coordinate Search</a> (MCS).</li></ul>
<p>On separable functions, the performance disadvantage is likely to be most significant in that CMA-ES might not be able to find at all comparable solutions. On the other hand, on non-separable functions that are ill-conditioned or rugged or can only be solved with more than <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle 100n}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mn>100</mn>
        <mi>n</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle 100n}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/5ef4cb62b44e80bb9945558cf881737c947356f9" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.338ex; width:4.882ex; height:2.176ex;" alt="100n"/></span> function evaluations, the CMA-ES shows most often superior performance.
</p>
<h2><span class="mw-headline" id="Variations_and_extensions">Variations and extensions</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=CMA-ES&amp;action=edit&amp;section=13" title="Edit section: Variations and extensions">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The (1+1)-CMA-ES<sup id="cite_ref-9" class="reference"><a href="#cite_note-9">&#91;9&#93;</a></sup> generates only one candidate solution per iteration step which becomes the new distribution mean if it is better than the current mean. For <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle c_{c}=1}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>c</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>c</mi>
          </mrow>
        </msub>
        <mo>=</mo>
        <mn>1</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle c_{c}=1}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/09ea11ee876b6db60d940e7feef8acd3853d5f19" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:6.212ex; height:2.509ex;" alt="c_{c}=1"/></span> the (1+1)-CMA-ES is a close variant of <a href="/wiki/Gaussian_adaptation" title="Gaussian adaptation">Gaussian adaptation</a>. Some <a href="/wiki/Natural_Evolution_Strategies" class="mw-redirect" title="Natural Evolution Strategies">Natural Evolution Strategies</a> are close variants of the CMA-ES with specific parameter settings. Natural Evolution Strategies do not utilize evolution paths (that means in CMA-ES setting <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle c_{c}=c_{\sigma }=1}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>c</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>c</mi>
          </mrow>
        </msub>
        <mo>=</mo>
        <msub>
          <mi>c</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>&#x03C3;<!-- σ --></mi>
          </mrow>
        </msub>
        <mo>=</mo>
        <mn>1</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle c_{c}=c_{\sigma }=1}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/bdb65b58aa39ff643368030477f9ef6f3bf64e88" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.671ex; width:11.49ex; height:2.509ex;" alt="c_{c}=c_{\sigma }=1"/></span>) and they formalize the update of variances and covariances on a <a href="/wiki/Cholesky_decomposition" title="Cholesky decomposition">Cholesky factor</a> instead of a covariance matrix. The CMA-ES has also been extended to <a href="/wiki/Multiobjective_optimization" class="mw-redirect" title="Multiobjective optimization">multiobjective optimization</a> as MO-CMA-ES.<sup id="cite_ref-10" class="reference"><a href="#cite_note-10">&#91;10&#93;</a></sup> Another remarkable extension has been the addition of a negative update of the covariance matrix with the so-called active CMA.<sup id="cite_ref-11" class="reference"><a href="#cite_note-11">&#91;11&#93;</a></sup>
Using the additional active CMA update is considered as the default variant nowadays.<sup id="cite_ref-12" class="reference"><a href="#cite_note-12">&#91;12&#93;</a></sup>
</p>
<h2><span class="mw-headline" id="See_also">See also</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=CMA-ES&amp;action=edit&amp;section=14" title="Edit section: See also">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li><a href="/wiki/Global_optimization" title="Global optimization">Global optimization</a></li>
<li><a href="/wiki/Stochastic_optimization" title="Stochastic optimization">Stochastic optimization</a></li>
<li><a href="/wiki/Derivative-free_optimization" title="Derivative-free optimization">Derivative-free optimization</a></li>
<li><a href="/wiki/Estimation_of_distribution_algorithm" title="Estimation of distribution algorithm">Estimation of distribution algorithm</a></li></ul>
<h2><span class="mw-headline" id="References">References</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=CMA-ES&amp;action=edit&amp;section=15" title="Edit section: References">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<div class="reflist" style="list-style-type: decimal;">
<div class="mw-references-wrap mw-references-columns"><ol class="references">
<li id="cite_note-1"><span class="mw-cite-backlink"><b><a href="#cite_ref-1">^</a></b></span> <span class="reference-text"><cite id="CITEREFHansen2006" class="citation">Hansen, N. (2006), "The CMA evolution strategy: a comparing review", <i>Towards a new evolutionary computation. Advances on estimation of distribution algorithms</i>, Springer, pp.&#160;1769–1776, <a href="/wiki/CiteSeerX" title="CiteSeerX">CiteSeerX</a>&#160;<span class="cs1-lock-free" title="Freely accessible"><a rel="nofollow" class="external text" href="//citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.139.7369">10.1.1.139.7369</a></span></cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=bookitem&amp;rft.atitle=The+CMA+evolution+strategy%3A+a+comparing+review&amp;rft.btitle=Towards+a+new+evolutionary+computation.+Advances+on+estimation+of+distribution+algorithms&amp;rft.pages=1769-1776&amp;rft.pub=Springer&amp;rft.date=2006&amp;rft_id=%2F%2Fciteseerx.ist.psu.edu%2Fviewdoc%2Fsummary%3Fdoi%3D10.1.1.139.7369&amp;rft.aulast=Hansen&amp;rft.aufirst=N.&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ACMA-ES" class="Z3988"></span><style data-mw-deduplicate="TemplateStyles:r935243608">.mw-parser-output cite.citation{font-style:inherit}.mw-parser-output .citation q{quotes:"\"""\"""'""'"}.mw-parser-output .id-lock-free a,.mw-parser-output .citation .cs1-lock-free a{background:url("//upload.wikimedia.org/wikipedia/commons/thumb/6/65/Lock-green.svg/9px-Lock-green.svg.png")no-repeat;background-position:right .1em center}.mw-parser-output .id-lock-limited a,.mw-parser-output .id-lock-registration a,.mw-parser-output .citation .cs1-lock-limited a,.mw-parser-output .citation .cs1-lock-registration a{background:url("//upload.wikimedia.org/wikipedia/commons/thumb/d/d6/Lock-gray-alt-2.svg/9px-Lock-gray-alt-2.svg.png")no-repeat;background-position:right .1em center}.mw-parser-output .id-lock-subscription a,.mw-parser-output .citation .cs1-lock-subscription a{background:url("//upload.wikimedia.org/wikipedia/commons/thumb/a/aa/Lock-red-alt-2.svg/9px-Lock-red-alt-2.svg.png")no-repeat;background-position:right .1em center}.mw-parser-output .cs1-subscription,.mw-parser-output .cs1-registration{color:#555}.mw-parser-output .cs1-subscription span,.mw-parser-output .cs1-registration span{border-bottom:1px dotted;cursor:help}.mw-parser-output .cs1-ws-icon a{background:url("//upload.wikimedia.org/wikipedia/commons/thumb/4/4c/Wikisource-logo.svg/12px-Wikisource-logo.svg.png")no-repeat;background-position:right .1em center}.mw-parser-output code.cs1-code{color:inherit;background:inherit;border:inherit;padding:inherit}.mw-parser-output .cs1-hidden-error{display:none;font-size:100%}.mw-parser-output .cs1-visible-error{font-size:100%}.mw-parser-output .cs1-maint{display:none;color:#33aa33;margin-left:0.3em}.mw-parser-output .cs1-subscription,.mw-parser-output .cs1-registration,.mw-parser-output .cs1-format{font-size:95%}.mw-parser-output .cs1-kern-left,.mw-parser-output .cs1-kern-wl-left{padding-left:0.2em}.mw-parser-output .cs1-kern-right,.mw-parser-output .cs1-kern-wl-right{padding-right:0.2em}</style></span>
</li>
<li id="cite_note-2"><span class="mw-cite-backlink"><b><a href="#cite_ref-2">^</a></b></span> <span class="reference-text"><cite class="citation conference">Auger, A.; N. Hansen (2005). <a rel="nofollow" class="external text" href="http://www.lri.fr/~auger/cec-restartcma.pdf">"A Restart CMA Evolution Strategy With Increasing Population Size"</a> <span class="cs1-format">(PDF)</span>. <i>2005 IEEE Congress on Evolutionary Computation, Proceedings</i>. IEEE. pp.&#160;1769–1776.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=conference&amp;rft.atitle=A+Restart+CMA+Evolution+Strategy+With+Increasing+Population+Size&amp;rft.btitle=2005+IEEE+Congress+on+Evolutionary+Computation%2C+Proceedings&amp;rft.pages=1769-1776&amp;rft.pub=IEEE&amp;rft.date=2005&amp;rft.aulast=Auger&amp;rft.aufirst=A.&amp;rft.au=N.+Hansen&amp;rft_id=http%3A%2F%2Fwww.lri.fr%2F~auger%2Fcec-restartcma.pdf&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ACMA-ES" class="Z3988"></span><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r935243608"/></span>
</li>
<li id="cite_note-3"><span class="mw-cite-backlink"><b><a href="#cite_ref-3">^</a></b></span> <span class="reference-text"><cite class="citation journal">Shir, O.M.; A. Yehudayoff (2020). <a rel="nofollow" class="external text" href="https://www.sciencedirect.com/science/article/pii/S0304397519305468?via%3Dihub">"On the covariance-Hessian relation in evolution strategies"</a>. <i>Theoretical Computer Science</i>. Elsevier. <b>801</b>: 157–174. <a href="/wiki/Digital_object_identifier" title="Digital object identifier">doi</a>:<a rel="nofollow" class="external text" href="https://doi.org/10.1016%2Fj.tcs.2019.09.002">10.1016/j.tcs.2019.09.002</a>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.genre=article&amp;rft.jtitle=Theoretical+Computer+Science&amp;rft.atitle=On+the+covariance-Hessian+relation+in+evolution+strategies&amp;rft.volume=801&amp;rft.pages=157-174&amp;rft.date=2020&amp;rft_id=info%3Adoi%2F10.1016%2Fj.tcs.2019.09.002&amp;rft.aulast=Shir&amp;rft.aufirst=O.M.&amp;rft.au=A.+Yehudayoff&amp;rft_id=https%3A%2F%2Fwww.sciencedirect.com%2Fscience%2Farticle%2Fpii%2FS0304397519305468%3Fvia%253Dihub&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ACMA-ES" class="Z3988"></span><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r935243608"/></span>
</li>
<li id="cite_note-akimoto2010-4"><span class="mw-cite-backlink">^ <a href="#cite_ref-akimoto2010_4-0"><sup><i><b>a</b></i></sup></a> <a href="#cite_ref-akimoto2010_4-1"><sup><i><b>b</b></i></sup></a> <a href="#cite_ref-akimoto2010_4-2"><sup><i><b>c</b></i></sup></a></span> <span class="reference-text"><cite class="citation conference">Akimoto, Y.; Y. Nagata; I. Ono; S. Kobayashi (2010). <a rel="nofollow" class="external text" href="https://www.researchgate.net/publication/220702138">"Bidirectional Relation between CMA Evolution Strategies and Natural Evolution Strategies"</a>. <i>Parallel Problem Solving from Nature, PPSN XI</i>. Springer. pp.&#160;154–163.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=conference&amp;rft.atitle=Bidirectional+Relation+between+CMA+Evolution+Strategies+and+Natural+Evolution+Strategies&amp;rft.btitle=Parallel+Problem+Solving+from+Nature%2C+PPSN+XI&amp;rft.pages=154-163&amp;rft.pub=Springer&amp;rft.date=2010&amp;rft.aulast=Akimoto&amp;rft.aufirst=Y.&amp;rft.au=Y.+Nagata&amp;rft.au=I.+Ono&amp;rft.au=S.+Kobayashi&amp;rft_id=https%3A%2F%2Fwww.researchgate.net%2Fpublication%2F220702138&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ACMA-ES" class="Z3988"></span><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r935243608"/></span>
</li>
<li id="cite_note-glasmachers2010-5"><span class="mw-cite-backlink">^ <a href="#cite_ref-glasmachers2010_5-0"><sup><i><b>a</b></i></sup></a> <a href="#cite_ref-glasmachers2010_5-1"><sup><i><b>b</b></i></sup></a></span> <span class="reference-text"><cite class="citation conference">Glasmachers, T.; T. Schaul; Y. Sun; D. Wierstra; J. Schmidhuber (2010). <a rel="nofollow" class="external text" href="http://www.idsia.ch/~tom/publications/xnes.pdf">"Exponential Natural Evolution Strategies"</a> <span class="cs1-format">(PDF)</span>. <i>Genetic and Evolutionary Computation Conference GECCO</i>. Portland, OR.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=conference&amp;rft.atitle=Exponential+Natural+Evolution+Strategies&amp;rft.btitle=Genetic+and+Evolutionary+Computation+Conference+GECCO&amp;rft.place=Portland%2C+OR&amp;rft.date=2010&amp;rft.aulast=Glasmachers&amp;rft.aufirst=T.&amp;rft.au=T.+Schaul&amp;rft.au=Y.+Sun&amp;rft.au=D.+Wierstra&amp;rft.au=J.+Schmidhuber&amp;rft_id=http%3A%2F%2Fwww.idsia.ch%2F~tom%2Fpublications%2Fxnes.pdf&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ACMA-ES" class="Z3988"></span><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r935243608"/></span>
</li>
<li id="cite_note-6"><span class="mw-cite-backlink"><b><a href="#cite_ref-6">^</a></b></span> <span class="reference-text"><cite class="citation journal">Ollivier, Y.; Arnold, L.; Auger, A.; Hansen, N. (2017). <a rel="nofollow" class="external text" href="http://www.jmlr.org/papers/volume18/14-467/14-467.pdf">"Information-Geometric Optimization Algorithms: A Unifying Picture via Invariance Principles"</a> <span class="cs1-format">(PDF)</span>. <i>Journal of Machine Learning Research</i>. <b>18</b> (18): 1−65.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.genre=article&amp;rft.jtitle=Journal+of+Machine+Learning+Research&amp;rft.atitle=Information-Geometric+Optimization+Algorithms%3A+A+Unifying+Picture+via+Invariance+Principles&amp;rft.volume=18&amp;rft.issue=18&amp;rft.pages=1%E2%88%9265&amp;rft.date=2017&amp;rft.aulast=Ollivier&amp;rft.aufirst=Y.&amp;rft.au=Arnold%2C+L.&amp;rft.au=Auger%2C+A.&amp;rft.au=Hansen%2C+N.&amp;rft_id=http%3A%2F%2Fwww.jmlr.org%2Fpapers%2Fvolume18%2F14-467%2F14-467.pdf&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ACMA-ES" class="Z3988"></span><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r935243608"/></span>
</li>
<li id="cite_note-hansen2008-7"><span class="mw-cite-backlink">^ <a href="#cite_ref-hansen2008_7-0"><sup><i><b>a</b></i></sup></a> <a href="#cite_ref-hansen2008_7-1"><sup><i><b>b</b></i></sup></a></span> <span class="reference-text"><cite class="citation conference">Hansen, N. (2008). <a rel="nofollow" class="external text" href="http://hal.archives-ouvertes.fr/inria-00287351/en/">"Adpative Encoding: How to Render Search Coordinate System Invariant"</a>. <i>Parallel Problem Solving from Nature, PPSN X</i>. Springer. pp.&#160;205–214.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=conference&amp;rft.atitle=Adpative+Encoding%3A+How+to+Render+Search+Coordinate+System+Invariant&amp;rft.btitle=Parallel+Problem+Solving+from+Nature%2C+PPSN+X&amp;rft.pages=205-214&amp;rft.pub=Springer&amp;rft.date=2008&amp;rft.aulast=Hansen&amp;rft.aufirst=N.&amp;rft_id=http%3A%2F%2Fhal.archives-ouvertes.fr%2Finria-00287351%2Fen%2F&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ACMA-ES" class="Z3988"></span><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r935243608"/></span>
</li>
<li id="cite_note-8"><span class="mw-cite-backlink"><b><a href="#cite_ref-8">^</a></b></span> <span class="reference-text"><cite class="citation web"><a rel="nofollow" class="external text" href="http://www.cmap.polytechnique.fr/~nikolaus.hansen/cmaapplications.pdf">"References to CMA-ES Applications"</a> <span class="cs1-format">(PDF)</span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=References+to+CMA-ES+Applications&amp;rft_id=http%3A%2F%2Fwww.cmap.polytechnique.fr%2F~nikolaus.hansen%2Fcmaapplications.pdf&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ACMA-ES" class="Z3988"></span><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r935243608"/></span>
</li>
<li id="cite_note-9"><span class="mw-cite-backlink"><b><a href="#cite_ref-9">^</a></b></span> <span class="reference-text"><cite class="citation conference">Igel, C.; T. Suttorp; N. Hansen (2006). <a rel="nofollow" class="external text" href="http://www.cs.york.ac.uk/rts/docs/GECCO_2006/docs/p453.pdf">"A Computational Efficient Covariance Matrix Update and a (1+1)-CMA for Evolution Strategies"</a> <span class="cs1-format">(PDF)</span>. <i>Proceedings of the Genetic and Evolutionary Computation Conference (GECCO)</i>. ACM Press. pp.&#160;453–460.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=conference&amp;rft.atitle=A+Computational+Efficient+Covariance+Matrix+Update+and+a+%281%2B1%29-CMA+for+Evolution+Strategies&amp;rft.btitle=Proceedings+of+the+Genetic+and+Evolutionary+Computation+Conference+%28GECCO%29&amp;rft.pages=453-460&amp;rft.pub=ACM+Press&amp;rft.date=2006&amp;rft.aulast=Igel&amp;rft.aufirst=C.&amp;rft.au=T.+Suttorp&amp;rft.au=N.+Hansen&amp;rft_id=http%3A%2F%2Fwww.cs.york.ac.uk%2Frts%2Fdocs%2FGECCO_2006%2Fdocs%2Fp453.pdf&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ACMA-ES" class="Z3988"></span><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r935243608"/></span>
</li>
<li id="cite_note-10"><span class="mw-cite-backlink"><b><a href="#cite_ref-10">^</a></b></span> <span class="reference-text"><cite class="citation journal">Igel, C.; N. Hansen; S. Roth (2007). "Covariance Matrix Adaptation for Multi-objective Optimization". <i>Evolutionary Computation</i>. <b>15</b> (1): 1–28. <a href="/wiki/Digital_object_identifier" title="Digital object identifier">doi</a>:<a rel="nofollow" class="external text" href="https://doi.org/10.1162%2Fevco.2007.15.1.1">10.1162/evco.2007.15.1.1</a>. <a href="/wiki/PubMed_Identifier" class="mw-redirect" title="PubMed Identifier">PMID</a>&#160;<a rel="nofollow" class="external text" href="//pubmed.ncbi.nlm.nih.gov/17388777">17388777</a>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.genre=article&amp;rft.jtitle=Evolutionary+Computation&amp;rft.atitle=Covariance+Matrix+Adaptation+for+Multi-objective+Optimization&amp;rft.volume=15&amp;rft.issue=1&amp;rft.pages=1-28&amp;rft.date=2007&amp;rft_id=info%3Adoi%2F10.1162%2Fevco.2007.15.1.1&amp;rft_id=info%3Apmid%2F17388777&amp;rft.aulast=Igel&amp;rft.aufirst=C.&amp;rft.au=N.+Hansen&amp;rft.au=S.+Roth&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ACMA-ES" class="Z3988"></span><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r935243608"/></span>
</li>
<li id="cite_note-11"><span class="mw-cite-backlink"><b><a href="#cite_ref-11">^</a></b></span> <span class="reference-text"><cite class="citation conference">Jastrebski, G.A.; D.V. Arnold (2006). "Improving Evolution Strategies through Active Covariance Matrix Adaptation". <i>2006 IEEE World Congress on Computational Intelligence, Proceedings</i>. IEEE. pp.&#160;9719–9726. <a href="/wiki/Digital_object_identifier" title="Digital object identifier">doi</a>:<a rel="nofollow" class="external text" href="https://doi.org/10.1109%2FCEC.2006.1688662">10.1109/CEC.2006.1688662</a>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=conference&amp;rft.atitle=Improving+Evolution+Strategies+through+Active+Covariance+Matrix+Adaptation&amp;rft.btitle=2006+IEEE+World+Congress+on+Computational+Intelligence%2C+Proceedings&amp;rft.pages=9719-9726&amp;rft.pub=IEEE&amp;rft.date=2006&amp;rft_id=info%3Adoi%2F10.1109%2FCEC.2006.1688662&amp;rft.aulast=Jastrebski&amp;rft.aufirst=G.A.&amp;rft.au=D.V.+Arnold&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ACMA-ES" class="Z3988"></span><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r935243608"/></span>
</li>
<li id="cite_note-12"><span class="mw-cite-backlink"><b><a href="#cite_ref-12">^</a></b></span> <span class="reference-text"><cite class="citation arxiv">Hansen, N. (2016). "The CMA Evolution Strategy: A Tutorial". <a href="/wiki/ArXiv" title="ArXiv">arXiv</a>:<span class="cs1-lock-free" title="Freely accessible"><a rel="nofollow" class="external text" href="//arxiv.org/abs/1604.00772">1604.00772</a></span> [<a rel="nofollow" class="external text" href="//arxiv.org/archive/cs.LG">cs.LG</a>].</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.genre=preprint&amp;rft.jtitle=arXiv&amp;rft.atitle=The+CMA+Evolution+Strategy%3A+A+Tutorial&amp;rft.date=2016&amp;rft_id=info%3Aarxiv%2F1604.00772&amp;rft.aulast=Hansen&amp;rft.aufirst=N.&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ACMA-ES" class="Z3988"></span><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r935243608"/></span>
</li>
</ol></div></div>
<h2><span class="mw-headline" id="Bibliography">Bibliography</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=CMA-ES&amp;action=edit&amp;section=16" title="Edit section: Bibliography">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li>Hansen N, Ostermeier A (2001). Completely derandomized self-adaptation in evolution strategies. <a rel="nofollow" class="external text" href="http://www.mitpressjournals.org/toc/evco/9/2"><i>Evolutionary Computation</i>, <b>9</b>(2)</a> pp.&#160;159–195. <a rel="nofollow" class="external autonumber" href="http://www.lri.fr/~hansen/cmaartic.pdf">[1]</a></li>
<li>Hansen N, Müller SD, Koumoutsakos P (2003). Reducing the time complexity of the derandomized evolution strategy with covariance matrix adaptation (CMA-ES). <a rel="nofollow" class="external text" href="http://www.mitpressjournals.org/toc/evco/11/1"><i>Evolutionary Computation</i>, <b>11</b>(1)</a> pp.&#160;1–18.  <a rel="nofollow" class="external autonumber" href="http://mitpress.mit.edu/journals/pdf/evco_11_1_1_0.pdf">[2]</a></li>
<li>Hansen N, Kern S (2004). Evaluating the CMA evolution strategy on multimodal test functions. In Xin Yao et al., editors, <i>Parallel Problem Solving from Nature - PPSN VIII</i>, pp.&#160;282–291, Springer. <a rel="nofollow" class="external autonumber" href="http://www.lri.fr/~hansen/ppsn2004hansenkern.pdf">[3]</a></li>
<li>Igel C, Hansen N, Roth S (2007). Covariance Matrix Adaptation for Multi-objective Optimization. <a rel="nofollow" class="external text" href="http://www.mitpressjournals.org/toc/evco/15/1"><i>Evolutionary Computation</i>, <b>15</b>(1)</a> pp.&#160;1–28. <a rel="nofollow" class="external autonumber" href="http://www.mitpressjournals.org/doi/pdfplus/10.1162/evco.2007.15.1.1">[4]</a></li></ul>
<h2><span class="mw-headline" id="External_links">External links</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=CMA-ES&amp;action=edit&amp;section=17" title="Edit section: External links">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li><a rel="nofollow" class="external text" href="http://cma.gforge.inria.fr/cmaesintro.html">A short introduction to CMA-ES by N. Hansen</a></li>
<li><a rel="nofollow" class="external text" href="https://arxiv.org/pdf/1604.00772.pdf">The CMA Evolution Strategy: A Tutorial</a></li>
<li><a rel="nofollow" class="external text" href="http://cma.gforge.inria.fr/cmaes_sourcecode_page.html">CMA-ES source code page</a></li></ul>
<div role="navigation" class="navbox" aria-labelledby="Major_subfields_of_optimization" style="padding:3px"><table class="nowraplinks mw-collapsible mw-collapsed navbox-inner" style="border-spacing:0;background:transparent;color:inherit"><tbody><tr><th scope="col" class="navbox-title" colspan="2"><div class="plainlinks hlist navbar mini"><ul><li class="nv-view"><a href="/wiki/Template:Major_subfields_of_optimization" title="Template:Major subfields of optimization"><abbr title="View this template" style=";;background:none transparent;border:none;-moz-box-shadow:none;-webkit-box-shadow:none;box-shadow:none; padding:0;">v</abbr></a></li><li class="nv-talk"><a href="/wiki/Template_talk:Major_subfields_of_optimization" title="Template talk:Major subfields of optimization"><abbr title="Discuss this template" style=";;background:none transparent;border:none;-moz-box-shadow:none;-webkit-box-shadow:none;box-shadow:none; padding:0;">t</abbr></a></li><li class="nv-edit"><a class="external text" href="https://en.wikipedia.org/w/index.php?title=Template:Major_subfields_of_optimization&amp;action=edit"><abbr title="Edit this template" style=";;background:none transparent;border:none;-moz-box-shadow:none;-webkit-box-shadow:none;box-shadow:none; padding:0;">e</abbr></a></li></ul></div><div id="Major_subfields_of_optimization" style="font-size:114%;margin:0 4em"><a href="/wiki/Optimization_(mathematics)#Major_subfields" class="mw-redirect" title="Optimization (mathematics)">Major subfields of optimization</a></div></th></tr><tr><td colspan="2" class="navbox-list navbox-odd hlist" style="width:100%;padding:0px"><div style="padding:0em 0.25em">
<ul><li><a href="/wiki/Convex_programming" class="mw-redirect" title="Convex programming">Convex programming</a></li>
<li><a href="/wiki/Integer_programming" title="Integer programming">Integer programming</a></li>
<li><a href="/wiki/Quadratic_programming" title="Quadratic programming">Quadratic programming</a></li>
<li><a href="/wiki/Nonlinear_programming" title="Nonlinear programming">Nonlinear programming</a></li>
<li><a href="/wiki/Stochastic_programming" title="Stochastic programming">Stochastic programming</a></li>
<li><a href="/wiki/Robust_optimization" title="Robust optimization">Robust optimization</a></li>
<li><a href="/wiki/Combinatorial_optimization" title="Combinatorial optimization">Combinatorial optimization</a></li>
<li><a href="/wiki/Infinite-dimensional_optimization" title="Infinite-dimensional optimization">Infinite-dimensional optimization</a></li>
<li><a href="/wiki/Metaheuristic" title="Metaheuristic">Metaheuristics</a></li>
<li><a href="/wiki/Constraint_satisfaction" title="Constraint satisfaction">Constraint satisfaction</a></li>
<li><a href="/wiki/Multiobjective_optimization" class="mw-redirect" title="Multiobjective optimization">Multiobjective optimization</a></li></ul>
</div></td></tr></tbody></table></div>
<div role="navigation" class="navbox" aria-labelledby="Evolutionary_computation" style="padding:3px"><table class="nowraplinks mw-collapsible autocollapse navbox-inner" style="border-spacing:0;background:transparent;color:inherit"><tbody><tr><th scope="col" class="navbox-title" colspan="2"><div class="plainlinks hlist navbar mini"><ul><li class="nv-view"><a href="/wiki/Template:Evolutionary_computation" title="Template:Evolutionary computation"><abbr title="View this template" style=";;background:none transparent;border:none;-moz-box-shadow:none;-webkit-box-shadow:none;box-shadow:none; padding:0;">v</abbr></a></li><li class="nv-talk"><a href="/wiki/Template_talk:Evolutionary_computation" title="Template talk:Evolutionary computation"><abbr title="Discuss this template" style=";;background:none transparent;border:none;-moz-box-shadow:none;-webkit-box-shadow:none;box-shadow:none; padding:0;">t</abbr></a></li><li class="nv-edit"><a class="external text" href="https://en.wikipedia.org/w/index.php?title=Template:Evolutionary_computation&amp;action=edit"><abbr title="Edit this template" style=";;background:none transparent;border:none;-moz-box-shadow:none;-webkit-box-shadow:none;box-shadow:none; padding:0;">e</abbr></a></li></ul></div><div id="Evolutionary_computation" style="font-size:114%;margin:0 4em"><a href="/wiki/Evolutionary_computation" title="Evolutionary computation">Evolutionary computation</a></div></th></tr><tr><th scope="row" class="navbox-group" style="width:1%">Main Topics</th><td class="navbox-list navbox-odd hlist" style="text-align:left;border-left-width:2px;border-left-style:solid;width:100%;padding:0px"><div style="padding:0em 0.25em">
<ul><li><a href="/wiki/Convergence_(evolutionary_computing)" title="Convergence (evolutionary computing)">Convergence (evolutionary computing)</a></li>
<li><a href="/wiki/Evolutionary_algorithm" title="Evolutionary algorithm">Evolutionary algorithm</a></li>
<li><a href="/wiki/Evolutionary_data_mining" title="Evolutionary data mining">Evolutionary data mining</a></li>
<li><a href="/wiki/Evolutionary_multimodal_optimization" title="Evolutionary multimodal optimization">Evolutionary multimodal optimization</a></li>
<li><a href="/wiki/Human-based_evolutionary_computation" title="Human-based evolutionary computation">Human-based evolutionary computation</a></li>
<li><a href="/wiki/Interactive_evolutionary_computation" title="Interactive evolutionary computation">Interactive evolutionary computation</a></li></ul>
</div></td></tr><tr><th scope="row" class="navbox-group" style="width:1%"><a href="/wiki/Algorithm" title="Algorithm">Algorithms</a></th><td class="navbox-list navbox-even hlist" style="text-align:left;border-left-width:2px;border-left-style:solid;width:100%;padding:0px"><div style="padding:0em 0.25em">
<ul><li><a href="/wiki/Cellular_evolutionary_algorithm" title="Cellular evolutionary algorithm">Cellular evolutionary algorithm</a></li>
<li><a class="mw-selflink selflink">Covariance Matrix Adaptation Evolution Strategy (CMA-ES)</a></li>
<li><a href="/wiki/Differential_evolution" title="Differential evolution">Differential evolution</a></li>
<li><a href="/wiki/Evolutionary_programming" title="Evolutionary programming">Evolutionary programming</a></li>
<li><a href="/wiki/Genetic_algorithm" title="Genetic algorithm">Genetic algorithm</a></li>
<li><a href="/wiki/Genetic_programming" title="Genetic programming">Genetic programming</a></li>
<li><a href="/wiki/Gene_expression_programming" title="Gene expression programming">Gene expression programming</a></li>
<li><a href="/wiki/Evolution_strategy" title="Evolution strategy">Evolution strategy</a></li>
<li><a href="/wiki/Natural_evolution_strategy" title="Natural evolution strategy">Natural evolution strategy</a></li>
<li><a href="/wiki/Neuroevolution" title="Neuroevolution">Neuroevolution</a></li>
<li><a href="/wiki/Learning_classifier_system" title="Learning classifier system">Learning classifier system</a></li></ul>
</div></td></tr><tr><th scope="row" class="navbox-group" style="width:1%">Related techniques</th><td class="navbox-list navbox-odd hlist" style="text-align:left;border-left-width:2px;border-left-style:solid;width:100%;padding:0px"><div style="padding:0em 0.25em">
<ul><li><a href="/wiki/Swarm_intelligence" title="Swarm intelligence">Swarm intelligence</a></li>
<li><a href="/wiki/Ant_colony_optimization" class="mw-redirect" title="Ant colony optimization">Ant colony optimization</a></li>
<li><a href="/wiki/Bees_algorithm" title="Bees algorithm">Bees algorithm</a></li>
<li><a href="/wiki/Cuckoo_search" title="Cuckoo search">Cuckoo search</a></li>
<li><a href="/wiki/Particle_swarm_optimization" title="Particle swarm optimization">Particle swarm optimization</a></li>
<li><a href="/wiki/Bacterial_Colony_Optimization" class="mw-redirect" title="Bacterial Colony Optimization">Bacterial Colony Optimization</a></li></ul>
</div></td></tr><tr><th scope="row" class="navbox-group" style="width:1%"><a href="/wiki/Metaheuristic" title="Metaheuristic">Metaheuristic methods</a></th><td class="navbox-list navbox-even hlist" style="text-align:left;border-left-width:2px;border-left-style:solid;width:100%;padding:0px"><div style="padding:0em 0.25em">
<ul><li><a href="/w/index.php?title=Grey_Wolf_Optimizer&amp;action=edit&amp;redlink=1" class="new" title="Grey Wolf Optimizer (page does not exist)">Grey Wolf Optimizer</a></li>
<li><a href="/wiki/Firefly_algorithm" title="Firefly algorithm">Firefly algorithm</a></li>
<li><a href="/wiki/Harmony_search" class="mw-redirect" title="Harmony search">Harmony search</a></li>
<li><a href="/wiki/Gaussian_adaptation" title="Gaussian adaptation">Gaussian adaptation</a></li>
<li><a href="/wiki/Memetic_algorithm" title="Memetic algorithm">Memetic algorithm</a></li></ul>
</div></td></tr><tr><th scope="row" class="navbox-group" style="width:1%">Related topics</th><td class="navbox-list navbox-odd hlist" style="text-align:left;border-left-width:2px;border-left-style:solid;width:100%;padding:0px"><div style="padding:0em 0.25em">
<ul><li><a href="/wiki/Artificial_development" title="Artificial development">Artificial development</a></li>
<li><a href="/wiki/Artificial_intelligence" title="Artificial intelligence">Artificial intelligence</a></li>
<li><a href="/wiki/Artificial_life" title="Artificial life">Artificial life</a></li>
<li><a href="/wiki/Digital_organism" title="Digital organism">Digital organism</a></li>
<li><a href="/wiki/Evolutionary_robotics" title="Evolutionary robotics">Evolutionary robotics</a></li>
<li><a href="/wiki/Fitness_function" title="Fitness function">Fitness function</a></li>
<li><a href="/wiki/Fitness_landscape" title="Fitness landscape">Fitness landscape</a></li>
<li><a href="/wiki/Fitness_approximation" title="Fitness approximation">Fitness approximation</a></li>
<li><a href="/wiki/Genetic_operators" class="mw-redirect" title="Genetic operators">Genetic operators</a></li>
<li><a href="/wiki/Interactive_evolutionary_computation" title="Interactive evolutionary computation">Interactive evolutionary computation</a></li>
<li><a href="/wiki/No_free_lunch_in_search_and_optimization" title="No free lunch in search and optimization">No free lunch in search and optimization</a></li>
<li><a href="/wiki/Machine_learning" title="Machine learning">Machine learning</a></li>
<li><a href="/wiki/Mating_pool" title="Mating pool">Mating pool</a></li>
<li><a href="/wiki/Program_synthesis" title="Program synthesis">Program synthesis</a></li></ul>
</div></td></tr><tr><th scope="row" class="navbox-group" style="width:1%"><a href="/wiki/Academic_journal" title="Academic journal">Journals</a></th><td class="navbox-list navbox-even hlist" style="text-align:left;border-left-width:2px;border-left-style:solid;width:100%;padding:0px"><div style="padding:0em 0.25em">
<ul><li><a href="/wiki/Evolutionary_Computation_(journal)" title="Evolutionary Computation (journal)">Evolutionary Computation (journal)</a></li></ul>
</div></td></tr></tbody></table></div>
<!-- 
NewPP limit report
Parsed by mw1224
Cached time: 20200206134416
Cache expiry: 2592000
Dynamic content: false
Complications: [vary‐revision‐sha1]
CPU time usage: 0.616 seconds
Real time usage: 0.895 seconds
Preprocessor visited node count: 2261/1000000
Preprocessor generated node count: 0/1500000
Post‐expand include size: 39194/2097152 bytes
Template argument size: 262/2097152 bytes
Highest expansion depth: 8/40
Expensive parser function count: 3/500
Unstrip recursion depth: 1/20
Unstrip post‐expand size: 71919/5000000 bytes
Number of Wikibase entities loaded: 3/400
Lua time usage: 0.157/10.000 seconds
Lua memory usage: 3.59 MB/50 MB
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%  284.356      1 -total
 85.45%  242.975      1 Template:Reflist
 39.54%  112.427      1 Template:Citation
 13.16%   37.417      6 Template:Cite_conference
 12.02%   34.180      3 Template:Cite_journal
 10.19%   28.963      1 Template:Cite_arXiv
  6.83%   19.434      2 Template:Navbox
  6.57%   18.680      1 Template:Major_subfields_of_optimization
  2.63%    7.488      1 Template:Evolutionary_computation
  2.06%    5.860      1 Template:Cite_web
-->

<!-- Saved in parser cache with key enwiki:pcache:idhash:8143131-0!canonical!math=5 and timestamp 20200206134442 and revision id 939438931
 -->
</div><noscript><img src="//en.wikipedia.org/wiki/Special:CentralAutoLogin/start?type=1x1" alt="" title="" width="1" height="1" style="border: none; position: absolute;" /></noscript></div>
		<div class="printfooter">Retrieved from "<a dir="ltr" href="https://en.wikipedia.org/w/index.php?title=CMA-ES&amp;oldid=939438931">https://en.wikipedia.org/w/index.php?title=CMA-ES&amp;oldid=939438931</a>"</div>
		<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="/wiki/Help:Category" title="Help:Category">Categories</a>: <ul><li><a href="/wiki/Category:Evolutionary_algorithms" title="Category:Evolutionary algorithms">Evolutionary algorithms</a></li><li><a href="/wiki/Category:Stochastic_optimization" title="Category:Stochastic optimization">Stochastic optimization</a></li><li><a href="/wiki/Category:Optimization_algorithms_and_methods" title="Category:Optimization algorithms and methods">Optimization algorithms and methods</a></li></ul></div></div>
		<div class="visualClear"></div>
		
	</div>
</div>
<div id='mw-data-after-content'>
	<div class="read-more-container"></div>
</div>

<div id="mw-navigation">
    <h2>Navigation menu</h2>
    <div id="mw-head">
        
<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
	<h3 id="p-personal-label">Personal tools</h3>
	<ul >
		
		<li id="pt-anonuserpage">Not logged in</li>
		<li id="pt-anontalk"><a href="/wiki/Special:MyTalk" title="Discussion about edits from this IP address [n]" accesskey="n">Talk</a></li><li id="pt-anoncontribs"><a href="/wiki/Special:MyContributions" title="A list of edits made from this IP address [y]" accesskey="y">Contributions</a></li><li id="pt-createaccount"><a href="/w/index.php?title=Special:CreateAccount&amp;returnto=CMA-ES" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li><li id="pt-login"><a href="/w/index.php?title=Special:UserLogin&amp;returnto=CMA-ES" title="You&#039;re encouraged to log in; however, it&#039;s not mandatory. [o]" accesskey="o">Log in</a></li>
	</ul>
</div>

        <div id="left-navigation">
            <div id="p-namespaces" role="navigation" class="vectorTabs " aria-labelledby="p-namespaces-label">
	<h3 id="p-namespaces-label">Namespaces</h3>
	<ul >
		<li id="ca-nstab-main" class="selected"><a href="/wiki/CMA-ES" title="View the content page [c]" accesskey="c">Article</a></li><li id="ca-talk"><a href="/wiki/Talk:CMA-ES" rel="discussion" title="Discussion about the content page [t]" accesskey="t">Talk</a></li>
	</ul>
</div>
<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
	<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-variants-label" />
	<h3 id="p-variants-label">
		<span>Variants</span>
	</h3>
	<ul class="menu" >
		
	</ul>
</div>

        </div>
        <div id="right-navigation">
            <div id="p-views" role="navigation" class="vectorTabs " aria-labelledby="p-views-label">
	<h3 id="p-views-label">Views</h3>
	<ul >
		<li id="ca-view" class="collapsible selected"><a href="/wiki/CMA-ES">Read</a></li><li id="ca-edit" class="collapsible"><a href="/w/index.php?title=CMA-ES&amp;action=edit" title="Edit this page [e]" accesskey="e">Edit</a></li><li id="ca-history" class="collapsible"><a href="/w/index.php?title=CMA-ES&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></li>
	</ul>
</div>
<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
	<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
	<h3 id="p-cactions-label">
		<span>More</span>
	</h3>
	<ul class="menu" >
		
	</ul>
</div>
<div id="p-search" role="search">
	<h3 >
		<label for="searchInput">Search</label>
	</h3>
	<form action="/w/index.php" id="searchform">
		<div id="simpleSearch">
			<input type="search" name="search" placeholder="Search Wikipedia" title="Search Wikipedia [f]" accesskey="f" id="searchInput"/>
			<input type="hidden" value="Special:Search" name="title"/>
			<input type="submit" name="fulltext" value="Search" title="Search Wikipedia for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/>
			<input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>
		</div>
	</form>
</div>

        </div>
    </div>
    <div id="mw-panel">
        <div id="p-logo" role="banner">
            <a  title="Visit the main page" class="mw-wiki-logo" href="/wiki/Main_Page"></a>
        </div>
        
<div class="portal" role="navigation" id="p-navigation"  aria-labelledby="p-navigation-label">
	<h3  id="p-navigation-label">
		Navigation
	</h3>
	<div class="body">
		<ul><li id="n-mainpage-description"><a href="/wiki/Main_Page" title="Visit the main page [z]" accesskey="z">Main page</a></li><li id="n-contents"><a href="/wiki/Wikipedia:Contents" title="Guides to browsing Wikipedia">Contents</a></li><li id="n-featuredcontent"><a href="/wiki/Wikipedia:Featured_content" title="Featured content – the best of Wikipedia">Featured content</a></li><li id="n-currentevents"><a href="/wiki/Portal:Current_events" title="Find background information on current events">Current events</a></li><li id="n-randompage"><a href="/wiki/Special:Random" title="Load a random article [x]" accesskey="x">Random article</a></li><li id="n-sitesupport"><a href="https://donate.wikimedia.org/wiki/Special:FundraiserRedirector?utm_source=donate&amp;utm_medium=sidebar&amp;utm_campaign=C13_en.wikipedia.org&amp;uselang=en" title="Support us">Donate to Wikipedia</a></li><li id="n-shoplink"><a href="//shop.wikimedia.org" title="Visit the Wikipedia store">Wikipedia store</a></li></ul>
		
	</div>
</div>

<div class="portal" role="navigation" id="p-interaction"  aria-labelledby="p-interaction-label">
	<h3  id="p-interaction-label">
		Interaction
	</h3>
	<div class="body">
		<ul><li id="n-help"><a href="/wiki/Help:Contents" title="Guidance on how to use and edit Wikipedia">Help</a></li><li id="n-aboutsite"><a href="/wiki/Wikipedia:About" title="Find out about Wikipedia">About Wikipedia</a></li><li id="n-portal"><a href="/wiki/Wikipedia:Community_portal" title="About the project, what you can do, where to find things">Community portal</a></li><li id="n-recentchanges"><a href="/wiki/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-contactpage"><a href="//en.wikipedia.org/wiki/Wikipedia:Contact_us" title="How to contact Wikipedia">Contact page</a></li></ul>
		
	</div>
</div>

<div class="portal" role="navigation" id="p-tb"  aria-labelledby="p-tb-label">
	<h3  id="p-tb-label">
		Tools
	</h3>
	<div class="body">
		<ul><li id="t-whatlinkshere"><a href="/wiki/Special:WhatLinksHere/CMA-ES" title="List of all English Wikipedia pages containing links to this page [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="/wiki/Special:RecentChangesLinked/CMA-ES" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-upload"><a href="/wiki/Wikipedia:File_Upload_Wizard" title="Upload files [u]" accesskey="u">Upload file</a></li><li id="t-specialpages"><a href="/wiki/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-permalink"><a href="/w/index.php?title=CMA-ES&amp;oldid=939438931" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="/w/index.php?title=CMA-ES&amp;action=info" title="More information about this page">Page information</a></li><li id="t-wikibase"><a href="https://www.wikidata.org/wiki/Special:EntityPage/Q505588" title="Link to connected data repository item [g]" accesskey="g">Wikidata item</a></li><li id="t-cite"><a href="/w/index.php?title=Special:CiteThisPage&amp;page=CMA-ES&amp;id=939438931" title="Information on how to cite this page">Cite this page</a></li></ul>
		
	</div>
</div>

<div class="portal" role="navigation" id="p-coll-print_export"  aria-labelledby="p-coll-print_export-label">
	<h3  id="p-coll-print_export-label">
		Print/export
	</h3>
	<div class="body">
		<ul><li id="coll-create_a_book"><a href="/w/index.php?title=Special:Book&amp;bookcmd=book_creator&amp;referer=CMA-ES">Create a book</a></li><li id="coll-download-as-rl"><a href="/w/index.php?title=Special:ElectronPdf&amp;page=CMA-ES&amp;action=show-download-screen">Download as PDF</a></li><li id="t-print"><a href="/w/index.php?title=CMA-ES&amp;printable=yes" title="Printable version of this page [p]" accesskey="p">Printable version</a></li></ul>
		
	</div>
</div>

<div class="portal" role="navigation" id="p-lang"  aria-labelledby="p-lang-label">
	<h3  id="p-lang-label">
		Languages
	</h3>
	<div class="body">
		<ul><li class="interlanguage-link interwiki-de"><a href="https://de.wikipedia.org/wiki/CMA-ES" title="CMA-ES – German" lang="de" hreflang="de" class="interlanguage-link-target">Deutsch</a></li><li class="interlanguage-link interwiki-fr"><a href="https://fr.wikipedia.org/wiki/Strat%C3%A9gie_d%27%C3%A9volution#CMA-ES" title="Stratégie d&#039;évolution – French" lang="fr" hreflang="fr" class="interlanguage-link-target">Français</a></li><li class="interlanguage-link interwiki-ja"><a href="https://ja.wikipedia.org/wiki/CMA-ES" title="CMA-ES – Japanese" lang="ja" hreflang="ja" class="interlanguage-link-target">日本語</a></li><li class="interlanguage-link interwiki-uk"><a href="https://uk.wikipedia.org/wiki/CMA-ES" title="CMA-ES – Ukrainian" lang="uk" hreflang="uk" class="interlanguage-link-target">Українська</a></li></ul>
		<div class="after-portlet after-portlet-lang"><span class="wb-langlinks-edit wb-langlinks-link"><a href="https://www.wikidata.org/wiki/Special:EntityPage/Q505588#sitelinks-wikipedia" title="Edit interlanguage links" class="wbc-editpage">Edit links</a></span></div>
	</div>
</div>

    </div>
</div>


<div id="footer" role="contentinfo" >
	<ul id="footer-info" class="">
		<li id="footer-info-lastmod"> This page was last edited on 6 February 2020, at 13:44<span class="anonymous-show">&#160;(UTC)</span>.</li>
		<li id="footer-info-copyright">Text is available under the <a rel="license" href="//en.wikipedia.org/wiki/Wikipedia:Text_of_Creative_Commons_Attribution-ShareAlike_3.0_Unported_License">Creative Commons Attribution-ShareAlike License</a><a rel="license" href="//creativecommons.org/licenses/by-sa/3.0/" style="display:none;"></a>;
additional terms may apply.  By using this site, you agree to the <a href="//foundation.wikimedia.org/wiki/Terms_of_Use">Terms of Use</a> and <a href="//foundation.wikimedia.org/wiki/Privacy_policy">Privacy Policy</a>. Wikipedia® is a registered trademark of the <a href="//www.wikimediafoundation.org/">Wikimedia Foundation, Inc.</a>, a non-profit organization.</li>
	</ul>
	<ul id="footer-places" class="">
		<li id="footer-places-privacy"><a href="https://foundation.wikimedia.org/wiki/Privacy_policy" class="extiw" title="wmf:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="/wiki/Wikipedia:About" title="Wikipedia:About">About Wikipedia</a></li>
		<li id="footer-places-disclaimer"><a href="/wiki/Wikipedia:General_disclaimer" title="Wikipedia:General disclaimer">Disclaimers</a></li>
		<li id="footer-places-contact"><a href="//en.wikipedia.org/wiki/Wikipedia:Contact_us">Contact Wikipedia</a></li>
		<li id="footer-places-developers"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/How_to_contribute">Developers</a></li>
		<li id="footer-places-statslink"><a href="https://stats.wikimedia.org/v2/#/en.wikipedia.org">Statistics</a></li>
		<li id="footer-places-cookiestatement"><a href="https://foundation.wikimedia.org/wiki/Cookie_statement">Cookie statement</a></li>
		<li id="footer-places-mobileview"><a href="//en.m.wikipedia.org/w/index.php?title=CMA-ES&amp;mobileaction=toggle_view_mobile" class="noprint stopMobileRedirectToggle">Mobile view</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico"><a href="https://wikimediafoundation.org/"><img src="/static/images/wikimedia-button.png" srcset="/static/images/wikimedia-button-1.5x.png 1.5x, /static/images/wikimedia-button-2x.png 2x" width="88" height="31" alt="Wikimedia Foundation"/></a></li>
		<li id="footer-poweredbyico"><a href="https://www.mediawiki.org/"><img src="/static/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/static/images/poweredby_mediawiki_132x47.png 1.5x, /static/images/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a></li>
	</ul>
	<div style="clear: both;"></div>
</div>


<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.616","walltime":"0.895","ppvisitednodes":{"value":2261,"limit":1000000},"ppgeneratednodes":{"value":0,"limit":1500000},"postexpandincludesize":{"value":39194,"limit":2097152},"templateargumentsize":{"value":262,"limit":2097152},"expansiondepth":{"value":8,"limit":40},"expensivefunctioncount":{"value":3,"limit":500},"unstrip-depth":{"value":1,"limit":20},"unstrip-size":{"value":71919,"limit":5000000},"entityaccesscount":{"value":3,"limit":400},"timingprofile":["100.00%  284.356      1 -total"," 85.45%  242.975      1 Template:Reflist"," 39.54%  112.427      1 Template:Citation"," 13.16%   37.417      6 Template:Cite_conference"," 12.02%   34.180      3 Template:Cite_journal"," 10.19%   28.963      1 Template:Cite_arXiv","  6.83%   19.434      2 Template:Navbox","  6.57%   18.680      1 Template:Major_subfields_of_optimization","  2.63%    7.488      1 Template:Evolutionary_computation","  2.06%    5.860      1 Template:Cite_web"]},"scribunto":{"limitreport-timeusage":{"value":"0.157","limit":"10.000"},"limitreport-memusage":{"value":3762973,"limit":52428800}},"cachereport":{"origin":"mw1224","timestamp":"20200206134416","ttl":2592000,"transientcontent":false}}});});</script>
<script type="application/ld+json">{"@context":"https:\/\/schema.org","@type":"Article","name":"CMA-ES","url":"https:\/\/en.wikipedia.org\/wiki\/CMA-ES","sameAs":"http:\/\/www.wikidata.org\/entity\/Q505588","mainEntity":"http:\/\/www.wikidata.org\/entity\/Q505588","author":{"@type":"Organization","name":"Contributors to Wikimedia projects"},"publisher":{"@type":"Organization","name":"Wikimedia Foundation, Inc.","logo":{"@type":"ImageObject","url":"https:\/\/www.wikimedia.org\/static\/images\/wmf-hor-googpub.png"}},"datePublished":"2006-11-27T09:04:59Z","dateModified":"2020-02-06T13:44:42Z"}</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":107,"wgHostname":"mw1262"});});</script></body></html>
